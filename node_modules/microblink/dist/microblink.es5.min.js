!function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function r(e,t){return e(t={exports:{}},t.exports),t.exports}var n=r(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),o=r(function(e){var t=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=t)}),i=(o.version,function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}),a=function(e,t,r){if(i(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}},s=function(e){return"object"==typeof e?null!==e:"function"==typeof e},c=function(e){if(!s(e))throw TypeError(e+" is not an object!");return e},l=function(e){try{return!!e()}catch(e){return!0}},u=!l(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),d=n.document,h=s(d)&&s(d.createElement),f=function(e){return h?d.createElement(e):{}},p=!u&&!l(function(){return 7!=Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a}),m=function(e,t){if(!s(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!s(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!s(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!s(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")},g=Object.defineProperty,v={f:u?Object.defineProperty:function(e,t,r){if(c(e),t=m(t,!0),c(r),p)try{return g(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},b=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},y=u?function(e,t,r){return v.f(e,t,b(1,r))}:function(e,t,r){return e[t]=r,e},w={}.hasOwnProperty,S=function(e,t){return w.call(e,t)},A=function(e,t,r){var i,s,c,l=e&A.F,u=e&A.G,d=e&A.S,h=e&A.P,f=e&A.B,p=e&A.W,m=u?o:o[t]||(o[t]={}),g=m.prototype,v=u?n:d?n[t]:(n[t]||{}).prototype;for(i in u&&(r=t),r)(s=!l&&v&&void 0!==v[i])&&S(m,i)||(c=s?v[i]:r[i],m[i]=u&&"function"!=typeof v[i]?r[i]:f&&s?a(c,n):p&&v[i]==c?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(c):h&&"function"==typeof c?a(Function.call,c):c,h&&((m.virtual||(m.virtual={}))[i]=c,e&A.R&&g&&!g[i]&&y(g,i,c)))};A.F=1,A.G=2,A.S=4,A.P=8,A.B=16,A.W=32,A.U=64,A.R=128;var x=A,E={f:{}.propertyIsEnumerable},k={}.toString,I=function(e){return k.call(e).slice(8,-1)},_=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==I(e)?e.split(""):Object(e)},C=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e},B=function(e){return _(C(e))},M=Object.getOwnPropertyDescriptor,R={f:u?M:function(e,t){if(e=B(e),t=m(t,!0),p)try{return M(e,t)}catch(e){}if(S(e,t))return b(!E.f.call(e,t),e[t])}},z=function(e,t){if(c(e),!s(t)&&null!==t)throw TypeError(t+": can't set as prototype!")},D={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=a(Function.call,R.f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return z(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:z};x(x.S,"Object",{setPrototypeOf:D.set});var L,O=o.Object.setPrototypeOf,T=Math.ceil,F=Math.floor,P=function(e){return isNaN(e=+e)?0:(e>0?F:T)(e)},j=Math.min,G=function(e){return e>0?j(P(e),9007199254740991):0},N=Math.max,H=Math.min,Y=r(function(e){var t=n["__core-js_shared__"]||(n["__core-js_shared__"]={});(e.exports=function(e,r){return t[e]||(t[e]=void 0!==r?r:{})})("versions",[]).push({version:o.version,mode:"pure",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}),q=0,U=Math.random(),Q=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++q+U).toString(36))},V=Y("keys"),W=function(e){return V[e]||(V[e]=Q(e))},K=(L=!1,function(e,t,r){var n,o=B(e),i=G(o.length),a=function(e,t){return(e=P(e))<0?N(e+t,0):H(e,t)}(r,i);if(L&&t!=t){for(;i>a;)if((n=o[a++])!=n)return!0}else for(;i>a;a++)if((L||a in o)&&o[a]===t)return L||a||0;return!L&&-1}),J=W("IE_PROTO"),X=function(e,t){var r,n=B(e),o=0,i=[];for(r in n)r!=J&&S(n,r)&&i.push(r);for(;t.length>o;)S(n,r=t[o++])&&(~K(i,r)||i.push(r));return i},$="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Z=Object.keys||function(e){return X(e,$)},ee=u?Object.defineProperties:function(e,t){c(e);for(var r,n=Z(t),o=n.length,i=0;o>i;)v.f(e,r=n[i++],t[r]);return e},te=n.document,re=te&&te.documentElement,ne=W("IE_PROTO"),oe=function(){},ie=function(){var e,t=f("iframe"),r=$.length;for(t.style.display="none",re.appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),ie=e.F;r--;)delete ie.prototype[$[r]];return ie()},ae=Object.create||function(e,t){var r;return null!==e?(oe.prototype=c(e),r=new oe,oe.prototype=null,r[ne]=e):r=ie(),void 0===t?r:ee(r,t)},se=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)},ce=[].slice,le={},ue=Function.bind||function(e){var t=i(this),r=ce.call(arguments,1),n=function(){var o=r.concat(ce.call(arguments));return this instanceof n?function(e,t,r){if(!(t in le)){for(var n=[],o=0;o<t;o++)n[o]="a["+o+"]";le[t]=Function("F,a","return new F("+n.join(",")+")")}return le[t](e,r)}(t,o.length,o):se(t,o,e)};return s(t.prototype)&&(n.prototype=t.prototype),n},de=(n.Reflect||{}).construct,he=l(function(){function e(){}return!(de(function(){},[],e)instanceof e)}),fe=!l(function(){de(function(){})});x(x.S+x.F*(he||fe),"Reflect",{construct:function(e,t){i(e),c(t);var r=arguments.length<3?e:i(arguments[2]);if(fe&&!he)return de(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(ue.apply(e,n))}var o=r.prototype,a=ae(s(o)?o:Object.prototype),l=Function.apply.call(e,a,t);return s(l)?l:a}});var pe=o.Reflect.construct,me=r(function(e){var t=function(e){var t,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,r,n){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),a=new _(n||[]);return i._invoke=function(e,t,r){var n=u;return function(o,i){if(n===h)throw new Error("Generator is already running");if(n===f){if("throw"===o)throw i;return B()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=E(a,r);if(s){if(s===p)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===u)throw n=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var c=l(e,t,r);if("normal"===c.type){if(n=r.done?f:d,c.arg===p)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=f,r.method="throw",r.arg=c.arg)}}}(e,r,a),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var u="suspendedStart",d="suspendedYield",h="executing",f="completed",p={};function m(){}function g(){}function v(){}var b={};b[i]=function(){return this};var y=Object.getPrototypeOf,w=y&&y(y(C([])));w&&w!==r&&n.call(w,i)&&(b=w);var S=v.prototype=m.prototype=Object.create(b);function A(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function x(e){var t;this._invoke=function(r,o){function i(){return new Promise(function(t,i){!function t(r,o,i,a){var s=l(e[r],e,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==typeof u&&n.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,i,a)},function(e){t("throw",e,i,a)}):Promise.resolve(u).then(function(e){c.value=e,i(c)},function(e){return t("throw",e,i,a)})}a(s.arg)}(r,o,t,i)})}return t=t?t.then(i,i):i()}}function E(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method))return p;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var o=l(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,p;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function C(e){if(e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}return{next:B}}function B(){return{value:t,done:!0}}return g.prototype=S.constructor=v,v.constructor=g,v[s]=g.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},A(x.prototype),x.prototype[a]=function(){return this},e.AsyncIterator=x,e.async=function(t,r,n,o){var i=new x(c(t,r,n,o));return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},A(S),S[s]="Generator",S[i]=function(){return this},S.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=C,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}),ge=y,ve={},be=r(function(e){var t=Y("wks"),r=n.Symbol,o="function"==typeof r;(e.exports=function(e){return t[e]||(t[e]=o&&r[e]||(o?r:Q)("Symbol."+e))}).store=t}),ye=v.f,we=be("toStringTag"),Se=function(e,t,r){e&&!S(e=r?e:e.prototype,we)&&ye(e,we,{configurable:!0,value:t})},Ae={};y(Ae,be("iterator"),function(){return this});var xe,Ee=function(e,t,r){e.prototype=ae(Ae,{next:b(1,r)}),Se(e,t+" Iterator")},ke=function(e){return Object(C(e))},Ie=W("IE_PROTO"),_e=Object.prototype,Ce=Object.getPrototypeOf||function(e){return e=ke(e),S(e,Ie)?e[Ie]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?_e:null},Be=be("iterator"),Me=!([].keys&&"next"in[].keys()),Re=function(){return this},ze=function(e,t,r,n,o,i,a){Ee(r,t,n);var s,c,l,u=function(e){if(!Me&&e in p)return p[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},d=t+" Iterator",h="values"==o,f=!1,p=e.prototype,m=p[Be]||p["@@iterator"]||o&&p[o],g=m||u(o),v=o?h?u("entries"):g:void 0,b="Array"==t&&p.entries||m;if(b&&(l=Ce(b.call(new e)))!==Object.prototype&&l.next&&Se(l,d,!0),h&&m&&"values"!==m.name&&(f=!0,g=function(){return m.call(this)}),a&&(Me||f||!p[Be])&&y(p,Be,g),ve[t]=g,ve[d]=Re,o)if(s={values:h?g:u("values"),keys:i?g:u("keys"),entries:v},a)for(c in s)c in p||ge(p,c,s[c]);else x(x.P+x.F*(Me||f),t,s);return s},De=(xe=!0,function(e,t){var r,n,o=String(C(e)),i=P(t),a=o.length;return i<0||i>=a?xe?"":void 0:(r=o.charCodeAt(i))<55296||r>56319||i+1===a||(n=o.charCodeAt(i+1))<56320||n>57343?xe?o.charAt(i):r:xe?o.slice(i,i+2):n-56320+(r-55296<<10)+65536});ze(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=De(t,r),this._i+=e.length,{value:e,done:!1})});var Le=function(e,t){return{value:t,done:!!e}};ze(Array,"Array",function(e,t){this._t=B(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,Le(1)):Le(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])},"values");ve.Arguments=ve.Array;for(var Oe=be("toStringTag"),Te="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),Fe=0;Fe<Te.length;Fe++){var Pe=Te[Fe],je=n[Pe],Ge=je&&je.prototype;Ge&&!Ge[Oe]&&y(Ge,Oe,Pe),ve[Pe]=ve.Array}var Ne,He,Ye,qe=be("toStringTag"),Ue="Arguments"==I(function(){return arguments}()),Qe=function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),qe))?r:Ue?I(t):"Object"==(n=I(t))&&"function"==typeof t.callee?"Arguments":n},Ve=function(e,t,r,n){try{return n?t(c(r)[0],r[1]):t(r)}catch(t){var o=e.return;throw void 0!==o&&c(o.call(e)),t}},We=be("iterator"),Ke=Array.prototype,Je=be("iterator"),Xe=o.getIteratorMethod=function(e){if(null!=e)return e[Je]||e["@@iterator"]||ve[Qe(e)]},$e=r(function(e){var t={},r={},n=e.exports=function(e,n,o,i,s){var l,u,d,h,f,p=s?function(){return e}:Xe(e),m=a(o,i,n?2:1),g=0;if("function"!=typeof p)throw TypeError(e+" is not iterable!");if(void 0===(f=p)||ve.Array!==f&&Ke[We]!==f){for(d=p.call(e);!(u=d.next()).done;)if((h=Ve(d,m,u.value,n))===t||h===r)return h}else for(l=G(e.length);l>g;g++)if((h=n?m(c(u=e[g])[0],u[1]):m(e[g]))===t||h===r)return h};n.BREAK=t,n.RETURN=r}),Ze=be("species"),et=function(e,t){var r,n=c(e).constructor;return void 0===n||null==(r=c(n)[Ze])?t:i(r)},tt=n.process,rt=n.setImmediate,nt=n.clearImmediate,ot=n.MessageChannel,it=n.Dispatch,at=0,st={},ct=function(){var e=+this;if(st.hasOwnProperty(e)){var t=st[e];delete st[e],t()}},lt=function(e){ct.call(e.data)};rt&&nt||(rt=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return st[++at]=function(){se("function"==typeof e?e:Function(e),t)},Ne(at),at},nt=function(e){delete st[e]},"process"==I(tt)?Ne=function(e){tt.nextTick(a(ct,e,1))}:it&&it.now?Ne=function(e){it.now(a(ct,e,1))}:ot?(Ye=(He=new ot).port2,He.port1.onmessage=lt,Ne=a(Ye.postMessage,Ye,1)):n.addEventListener&&"function"==typeof postMessage&&!n.importScripts?(Ne=function(e){n.postMessage(e+"","*")},n.addEventListener("message",lt,!1)):Ne="onreadystatechange"in f("script")?function(e){re.appendChild(f("script")).onreadystatechange=function(){re.removeChild(this),ct.call(e)}}:function(e){setTimeout(a(ct,e,1),0)});var ut={set:rt,clear:nt},dt=ut.set,ht=n.MutationObserver||n.WebKitMutationObserver,ft=n.process,pt=n.Promise,mt="process"==I(ft);function gt(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n}),this.resolve=i(t),this.reject=i(r)}var vt={f:function(e){return new gt(e)}},bt=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}},yt=n.navigator,wt=yt&&yt.userAgent||"",St=function(e,t){if(c(e),s(t)&&t.constructor===e)return t;var r=vt.f(e);return(0,r.resolve)(t),r.promise},At=be("species"),xt=be("iterator"),Et=!1;try{[7][xt]().return=function(){Et=!0}}catch(e){}var kt,It,_t,Ct,Bt,Mt,Rt=ut.set,zt=function(){var e,t,r,o=function(){var n,o;for(mt&&(n=ft.domain)&&n.exit();e;){o=e.fn,e=e.next;try{o()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(mt)r=function(){ft.nextTick(o)};else if(!ht||n.navigator&&n.navigator.standalone)if(pt&&pt.resolve){var i=pt.resolve(void 0);r=function(){i.then(o)}}else r=function(){dt.call(n,o)};else{var a=!0,s=document.createTextNode("");new ht(o).observe(s,{characterData:!0}),r=function(){s.data=a=!a}}return function(n){var o={fn:n,next:void 0};t&&(t.next=o),e||(e=o,r()),t=o}}(),Dt=n.TypeError,Lt=n.process,Ot=Lt&&Lt.versions,Tt=Ot&&Ot.v8||"",Ft=n.Promise,Pt="process"==Qe(Lt),jt=function(){},Gt=It=vt.f,Nt=!!function(){try{var e=Ft.resolve(1),t=(e.constructor={})[be("species")]=function(e){e(jt,jt)};return(Pt||"function"==typeof PromiseRejectionEvent)&&e.then(jt)instanceof t&&0!==Tt.indexOf("6.6")&&-1===wt.indexOf("Chrome/66")}catch(e){}}(),Ht=function(e){var t;return!(!s(e)||"function"!=typeof(t=e.then))&&t},Yt=function(e,t){if(!e._n){e._n=!0;var r=e._c;zt(function(){for(var n=e._v,o=1==e._s,i=0,a=function(t){var r,i,a,s=o?t.ok:t.fail,c=t.resolve,l=t.reject,u=t.domain;try{s?(o||(2==e._h&&Qt(e),e._h=1),!0===s?r=n:(u&&u.enter(),r=s(n),u&&(u.exit(),a=!0)),r===t.promise?l(Dt("Promise-chain cycle")):(i=Ht(r))?i.call(r,c,l):c(r)):l(n)}catch(e){u&&!a&&u.exit(),l(e)}};r.length>i;)a(r[i++]);e._c=[],e._n=!1,t&&!e._h&&qt(e)})}},qt=function(e){Rt.call(n,function(){var t,r,o,i=e._v,a=Ut(e);if(a&&(t=bt(function(){Pt?Lt.emit("unhandledRejection",i,e):(r=n.onunhandledrejection)?r({promise:e,reason:i}):(o=n.console)&&o.error&&o.error("Unhandled promise rejection",i)}),e._h=Pt||Ut(e)?2:1),e._a=void 0,a&&t.e)throw t.v})},Ut=function(e){return 1!==e._h&&0===(e._a||e._c).length},Qt=function(e){Rt.call(n,function(){var t;Pt?Lt.emit("rejectionHandled",e):(t=n.onrejectionhandled)&&t({promise:e,reason:e._v})})},Vt=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),Yt(t,!0))},Wt=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw Dt("Promise can't be resolved itself");(t=Ht(e))?zt(function(){var n={_w:r,_d:!1};try{t.call(e,a(Wt,n,1),a(Vt,n,1))}catch(e){Vt.call(n,e)}}):(r._v=e,r._s=1,Yt(r,!1))}catch(e){Vt.call({_w:r,_d:!1},e)}}};Nt||(Ft=function(e){!function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!")}(this,Ft,"Promise","_h"),i(e),kt.call(this);try{e(a(Wt,this,1),a(Vt,this,1))}catch(e){Vt.call(this,e)}},(kt=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=function(e,t,r){for(var n in t)r&&e[n]?e[n]=t[n]:y(e,n,t[n]);return e}(Ft.prototype,{then:function(e,t){var r=Gt(et(this,Ft));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=Pt?Lt.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&Yt(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),_t=function(){var e=new kt;this.promise=e,this.resolve=a(Wt,e,1),this.reject=a(Vt,e,1)},vt.f=Gt=function(e){return e===Ft||e===Ct?new _t(e):It(e)}),x(x.G+x.W+x.F*!Nt,{Promise:Ft}),Se(Ft,"Promise"),Mt="function"==typeof o[Bt="Promise"]?o[Bt]:n[Bt],u&&Mt&&!Mt[At]&&v.f(Mt,At,{configurable:!0,get:function(){return this}}),Ct=o.Promise,x(x.S+x.F*!Nt,"Promise",{reject:function(e){var t=Gt(this);return(0,t.reject)(e),t.promise}}),x(x.S+!0*x.F,"Promise",{resolve:function(e){return St(this===Ct?Ft:this,e)}}),x(x.S+x.F*!(Nt&&function(e,t){if(!t&&!Et)return!1;var r=!1;try{var n=[7],o=n[xt]();o.next=function(){return{done:r=!0}},n[xt]=function(){return o},e(n)}catch(e){}return r}(function(e){Ft.all(e).catch(jt)})),"Promise",{all:function(e){var t=this,r=Gt(t),n=r.resolve,o=r.reject,i=bt(function(){var r=[],i=0,a=1;$e(e,!1,function(e){var s=i++,c=!1;r.push(void 0),a++,t.resolve(e).then(function(e){c||(c=!0,r[s]=e,--a||n(r))},o)}),--a||n(r)});return i.e&&o(i.v),r.promise},race:function(e){var t=this,r=Gt(t),n=r.reject,o=bt(function(){$e(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return o.e&&n(o.v),r.promise}}),x(x.P+x.R,"Promise",{finally:function(e){var t=et(this,o.Promise||n.Promise),r="function"==typeof e;return this.then(r?function(r){return St(t,e()).then(function(){return r})}:e,r?function(r){return St(t,e()).then(function(){throw r})}:e)}}),x(x.S,"Promise",{try:function(e){var t=vt.f(this),r=bt(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}});var Kt=o.Promise;function Jt(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Kt.resolve(c).then(n,o)}var Xt=function(e){return function(){var t=this,r=arguments;return new Kt(function(n,o){var i=e.apply(t,r);function a(e){Jt(i,n,o,a,s,"next",e)}function s(e){Jt(i,n,o,a,s,"throw",e)}a(void 0)})}},$t={f:be},Zt=$t.f("iterator"),er=r(function(e){var t=Q("meta"),r=v.f,n=0,o=Object.isExtensible||function(){return!0},i=!l(function(){return o(Object.preventExtensions({}))}),a=function(e){r(e,t,{value:{i:"O"+ ++n,w:{}}})},c=e.exports={KEY:t,NEED:!1,fastKey:function(e,r){if(!s(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!S(e,t)){if(!o(e))return"F";if(!r)return"E";a(e)}return e[t].i},getWeak:function(e,r){if(!S(e,t)){if(!o(e))return!0;if(!r)return!1;a(e)}return e[t].w},onFreeze:function(e){return i&&c.NEED&&o(e)&&!S(e,t)&&a(e),e}}}),tr=(er.KEY,er.NEED,er.fastKey,er.getWeak,er.onFreeze,v.f),rr=function(e){var t=o.Symbol||(o.Symbol={});"_"==e.charAt(0)||e in t||tr(t,e,{value:$t.f(e)})},nr={f:Object.getOwnPropertySymbols},or=Array.isArray||function(e){return"Array"==I(e)},ir=$.concat("length","prototype"),ar={f:Object.getOwnPropertyNames||function(e){return X(e,ir)}},sr=ar.f,cr={}.toString,lr="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ur={f:function(e){return lr&&"[object Window]"==cr.call(e)?function(e){try{return sr(e)}catch(e){return lr.slice()}}(e):sr(B(e))}},dr=er.KEY,hr=R.f,fr=v.f,pr=ur.f,mr=n.Symbol,gr=n.JSON,vr=gr&&gr.stringify,br=be("_hidden"),yr=be("toPrimitive"),wr={}.propertyIsEnumerable,Sr=Y("symbol-registry"),Ar=Y("symbols"),xr=Y("op-symbols"),Er=Object.prototype,kr="function"==typeof mr&&!!nr.f,Ir=n.QObject,_r=!Ir||!Ir.prototype||!Ir.prototype.findChild,Cr=u&&l(function(){return 7!=ae(fr({},"a",{get:function(){return fr(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=hr(Er,t);n&&delete Er[t],fr(e,t,r),n&&e!==Er&&fr(Er,t,n)}:fr,Br=function(e){var t=Ar[e]=ae(mr.prototype);return t._k=e,t},Mr=kr&&"symbol"==typeof mr.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof mr},Rr=function(e,t,r){return e===Er&&Rr(xr,t,r),c(e),t=m(t,!0),c(r),S(Ar,t)?(r.enumerable?(S(e,br)&&e[br][t]&&(e[br][t]=!1),r=ae(r,{enumerable:b(0,!1)})):(S(e,br)||fr(e,br,b(1,{})),e[br][t]=!0),Cr(e,t,r)):fr(e,t,r)},zr=function(e,t){c(e);for(var r,n=function(e){var t=Z(e),r=nr.f;if(r)for(var n,o=r(e),i=E.f,a=0;o.length>a;)i.call(e,n=o[a++])&&t.push(n);return t}(t=B(t)),o=0,i=n.length;i>o;)Rr(e,r=n[o++],t[r]);return e},Dr=function(e){var t=wr.call(this,e=m(e,!0));return!(this===Er&&S(Ar,e)&&!S(xr,e))&&(!(t||!S(this,e)||!S(Ar,e)||S(this,br)&&this[br][e])||t)},Lr=function(e,t){if(e=B(e),t=m(t,!0),e!==Er||!S(Ar,t)||S(xr,t)){var r=hr(e,t);return!r||!S(Ar,t)||S(e,br)&&e[br][t]||(r.enumerable=!0),r}},Or=function(e){for(var t,r=pr(B(e)),n=[],o=0;r.length>o;)S(Ar,t=r[o++])||t==br||t==dr||n.push(t);return n},Tr=function(e){for(var t,r=e===Er,n=pr(r?xr:B(e)),o=[],i=0;n.length>i;)!S(Ar,t=n[i++])||r&&!S(Er,t)||o.push(Ar[t]);return o};kr||(ge((mr=function(){if(this instanceof mr)throw TypeError("Symbol is not a constructor!");var e=Q(arguments.length>0?arguments[0]:void 0),t=function(r){this===Er&&t.call(xr,r),S(this,br)&&S(this[br],e)&&(this[br][e]=!1),Cr(this,e,b(1,r))};return u&&_r&&Cr(Er,e,{configurable:!0,set:t}),Br(e)}).prototype,"toString",function(){return this._k}),R.f=Lr,v.f=Rr,ar.f=ur.f=Or,E.f=Dr,nr.f=Tr,$t.f=function(e){return Br(be(e))}),x(x.G+x.W+x.F*!kr,{Symbol:mr});for(var Fr="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Pr=0;Fr.length>Pr;)be(Fr[Pr++]);for(var jr=Z(be.store),Gr=0;jr.length>Gr;)rr(jr[Gr++]);x(x.S+x.F*!kr,"Symbol",{for:function(e){return S(Sr,e+="")?Sr[e]:Sr[e]=mr(e)},keyFor:function(e){if(!Mr(e))throw TypeError(e+" is not a symbol!");for(var t in Sr)if(Sr[t]===e)return t},useSetter:function(){_r=!0},useSimple:function(){_r=!1}}),x(x.S+x.F*!kr,"Object",{create:function(e,t){return void 0===t?ae(e):zr(ae(e),t)},defineProperty:Rr,defineProperties:zr,getOwnPropertyDescriptor:Lr,getOwnPropertyNames:Or,getOwnPropertySymbols:Tr});var Nr=l(function(){nr.f(1)});x(x.S+x.F*Nr,"Object",{getOwnPropertySymbols:function(e){return nr.f(ke(e))}}),gr&&x(x.S+x.F*(!kr||l(function(){var e=mr();return"[null]"!=vr([e])||"{}"!=vr({a:e})||"{}"!=vr(Object(e))})),"JSON",{stringify:function(e){for(var t,r,n=[e],o=1;arguments.length>o;)n.push(arguments[o++]);if(r=t=n[1],(s(t)||void 0!==e)&&!Mr(e))return or(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!Mr(t))return t}),n[1]=t,vr.apply(gr,n)}}),mr.prototype[yr]||y(mr.prototype,yr,mr.prototype.valueOf),Se(mr,"Symbol"),Se(Math,"Math",!0),Se(n.JSON,"JSON",!0),rr("asyncIterator"),rr("observable");var Hr=o.Symbol,Yr=r(function(e){function t(r){return e.exports=t="function"==typeof Hr&&"symbol"==typeof Zt?function(e){return typeof e}:function(e){return e&&"function"==typeof Hr&&e.constructor===Hr&&e!==Hr.prototype?"symbol":typeof e},t(r)}e.exports=t}),qr=function(e,t){var r=(o.Object||{})[e]||Object[e],n={};n[e]=t(r),x(x.S+x.F*l(function(){r(1)}),"Object",n)};qr("keys",function(){return function(e){return Z(ke(e))}});var Ur=o.Object.keys,Qr="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",Vr="["+Qr+"]",Wr=RegExp("^"+Vr+Vr+"*"),Kr=RegExp(Vr+Vr+"*$"),Jr=function(e,t,r){var n={},o=l(function(){return!!Qr[e]()||"​"!="​"[e]()}),i=n[e]=o?t(Xr):Qr[e];r&&(n[r]=i),x(x.P+x.F*o,"String",n)},Xr=Jr.trim=function(e,t){return e=String(C(e)),1&t&&(e=e.replace(Wr,"")),2&t&&(e=e.replace(Kr,"")),e},$r=Jr,Zr=n.parseInt,en=$r.trim,tn=/^[-+]?0[xX]/,rn=8!==Zr(Qr+"08")||22!==Zr(Qr+"0x16")?function(e,t){var r=en(String(e),3);return Zr(r,t>>>0||(tn.test(r)?16:10))}:Zr;x(x.G+x.F*(parseInt!=rn),{parseInt:rn});var nn=o.parseInt,on=o.JSON||(o.JSON={stringify:JSON.stringify}),an=function(e){return on.stringify.apply(on,arguments)};var sn=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var cn=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e};var ln=function(e,t){return!t||"object"!==Yr(t)&&"function"!=typeof t?cn(e):t};qr("getPrototypeOf",function(){return function(e){return Ce(ke(e))}});var un=o.Object.getPrototypeOf,dn=r(function(e){function t(r){return e.exports=t=O?un:function(e){return e.__proto__||un(e)},t(r)}e.exports=t}),hn=R.f;qr("getOwnPropertyDescriptor",function(){return function(e,t){return hn(B(e),t)}});var fn=o.Object,pn=function(e,t){return fn.getOwnPropertyDescriptor(e,t)};x(x.S,"Reflect",{get:function e(t,r){var n,o,i=arguments.length<3?t:arguments[2];return c(t)===i?t[r]:(n=R.f(t,r))?S(n,"value")?n.value:void 0!==n.get?n.get.call(i):void 0:s(o=Ce(t))?e(o,r,i):void 0}});var mn=o.Reflect.get;var gn=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=dn(e)););return e},vn=r(function(e){function t(r,n,o){return"undefined"!=typeof Reflect&&mn?e.exports=t=mn:e.exports=t=function(e,t,r){var n=gn(e,t);if(n){var o=pn(n,t);return o.get?o.get.call(r):o.value}},t(r,n,o||r)}e.exports=t});x(x.S+x.F*!u,"Object",{defineProperty:v.f});var bn=o.Object,yn=function(e,t,r){return bn.defineProperty(e,t,r)};function wn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),yn(e,n.key,n)}}var Sn=function(e,t,r){return t&&wn(e.prototype,t),r&&wn(e,r),e};x(x.S,"Object",{create:ae});var An=o.Object,xn=function(e,t){return An.create(e,t)},En=r(function(e){function t(r,n){return e.exports=t=O||function(e,t){return e.__proto__=t,e},t(r,n)}e.exports=t});var kn=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=xn(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&En(e,t)},In=function(e,t){return(In=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function _n(e,t){function r(){this.constructor=e}In(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function Cn(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((n=n.apply(e,t||[])).next())})}function Bn(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function Mn(e){return new Promise(function(t,r){var n=new FileReader,o="function"==typeof n.readAsBinaryString;n.onloadend=function(){var e=n.result||"";if(o)return t(e);t(function(e){var t="",r=new Uint8Array(e),n=r.byteLength,o=-1;for(;++o<n;)t+=String.fromCharCode(r[o]);return t}(e))},n.onerror=r,o?n.readAsBinaryString(e):n.readAsArrayBuffer(e)})}function Rn(e){return Mn(e).then(btoa)}var zn=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=function(e){return"function"==typeof e}});t(zn);zn.isFunction;var Dn=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=!1;t.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}});t(Dn);Dn.config;var Ln=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.hostReportError=function(e){setTimeout(function(){throw e},0)}});t(Ln);Ln.hostReportError;var On=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.empty={closed:!0,next:function(e){},error:function(e){if(Dn.config.useDeprecatedSynchronousErrorHandling)throw e;Ln.hostReportError(e)},complete:function(){}}});t(On);On.empty;var Tn=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}});t(Tn);Tn.isArray;var Fn=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=function(e){return null!==e&&"object"==typeof e}});t(Fn);Fn.isObject;var Pn=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}();t.UnsubscriptionError=r});t(Pn);Pn.UnsubscriptionError;var jn=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var r=this._parentOrParents,o=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof e)r.remove(this);else if(null!==r)for(var a=0;a<r.length;++a){r[a].remove(this)}if(zn.isFunction(o))try{o.call(this)}catch(e){t=e instanceof Pn.UnsubscriptionError?n(e.errors):[e]}if(Tn.isArray(i)){a=-1;for(var s=i.length;++a<s;){var c=i[a];if(Fn.isObject(c))try{c.unsubscribe()}catch(e){t=t||[],e instanceof Pn.UnsubscriptionError?t=t.concat(n(e.errors)):t.push(e)}}}if(t)throw new Pn.UnsubscriptionError(t)}},e.prototype.add=function(t){var r=t;if(!t)return e.EMPTY;switch(typeof t){case"function":r=new e(t);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof e)){var n=r;(r=new e)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=r._parentOrParents;if(null===o)r._parentOrParents=this;else if(o instanceof e){if(o===this)return r;r._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return r;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[r]:i.push(r),r},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function n(e){return e.reduce(function(e,t){return e.concat(t instanceof Pn.UnsubscriptionError?t.errors:t)},[])}t.Subscription=r});t(jn);jn.Subscription;var Gn=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),t.$$rxSubscriber=t.rxSubscriber});t(Gn);Gn.rxSubscriber,Gn.$$rxSubscriber;var Nn=r(function(t,r){var n,o=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=function(e){function t(r,n,o){var i=e.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=On.empty;break;case 1:if(!r){i.destination=On.empty;break}if("object"==typeof r){r instanceof t?(i.syncErrorThrowable=r.syncErrorThrowable,i.destination=r,r.add(i)):(i.syncErrorThrowable=!0,i.destination=new a(i,r));break}default:i.syncErrorThrowable=!0,i.destination=new a(i,r,n,o)}return i}return o(t,e),t.prototype[Gn.rxSubscriber]=function(){return this},t.create=function(e,r,n){var o=new t(e,r,n);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(jn.Subscription);r.Subscriber=i;var a=function(e){function t(t,r,n,o){var i,a=e.call(this)||this;a._parentSubscriber=t;var s=a;return zn.isFunction(r)?i=r:r&&(i=r.next,n=r.error,o=r.complete,r!==On.empty&&(s=Object.create(r),zn.isFunction(s.unsubscribe)&&a.add(s.unsubscribe.bind(s)),s.unsubscribe=a.unsubscribe.bind(a))),a._context=s,a._next=i,a._error=n,a._complete=o,a}return o(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;Dn.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,r=Dn.config.useDeprecatedSynchronousErrorHandling;if(this._error)r&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):Ln.hostReportError(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;Ln.hostReportError(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};Dn.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),Dn.config.useDeprecatedSynchronousErrorHandling)throw e;Ln.hostReportError(e)}},t.prototype.__tryOrSetError=function(e,t,r){if(!Dn.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,r)}catch(t){return Dn.config.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(Ln.hostReportError(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(i);r.SafeSubscriber=a});t(Nn);Nn.Subscriber,Nn.SafeSubscriber;var Hn=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.canReportError=function(e){for(;e;){var t=e,r=t.closed,n=t.destination,o=t.isStopped;if(r||o)return!1;e=n&&n instanceof Nn.Subscriber?n:null}return!0}});t(Hn);Hn.canReportError;var Yn=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.toSubscriber=function(e,t,r){if(e){if(e instanceof Nn.Subscriber)return e;if(e[Gn.rxSubscriber])return e[Gn.rxSubscriber]()}return e||t||r?new Nn.Subscriber(e,t,r):new Nn.Subscriber(On.empty)}});t(Yn);Yn.toSubscriber;var qn=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"});t(qn);qn.observable;var Un=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.noop=function(){}});t(Un);Un.noop;var Qn=r(function(e,t){function r(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:Un.noop}Object.defineProperty(t,"__esModule",{value:!0}),t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(e)},t.pipeFromArray=r});t(Qn);Qn.pipe,Qn.pipeFromArray;var Vn=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n=this.operator,o=Yn.toSubscriber(e,t,r);if(n?o.add(n.call(o,this.source)):o.add(this.source||Dn.config.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),Dn.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){Dn.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),Hn.canReportError(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=n(t))(function(t,n){var o;o=r.subscribe(function(t){try{e(t)}catch(e){n(e),o&&o.unsubscribe()}},n,t)})},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[qn.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:Qn.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=n(e))(function(e,r){var n;t.subscribe(function(e){return n=e},function(e){return r(e)},function(){return e(n)})})},e.create=function(t){return new e(t)},e}();function n(e){if(e||(e=Dn.config.Promise||Promise),!e)throw new Error("no Promise impl found");return e}t.Observable=r});t(Vn);var Wn,Kn,Jn,Xn=Vn.Observable;!function(e){e.Ok="OK",e.ResultIsNotValidJSON="RESULT_IS_NOT_VALID_JSON",e.TimedOut="CONNECTION_TIMED_OUT"}(Wn||(Wn={})),function(e){e.Face="exportFaceImage",e.FullDocument="exportFullDocumentImage",e.Signature="exportSignatureImage"}(Kn||(Kn={})),function(e){e.Step01_RemoteCameraIsRequested="STEP_1_REMOTE_CAMERA_IS_REQUESTED",e.Step02_ExchangeLinkIsGenerated="STEP_2_EXCHANGE_LINK_IS_GENERATED",e.Step03_RemoteCameraIsPending="STEP_3_REMOTE_CAMERA_IS_PENDING",e.Step04_RemoteCameraIsOpen="STEP_4_REMOTE_CAMERA_IS_OPEN",e.Step05_ImageIsUploading="STEP_5_IMAGE_IS_UPLOADING",e.Step06_ImageIsProcessing="STEP_6_IMAGE_IS_PROCESSING",e.Step07_ResultIsAvailable="STEP_7_RESULT_IS_AVAILABLE",e.ErrorHappened="ERROR_HAPPENED"}(Jn||(Jn={}));var $n="https://api.microblink.com",Zn=function(){function e(){this.authorizationHeader="",this.exportImages=!1,this.exportFullDocumentImage=!1,this.exportSignatureImage=!1,this.exportFaceImage=!1,this.detectGlare=!1,this.anonymizeCardNumber=!1,this.anonymizeIban=!1,this.anonymizeCvv=!1,this.anonymizeOwner=!1,this.allowBlurFilter=!1,this.anonymizeNetherlandsMrz=!1,this.activeRequests=[],this.userId="",this.isDataPersistingEnabled=!0,this.endpoint=$n}return e.prototype.TerminateAll=function(){this.activeRequests.forEach(function(e){e.abort()}),this.activeRequests=[]},e.prototype.SetAuthorization=function(e){this.authorizationHeader=e},e.prototype.SetExportImages=function(e){this.exportImages=e},e.prototype.SetExportFullDocumentImage=function(e){this.exportFullDocumentImage=e},e.prototype.SetExportSignatureImage=function(e){this.exportSignatureImage=e},e.prototype.SetExportFaceImage=function(e){this.exportFaceImage=e},e.prototype.SetDetectGlare=function(e){this.detectGlare=e},e.prototype.SetAllowBlurFilter=function(e){this.allowBlurFilter=e},e.prototype.SetEndpoint=function(e){this.endpoint=e},e.prototype.SetAnonymizeCardNumber=function(e){this.anonymizeCardNumber=e},e.prototype.SetAnonymizeIban=function(e){this.anonymizeIban=e},e.prototype.SetAnonymizeCvv=function(e){this.anonymizeCvv=e},e.prototype.SetAnonymizeOwner=function(e){this.anonymizeOwner=e},e.prototype.SetUserId=function(e){this.userId=e},e.prototype.SetIsDataPersistingEnabled=function(e){this.isDataPersistingEnabled=e},e.prototype.SetAnonymizeNetherlandsMrz=function(e){this.anonymizeNetherlandsMrz=e},e.prototype.Recognize=function(e,t,r){var n=this;return new Xn(function(o){var i={imageBase64:t};"string"==typeof e?i.recognizer=e:i.recognizers=e,n.exportImages&&(i.exportImages=n.exportImages),n.exportFullDocumentImage&&(i.exportFullDocumentImage=!0),n.exportSignatureImage&&(i.exportSignatureImage=!0),n.exportFaceImage&&(i.exportFaceImage=!0),n.detectGlare&&(i.detectGlare=!0),n.allowBlurFilter&&(i.allowBlurFilter=!0),n.anonymizeCardNumber&&(i.anonymizeCardNumber=!0),n.anonymizeIban&&(i.anonymizeIban=!0),n.anonymizeCvv&&(i.anonymizeCvv=!0),n.anonymizeOwner&&(i.anonymizeOwner=!0),n.userId&&(i.userId=n.userId),!1===n.isDataPersistingEnabled&&(i.disableDataPersisting=!0),n.anonymizeNetherlandsMrz&&(i.anonymizeNetherlandsMrz=!0);var a=JSON.stringify(i),s=new XMLHttpRequest;s.withCredentials=!0,r&&(s.timeout=4e4),s.open("POST",n.endpoint+"/recognize/execute"),s.setRequestHeader("Content-Type","application/json"),n.isAuthorizationHeaderValid&&s.setRequestHeader("Authorization",n.authorizationHeader),s.addEventListener("readystatechange",function(){if(4===this.readyState){var e=null;try{e=JSON.parse(this.responseText),200===this.status?(o.next(e),o.complete()):o.error(e)}catch(t){e=r&&0===this.status?{code:Wn.TimedOut,message:"Connection timed out. Please try again."}:{error:"Result is not valid JSON",code:Wn.ResultIsNotValidJSON,responseText:this.responseText},o.error(e)}}}),s.onerror=function(e){o.error(e)},r&&(s.upload.addEventListener("progress",r,!1),s.upload.addEventListener("load",r,!1)),s.send(a),n.activeRequests.push(s)})},Object.defineProperty(e.prototype,"isAuthorizationHeaderValid",{get:function(){return!!(this.authorizationHeader.startsWith("Bearer ")||this.authorizationHeader.startsWith("bearer ")||this.authorizationHeader.startsWith("Basic ")||this.authorizationHeader.startsWith("basic "))},enumerable:!0,configurable:!0}),e}(),eo=function(){function e(){}return e.getFrameQuality=function(e){return this.calculateFrameQuality(e.data,e.width,e.height)},e.calculateFrameQuality=function(e,t,r){for(var n=0,o=0,i=0;i<28;i++)for(var a=parseInt((t/29).toString(),10),s=parseInt((a*i+a/2).toString(),10),c=1;c<r-1;c++){var l=this.getIntensity(e,c,s,t),u=this.getIntensity(e,c-1,s,t);o+=1,n+=(d=l-this.getIntensity(e,c+1,s,t)-(u-l))*d}for(i=0;i<20;i++)for(a=parseInt((r/21).toString(),10),c=parseInt((a*i+a/2).toString(),10),s=1;s<t-1;s++){var d;l=this.getIntensity(e,c,s,t),u=this.getIntensity(e,c,s-1,t);o+=1,n+=(d=l-this.getIntensity(e,c,s+1,t)-(u-l))*d}var h=n/o,f=parseFloat((t*r).toString())/307200;return f>1?(f>10&&(f=10),h/=f):h*=f,h},e.getIntensity=function(e,t,r,n){var o=4*(t*n+r);return.2126*e[o]+.7152*e[o+1]+.0722*e[o+2]},e}();try{firebase.firestore().settings({})}catch(e){}for(var to=function(){function e(){}return e.createScanExchanger=function(e){return void 0===e&&(e={}),Cn(this,void 0,void 0,function(){var t;return Bn(this,function(r){switch(r.label){case 0:return t=firebase.firestore().collection("scans").doc(),e.status=Jn.Step01_RemoteCameraIsRequested,e.scanId=t.id,[4,t.set(e)];case 1:return r.sent(),[2,t]}})})},e.generateQRCode=function(e){return Cn(this,void 0,void 0,function(){var t;return Bn(this,function(r){switch(r.label){case 0:t=null,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,QRCode.toDataURL(e,{errorCorrectionLevel:"H",type:"image/png",width:1024,margin:4})];case 2:return t=r.sent(),[3,4];case 3:return r.sent(),[3,4];case 4:return[2,t]}})})},e}(),ro=function(){function e(){}return e.stringify=function(e){for(var t=[],r=0;r<e.sigBytes;r++){var n=e.words[r>>>2]>>>24-r%4*8&255;t.push((n>>>4).toString(16)),t.push((15&n).toString(16))}return t.join("")},e.parse=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new no(r,t/2)},e}(),no=function(){function e(e,t){this.words=e||[],this.sigBytes=void 0!==t?t:4*this.words.length}return e.random=function(t){for(var r=[],n=function(e){var t=987654321,r=4294967295;return function(){var n=((t=36969*(65535&t)+(t>>16)&r)<<16)+(e=18e3*(65535&e)+(e>>16)&r)&r;return n/=4294967296,(n+=.5)*(Math.random()>.5?1:-1)}},o=0,i=void 0;o<t;o+=4){var a=n(4294967296*(i||Math.random()));i=987654071*a(),r.push(4294967296*a()|0)}return new e(r,t)},e.prototype.toString=function(e){return(e||ro).stringify(this)},e.prototype.concat=function(e){if(this.clamp(),this.sigBytes%4)for(var t=0;t<e.sigBytes;t++){var r=e.words[t>>>2]>>>24-t%4*8&255;this.words[this.sigBytes+t>>>2]|=r<<24-(this.sigBytes+t)%4*8}else for(t=0;t<e.sigBytes;t+=4)this.words[this.sigBytes+t>>>2]=e.words[t>>>2];return this.sigBytes+=e.sigBytes,this},e.prototype.clamp=function(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)},e.prototype.clone=function(){return new e(this.words.slice(0),this.sigBytes)},e}(),oo=function(){function e(){}return e.stringify=function(e){for(var t=[],r=0;r<e.sigBytes;r++){var n=e.words[r>>>2]>>>24-r%4*8&255;t.push(String.fromCharCode(n))}return t.join("")},e.parse=function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new no(r,t)},e}(),io=function(){function e(){}return e.stringify=function(e){try{return decodeURIComponent(escape(oo.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},e.parse=function(e){return oo.parse(unescape(encodeURIComponent(e)))},e}(),ao=function(){function e(e){this._minBufferSize=0,this.cfg=Object.assign({blockSize:1},e),this._data=new no,this._nDataBytes=0}return e.prototype.reset=function(){this._data=new no,this._nDataBytes=0},e.prototype._append=function(e){"string"==typeof e&&(e=io.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},e.prototype._process=function(e){if(!this.cfg.blockSize)throw new Error("missing blockSize in config");var t,r=4*this.cfg.blockSize,n=this._data.sigBytes/r,o=(n=e?Math.ceil(n):Math.max((0|n)-this._minBufferSize,0))*this.cfg.blockSize,i=Math.min(4*o,this._data.sigBytes);if(o){for(var a=0;a<o;a+=this.cfg.blockSize)this._doProcessBlock(this._data.words,a);t=this._data.words.splice(0,o),this._data.sigBytes-=i}return new no(t,i)},e.prototype.clone=function(){var e=this.constructor();for(var t in this)this.hasOwnProperty(t)&&(e[t]=this[t]);return e._data=this._data.clone(),e},e}(),so=function(e){function t(t){var r=e.call(this)||this;return r.ciphertext=t.ciphertext,r.key=t.key,r.iv=t.iv,r.salt=t.salt,r.algorithm=t.algorithm,r.mode=t.mode,r.padding=t.padding,r.blockSize=t.blockSize,r.formatter=t.formatter,r}return _n(t,e),t.prototype.extend=function(e){return void 0!==e.ciphertext&&(this.ciphertext=e.ciphertext),void 0!==e.key&&(this.key=e.key),void 0!==e.iv&&(this.iv=e.iv),void 0!==e.salt&&(this.salt=e.salt),void 0!==e.algorithm&&(this.algorithm=e.algorithm),void 0!==e.mode&&(this.mode=e.mode),void 0!==e.padding&&(this.padding=e.padding),void 0!==e.blockSize&&(this.blockSize=e.blockSize),void 0!==e.formatter&&(this.formatter=e.formatter),this},t.prototype.toString=function(e){if(e)return e.stringify(this);if(this.formatter)return this.formatter.stringify(this);throw new Error("cipher needs a formatter to be able to convert the result into a string")},t}(function(){return function(){}}()),co=function(){function e(){}return e.stringify=function(e){e.clamp();for(var t=[],r=0;r<e.sigBytes;r+=3)for(var n=(e.words[r>>>2]>>>24-r%4*8&255)<<16|(e.words[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|e.words[r+2>>>2]>>>24-(r+2)%4*8&255,o=0;o<4&&r+.75*o<e.sigBytes;o++)t.push(this._map.charAt(n>>>6*(3-o)&63));var i=this._map.charAt(64);if(i)for(;t.length%4;)t.push(i);return t.join("")},e.parse=function(e){var t=e.length;if(void 0===this._reverseMap){this._reverseMap=[];for(var r=0;r<this._map.length;r++)this._reverseMap[this._map.charCodeAt(r)]=r}var n=this._map.charAt(64);if(n){var o=e.indexOf(n);-1!==o&&(t=o)}return this.parseLoop(e,t,this._reverseMap)},e.parseLoop=function(e,t,r){for(var n=[],o=0,i=0;i<t;i++)if(i%4){var a=r[e.charCodeAt(i-1)]<<i%4*2,s=r[e.charCodeAt(i)]>>>6-i%4*2;n[o>>>2]|=(a|s)<<24-o%4*8,o++}return new no(n,o)},e._map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e._reverseMap=void 0,e}(),lo=function(){function e(){}return e.stringify=function(e){if(!e.ciphertext)throw new Error("missing ciphertext in params");var t,r=e.ciphertext,n=e.salt;if(n){if("string"==typeof n)throw new Error("salt is expected to be a WordArray");t=new no([1398893684,1701076831]).concat(n).concat(r)}else t=r;return t.toString(co)},e.parse=function(e){var t,r=co.parse(e);return 1398893684===r.words[0]&&1701076831===r.words[1]&&(t=new no(r.words.slice(2,4)),r.words.splice(0,4),r.sigBytes-=16),new so({ciphertext:r,salt:t})},e}(),uo=function(){function e(){}return e.encrypt=function(e,t,r,n){var o=Object.assign({},this.cfg,n),i=e.createEncryptor(r,o),a=i.finalize(t);return new so({ciphertext:a,key:r,iv:i.cfg.iv,algorithm:e,mode:i.cfg.mode,padding:i.cfg.padding,blockSize:i.cfg.blockSize,formatter:o.format})},e.decrypt=function(e,t,r,n){var o=Object.assign({},this.cfg,n);if(!o.format)throw new Error("could not determine format");if(!(t=this._parse(t,o.format)).ciphertext)throw new Error("could not determine ciphertext");return e.createDecryptor(r,o).finalize(t.ciphertext)},e._parse=function(e,t){return"string"==typeof e?t.parse(e):e},e.cfg={blockSize:4,iv:new no([]),format:lo},e}(),ho=function(e){function t(t){var r=e.call(this,Object.assign({blockSize:16},t))||this;return r.reset(),r}return _n(t,e),t._createHelper=function(e){return function(t,r){return new e(r).finalize(t)}},t.prototype.update=function(e){return this._append(e),this._process(),this},t.prototype.finalize=function(e){return e&&this._append(e),this._doFinalize()},t}(ao),fo=[],po=0
/**
	 * @license crypto-ts
	 * MIT license
	 */;po<64;po++)fo[po]=4294967296*Math.abs(Math.sin(po+1))|0;var mo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _n(t,e),t.FF=function(e,t,r,n,o,i,a){var s=e+(t&r|~t&n)+o+a;return(s<<i|s>>>32-i)+t},t.GG=function(e,t,r,n,o,i,a){var s=e+(t&n|r&~n)+o+a;return(s<<i|s>>>32-i)+t},t.HH=function(e,t,r,n,o,i,a){var s=e+(t^r^n)+o+a;return(s<<i|s>>>32-i)+t},t.II=function(e,t,r,n,o,i,a){var s=e+(r^(t|~n))+o+a;return(s<<i|s>>>32-i)+t},t.prototype.reset=function(){e.prototype.reset.call(this),this._hash=new no([1732584193,4023233417,2562383102,271733878])},t.prototype._doProcessBlock=function(e,r){for(var n=0;n<16;n++){var o=r+n,i=e[o];e[o]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var a=this._hash.words,s=e[r+0],c=e[r+1],l=e[r+2],u=e[r+3],d=e[r+4],h=e[r+5],f=e[r+6],p=e[r+7],m=e[r+8],g=e[r+9],v=e[r+10],b=e[r+11],y=e[r+12],w=e[r+13],S=e[r+14],A=e[r+15],x=a[0],E=a[1],k=a[2],I=a[3];x=t.FF(x,E,k,I,s,7,fo[0]),I=t.FF(I,x,E,k,c,12,fo[1]),k=t.FF(k,I,x,E,l,17,fo[2]),E=t.FF(E,k,I,x,u,22,fo[3]),x=t.FF(x,E,k,I,d,7,fo[4]),I=t.FF(I,x,E,k,h,12,fo[5]),k=t.FF(k,I,x,E,f,17,fo[6]),E=t.FF(E,k,I,x,p,22,fo[7]),x=t.FF(x,E,k,I,m,7,fo[8]),I=t.FF(I,x,E,k,g,12,fo[9]),k=t.FF(k,I,x,E,v,17,fo[10]),E=t.FF(E,k,I,x,b,22,fo[11]),x=t.FF(x,E,k,I,y,7,fo[12]),I=t.FF(I,x,E,k,w,12,fo[13]),k=t.FF(k,I,x,E,S,17,fo[14]),E=t.FF(E,k,I,x,A,22,fo[15]),x=t.GG(x,E,k,I,c,5,fo[16]),I=t.GG(I,x,E,k,f,9,fo[17]),k=t.GG(k,I,x,E,b,14,fo[18]),E=t.GG(E,k,I,x,s,20,fo[19]),x=t.GG(x,E,k,I,h,5,fo[20]),I=t.GG(I,x,E,k,v,9,fo[21]),k=t.GG(k,I,x,E,A,14,fo[22]),E=t.GG(E,k,I,x,d,20,fo[23]),x=t.GG(x,E,k,I,g,5,fo[24]),I=t.GG(I,x,E,k,S,9,fo[25]),k=t.GG(k,I,x,E,u,14,fo[26]),E=t.GG(E,k,I,x,m,20,fo[27]),x=t.GG(x,E,k,I,w,5,fo[28]),I=t.GG(I,x,E,k,l,9,fo[29]),k=t.GG(k,I,x,E,p,14,fo[30]),E=t.GG(E,k,I,x,y,20,fo[31]),x=t.HH(x,E,k,I,h,4,fo[32]),I=t.HH(I,x,E,k,m,11,fo[33]),k=t.HH(k,I,x,E,b,16,fo[34]),E=t.HH(E,k,I,x,S,23,fo[35]),x=t.HH(x,E,k,I,c,4,fo[36]),I=t.HH(I,x,E,k,d,11,fo[37]),k=t.HH(k,I,x,E,p,16,fo[38]),E=t.HH(E,k,I,x,v,23,fo[39]),x=t.HH(x,E,k,I,w,4,fo[40]),I=t.HH(I,x,E,k,s,11,fo[41]),k=t.HH(k,I,x,E,u,16,fo[42]),E=t.HH(E,k,I,x,f,23,fo[43]),x=t.HH(x,E,k,I,g,4,fo[44]),I=t.HH(I,x,E,k,y,11,fo[45]),k=t.HH(k,I,x,E,A,16,fo[46]),E=t.HH(E,k,I,x,l,23,fo[47]),x=t.II(x,E,k,I,s,6,fo[48]),I=t.II(I,x,E,k,p,10,fo[49]),k=t.II(k,I,x,E,S,15,fo[50]),E=t.II(E,k,I,x,h,21,fo[51]),x=t.II(x,E,k,I,y,6,fo[52]),I=t.II(I,x,E,k,u,10,fo[53]),k=t.II(k,I,x,E,v,15,fo[54]),E=t.II(E,k,I,x,c,21,fo[55]),x=t.II(x,E,k,I,m,6,fo[56]),I=t.II(I,x,E,k,A,10,fo[57]),k=t.II(k,I,x,E,f,15,fo[58]),E=t.II(E,k,I,x,w,21,fo[59]),x=t.II(x,E,k,I,d,6,fo[60]),I=t.II(I,x,E,k,b,10,fo[61]),k=t.II(k,I,x,E,l,15,fo[62]),E=t.II(E,k,I,x,g,21,fo[63]),a[0]=a[0]+x|0,a[1]=a[1]+E|0,a[2]=a[2]+k|0,a[3]=a[3]+I|0},t.prototype._doFinalize=function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32;var o=Math.floor(r/4294967296),i=r;t[15+(n+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t[14+(n+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(t.length+1),this._process();for(var a=this._hash,s=a.words,c=0;c<4;c++){var l=s[c];s[c]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return a},t}(ho),go=function(){function e(e){this.cfg=Object.assign({keySize:4,hasher:mo,iterations:1},e)}return e.prototype.compute=function(e,t){for(var r,n=new this.cfg.hasher,o=new no;o.words.length<this.cfg.keySize;){r&&n.update(r),r=n.update(e).finalize(t),n.reset();for(var i=1;i<this.cfg.iterations;i++)r=n.finalize(r),n.reset();o.concat(r)}return o.sigBytes=4*this.cfg.keySize,o},e}(),vo=function(){function e(){}return e.execute=function(e,t,r,n){n||(n=no.random(8));var o=new go({keySize:t+r}).compute(e,n),i=new no(o.words.slice(t),4*r);return o.sigBytes=4*t,new so({key:o,iv:i,salt:n})},e}(),bo=function(){function e(){}return e.encrypt=function(e,t,r,n){var o=Object.assign({},this.cfg,n);if(void 0===o.kdf)throw new Error("missing kdf in config");var i=o.kdf.execute(r,e.keySize,e.ivSize);return void 0!==i.iv&&(o.iv=i.iv),uo.encrypt.call(this,e,t,i.key,o).extend(i)},e.decrypt=function(e,t,r,n){var o=Object.assign({},this.cfg,n);if(void 0===o.format)throw new Error("missing format in config");if(t=this._parse(t,o.format),void 0===o.kdf)throw new Error("the key derivation function must be set");var i=o.kdf.execute(r,e.keySize,e.ivSize,t.salt);return void 0!==i.iv&&(o.iv=i.iv),uo.decrypt.call(this,e,t,i.key,o)},e._parse=function(e,t){return"string"==typeof e?t.parse(e):e},e.cfg={blockSize:4,iv:new no([]),format:lo,kdf:vo},e}(),yo=function(e){function t(t,r,n){var o=e.call(this,Object.assign({blockSize:1},n))||this;return o._xformMode=t,o._key=r,o.reset(),o}return _n(t,e),t.createEncryptor=function(e,t){return new this(this._ENC_XFORM_MODE,e,t)},t.createDecryptor=function(e,t){return new this(this._DEC_XFORM_MODE,e,t)},t._createHelper=function(e){return{encrypt:function(t,r,n){return"string"==typeof r?bo.encrypt(e,t,r,n):uo.encrypt(e,t,r,n)},decrypt:function(t,r,n){return"string"==typeof r?bo.decrypt(e,t,r,n):uo.decrypt(e,t,r,n)}}},t.prototype.process=function(e){return this._append(e),this._process()},t.prototype.finalize=function(e){return e&&this._append(e),this._doFinalize()},t._ENC_XFORM_MODE=1,t._DEC_XFORM_MODE=2,t.keySize=4,t.ivSize=4,t}(ao),wo=function(){function e(e,t){this.init(e,t)}return e.prototype.init=function(e,t){this._cipher=e,this._iv=t},e}(),So=function(){function e(){}return e.createEncryptor=function(e,t){return new(0,this.Encryptor)(e,t)},e.createDecryptor=function(e,t){return new(0,this.Decryptor)(e,t)},e.Encryptor=wo,e.Decryptor=wo,e}(),Ao=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _n(t,e),t.prototype.processBlock=function(e,t){if(void 0===this._cipher.cfg.blockSize)throw new Error("missing blockSize in cipher config");this.xorBlock(e,t,this._cipher.cfg.blockSize),this._cipher.encryptBlock(e,t),this._prevBlock=e.slice(t,t+this._cipher.cfg.blockSize)},t.prototype.xorBlock=function(e,t,r){var n;if(this._iv?(n=this._iv,this._iv=void 0):n=this._prevBlock,void 0!==n)for(var o=0;o<r;o++)e[t+o]^=n[o]},t}(wo),xo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _n(t,e),t.prototype.processBlock=function(e,t){if(void 0===this._cipher.cfg.blockSize)throw new Error("missing blockSize in cipher config");var r=e.slice(t,t+this._cipher.cfg.blockSize);this._cipher.decryptBlock(e,t),this.xorBlock(e,t,this._cipher.cfg.blockSize),this._prevBlock=r},t.prototype.xorBlock=function(e,t,r){var n;if(this._iv?(n=this._iv,this._iv=void 0):n=this._prevBlock,void 0!==n)for(var o=0;o<r;o++)e[t+o]^=n[o]},t}(wo),Eo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _n(t,e),t.Encryptor=Ao,t.Decryptor=xo,t}(So),ko=function(){function e(){}return e.pad=function(e,t){for(var r=4*t,n=r-e.sigBytes%r,o=n<<24|n<<16|n<<8|n,i=[],a=0;a<n;a+=4)i.push(o);var s=new no(i,n);e.concat(s)},e.unpad=function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t},e}(),Io=function(e){function t(t,r,n){return e.call(this,t,r,Object.assign({blockSize:4,mode:Eo,padding:ko},n))||this}return _n(t,e),t.prototype.reset=function(){if(e.prototype.reset.call(this),void 0===this.cfg.mode)throw new Error("missing mode in config");var t;this._xformMode===this.constructor._ENC_XFORM_MODE?t=this.cfg.mode.createEncryptor:(t=this.cfg.mode.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator===t?this._mode.init(this,this.cfg.iv&&this.cfg.iv.words):(this._mode=t.call(this.cfg.mode,this,this.cfg.iv&&this.cfg.iv.words),this._mode.__creator=t)},t.prototype._doProcessBlock=function(e,t){this._mode.processBlock(e,t)},t.prototype._doFinalize=function(){if(void 0===this.cfg.padding)throw new Error("missing padding in config");var e;if(this._xformMode===this.constructor._ENC_XFORM_MODE){if(void 0===this.cfg.blockSize)throw new Error("missing blockSize in config");this.cfg.padding.pad(this._data,this.cfg.blockSize),e=this._process(!0)}else e=this._process(!0),this.cfg.padding.unpad(e);return e},t}(yo),_o=[],Co=[],Bo=[],Mo=[],Ro=[],zo=[],Do=[],Lo=[],Oo=[],To=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var r=0,n=0;for(t=0;t<256;t++){var o=n^n<<1^n<<2^n<<3^n<<4;o=o>>>8^255&o^99,_o[r]=o,Co[o]=r;var i=e[r],a=e[i],s=e[a],c=257*e[o]^16843008*o;Bo[r]=c<<24|c>>>8,Mo[r]=c<<16|c>>>16,Ro[r]=c<<8|c>>>24,zo[r]=c,c=16843009*s^65537*a^257*i^16843008*r,Do[o]=c<<24|c>>>8,Lo[o]=c<<16|c>>>16,Oo[o]=c<<8|c>>>24,To[o]=c,r?(r=i^e[e[e[s^i]]],n^=e[e[n]]):r=n=1}}();var Fo,Po=[0,1,2,4,8,16,32,64,128,27,54],jo=function(e){function t(t,r,n){return e.call(this,t,r,n)||this}return _n(t,e),t.prototype.reset=function(){if(e.prototype.reset.call(this),!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,r=t.words,n=t.sigBytes/4,o=4*((this._nRounds=n+6)+1),i=this._keySchedule=[],a=0;a<o;a++)if(a<n)i[a]=r[a];else{var s=i[a-1];a%n?n>6&&a%n==4&&(s=_o[s>>>24]<<24|_o[s>>>16&255]<<16|_o[s>>>8&255]<<8|_o[255&s]):(s=_o[(s=s<<8|s>>>24)>>>24]<<24|_o[s>>>16&255]<<16|_o[s>>>8&255]<<8|_o[255&s],s^=Po[a/n|0]<<24),i[a]=i[a-n]^s}for(var c=this._invKeySchedule=[],l=0;l<o;l++){a=o-l,s=void 0;s=l%4?i[a]:i[a-4],c[l]=l<4||a<=4?s:Do[_o[s>>>24]]^Lo[_o[s>>>16&255]]^Oo[_o[s>>>8&255]]^To[_o[255&s]]}}},t.prototype.encryptBlock=function(e,t){this._doCryptBlock(e,t,this._keySchedule,Bo,Mo,Ro,zo,_o)},t.prototype.decryptBlock=function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,Do,Lo,Oo,To,Co),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r},t.prototype._doCryptBlock=function(e,t,r,n,o,i,a,s){for(var c=e[t]^r[0],l=e[t+1]^r[1],u=e[t+2]^r[2],d=e[t+3]^r[3],h=4,f=1;f<this._nRounds;f++){var p=n[c>>>24]^o[l>>>16&255]^i[u>>>8&255]^a[255&d]^r[h++],m=n[l>>>24]^o[u>>>16&255]^i[d>>>8&255]^a[255&c]^r[h++],g=n[u>>>24]^o[d>>>16&255]^i[c>>>8&255]^a[255&l]^r[h++],v=n[d>>>24]^o[c>>>16&255]^i[l>>>8&255]^a[255&u]^r[h++];c=p,l=m,u=g,d=v}var b=(s[c>>>24]<<24|s[l>>>16&255]<<16|s[u>>>8&255]<<8|s[255&d])^r[h++],y=(s[l>>>24]<<24|s[u>>>16&255]<<16|s[d>>>8&255]<<8|s[255&c])^r[h++],w=(s[u>>>24]<<24|s[d>>>16&255]<<16|s[c>>>8&255]<<8|s[255&l])^r[h++],S=(s[d>>>24]<<24|s[c>>>16&255]<<16|s[l>>>8&255]<<8|s[255&u])^r[h++];e[t]=b,e[t+1]=y,e[t+2]=w,e[t+3]=S},t.keySize=8,t}(Io),Go=[],No=[],Ho=[],Yo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _n(t,e),t.prototype.reset=function(){e.prototype.reset.call(this),this._hash=new no(Go.slice(0))},t.prototype._doProcessBlock=function(e,t){for(var r=this._hash.words,n=r[0],o=r[1],i=r[2],a=r[3],s=r[4],c=r[5],l=r[6],u=r[7],d=0;d<64;d++){if(d<16)Ho[d]=0|e[t+d];else{var h=Ho[d-15],f=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,p=Ho[d-2],m=(p<<15|p>>>17)^(p<<13|p>>>19)^p>>>10;Ho[d]=f+Ho[d-7]+m+Ho[d-16]}var g=n&o^n&i^o&i,v=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),b=u+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&c^~s&l)+No[d]+Ho[d];u=l,l=c,c=s,s=a+b|0,a=i,i=o,o=n,n=b+(v+g)|0}r[0]=r[0]+n|0,r[1]=r[1]+o|0,r[2]=r[2]+i|0,r[3]=r[3]+a|0,r[4]=r[4]+s|0,r[5]=r[5]+c|0,r[6]=r[6]+l|0,r[7]=r[7]+u|0},t.prototype._doFinalize=function(){var e=8*this._nDataBytes,t=8*this._data.sigBytes;return this._data.words[t>>>5]|=128<<24-t%32,this._data.words[14+(t+64>>>9<<4)]=Math.floor(e/4294967296),this._data.words[15+(t+64>>>9<<4)]=e,this._data.sigBytes=4*this._data.words.length,this._process(),this._hash},t}(ho),qo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _n(t,e),t.prototype.processBlock=function(e,t){this._cipher.encryptBlock(e,t)},t}(wo),Uo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _n(t,e),t.prototype.processBlock=function(e,t){this._cipher.decryptBlock(e,t)},t}(wo),Qo=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}_n(t,e),t.Encryptor=qo,t.Decryptor=Uo}(So),{BlockCipher:Io,WordArray:no,CipherParams:so,Hasher:ho,SerializableCipher:uo,PasswordBasedCipher:bo}),Vo={AES:jo,SHA256:Yo},Wo={Utf8:io,Hex:ro},Ko=Qo.BlockCipher._createHelper(Vo.AES),Jo=(Qo.Hasher._createHelper(Vo.SHA256),function(){function e(){}return e.encrypt=function(e,t){var r=JSON.stringify(e);return Ko.encrypt(r,t).toString()},e.decrypt=function(e,t){var r=Ko.decrypt(e,t).toString(Wo.Utf8);return JSON.parse(r)},e.randomString=function(e){e||(e=128);for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",r="",n=0;n<e;n++){var o=Math.floor(Math.random()*t.length);r+=t.substring(o,o+1)}return r},e}()),Xo=function(){function e(){this.recognizers=[],this.authorizationHeader="",this.exportImages=!1,this.exportFullDocumentImage=!1,this.exportSignatureImage=!1,this.exportFaceImage=!1,this.detectGlare=!1,this.allowBlurFilter=!1,this.anonymizeNetherlandsMrz=!1,this.anonymizeCardNumber=!1,this.anonymizeIban=!1,this.anonymizeCvv=!1,this.anonymizeOwner=!1,this.listeners=[],this.scanFrameQueue=[],this.endpoint="",this.API=new Zn}return e.prototype.TerminateActiveRequests=function(){this.API.TerminateAll(),this.scanFrameQueue=[]},e.prototype.RegisterListener=function(e){this.listeners.push(e)},e.prototype.ScanFile=function(e,t){return this.scan(e.blob,!0)},e.prototype.SendFile=function(e,t){this.scan(e.blob,!0,t).subscribe(function(){},function(){})},e.prototype.SendFrame=function(t){var r=eo.getFrameQuality(t.pixelData);if(this.scanFrameQueue.push({frame:t,quality:r}),!(this.scanFrameQueue.length<e.fromHowManyFramesQualityCalculateBestFrame)){var n,o=0;this.scanFrameQueue.forEach(function(e){e.quality>o&&(o=e.quality,n=e.frame)}),this.scanFrameQueue=[],void 0!==n&&this.scan(n.blob,!1).subscribe(function(){},function(){})}},e.prototype.SetRecognizers=function(e){this.recognizers=e;var t=new CustomEvent("recognizersUpdated",{detail:{recognizers:this.recognizers},cancelable:!0,bubbles:!0});document.dispatchEvent(t)},e.prototype.GetRecognizers=function(){return this.recognizers},e.prototype.SetAuthorization=function(e){this.authorizationHeader=e,this.API.SetAuthorization(e)},e.prototype.GetAuthorization=function(){return this.authorizationHeader},e.prototype.SetExportImages=function(e){this.exportImages=e,this.API.SetExportImages(e)},e.prototype.SetExportFullDocumentImage=function(e){this.exportFullDocumentImage=e,this.API.SetExportFullDocumentImage(e)},e.prototype.SetExportSignatureImage=function(e){this.exportSignatureImage=e,this.API.SetExportSignatureImage(e)},e.prototype.SetExportFaceImage=function(e){this.exportFaceImage=e,this.API.SetExportFaceImage(e)},e.prototype.SetDetectGlare=function(e){this.detectGlare=e,this.API.SetDetectGlare(e)},e.prototype.SetAllowBlurFilter=function(e){this.allowBlurFilter=e,this.API.SetAllowBlurFilter(e)},e.prototype.SetEndpoint=function(e){this.endpoint=e,this.API.SetEndpoint(e)},e.prototype.SetAnonymizeCardNumber=function(e){this.anonymizeCardNumber=e,this.API.SetAnonymizeCardNumber(e)},e.prototype.SetAnonymizeIban=function(e){this.anonymizeIban=e,this.API.SetAnonymizeIban(e)},e.prototype.SetAnonymizeCvv=function(e){this.anonymizeCvv=e,this.API.SetAnonymizeCvv(e)},e.prototype.SetAnonymizeOwner=function(e){this.anonymizeOwner=e,this.API.SetAnonymizeOwner(e)},e.prototype.SetUserId=function(e){this.API.SetUserId(e)},e.prototype.SetIsDataPersistingEnabled=function(e){this.API.SetIsDataPersistingEnabled(e)},e.prototype.SetAnonymizeNetherlandsMrz=function(e){this.anonymizeNetherlandsMrz=e,this.API.SetAnonymizeNetherlandsMrz(e)},e.prototype.IsDesktopToMobileAvailable=function(){return Cn(this,void 0,void 0,function(){return Bn(this,function(e){return[2,this.isDesktopToMobileAvailable()]})})},e.prototype.IsRecognizerArraySet=function(){return!!this.recognizers&&(this.recognizers.constructor!==Array||this.recognizers.length>0)},e.prototype.CreateScanExchanger=function(e,t){return Cn(this,void 0,void 0,function(){var r,n,o=this;return Bn(this,function(i){switch(i.label){case 0:return e.recognizers=this.recognizers,e.authorizationHeader=this.authorizationHeader,e.exportImages=this.exportImages,e.exportFullDocumentImage=this.exportFullDocumentImage,e.exportSignatureImage=this.exportSignatureImage,e.exportFaceImage=this.exportFaceImage,e.detectGlare=this.detectGlare,e.allowBlurFilter=this.allowBlurFilter,e.anonymizeCardNumber=this.anonymizeCardNumber,e.anonymizeIban=this.anonymizeIban,e.anonymizeCvv=this.anonymizeCvv,e.anonymizeOwner=this.anonymizeOwner,e.endpoint=this.endpoint,e.anonymizeNetherlandsMrz=this.anonymizeNetherlandsMrz,r=Jo.randomString(32),e.key=r,e.authorizationHeader=Jo.encrypt(e.authorizationHeader,r),[4,to.createScanExchanger(e)];case 1:return n=i.sent(),[2,n.onSnapshot(function(e){return Cn(o,void 0,void 0,function(){var o,i,a,s,c;return Bn(this,function(l){switch(l.label){case 0:return(o=e.data()).status===Jn.Step02_ExchangeLinkIsGenerated&&o.shortLink?[4,to.generateQRCode(o.shortLink)]:[3,2];case 1:i=l.sent(),o.qrCodeAsBase64=i,l.label=2;case 2:return o.status!==Jn.Step07_ResultIsAvailable||!o.result&&!o.resultUrl?[3,8]:(a=void 0,o.result?(a=Jo.decrypt(o.result,r),[3,7]):[3,3]);case 3:return o.resultUrl?(s=Jo.decrypt(o.resultUrl,r),[4,fetch(s)]):[3,7];case 4:return[4,l.sent().blob()];case 5:return[4,Rn(l.sent())];case 6:c=l.sent(),o.result=c,a=Jo.decrypt(c,r),firebase.storage().refFromURL(s).delete(),l.label=7;case 7:this.notifyOnSuccessListeners({result:a,sourceBlob:null},!0),n.update({result:null,resultUrl:null}),l.label=8;case 8:return o.status===Jn.ErrorHappened&&o.error&&this.notifyOnErrorListeners(o.error),t(o),[2]}})})})]}})})},e.prototype.isDesktopToMobileAvailable=function(){return Cn(this,void 0,void 0,function(){var e;return Bn(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,firebase.app().firestore().doc("scans/any-document").get()];case 1:return t.sent(),[3,3];case 2:return"FirebaseError"===(e=t.sent()).name&&"unavailable"===e.code?[2,!1]:[3,3];case 3:return[2,!0]}})})},e.prototype.notifyOnSuccessListeners=function(e,t){var r=e.result.data,n=!1;Array.isArray(r)?r.forEach(function(e){e.result&&(n=!0)}):r.result&&(n=!0);(n||t)&&(t||this.TerminateActiveRequests(),this.listeners.forEach(function(t){t.onScanSuccess&&t.onScanSuccess(e)}))},e.prototype.notifyOnErrorListeners=function(e){this.TerminateActiveRequests(),e.code!==Wn.ResultIsNotValidJSON&&this.listeners.forEach(function(t){t.onScanError&&t.onScanError(e)})},e.prototype.scan=function(e,t,r){var n=this;return new Xn(function(o){Rn(e).then(function(i){n.API.Recognize(n.recognizers,i,r).subscribe(function(r){var i={sourceBlob:e,result:r};n.notifyOnSuccessListeners(i,t),o.next(i),o.complete()},function(e){e&&(n.notifyOnErrorListeners(e),o.error(e))})}).catch(function(e){n.notifyOnErrorListeners(e),o.error(e)})})},e.fromHowManyFramesQualityCalculateBestFrame=5,e}();!function(e){var t=new Xo;e.ScanImage=function(e,r){return t.ScanFile(e,r)},e.RegisterListener=function(e){t.RegisterListener(e)},e.SendImage=function(e,r){return function(e){return!!e.pixelData}(e)?t.SendFrame(e):t.SendFile(e,r)},e.SetRecognizers=function(e){t.SetRecognizers(e)},e.SetAuthorization=function(e){t.SetAuthorization(e)},e.SetExportImages=function(e){t.SetExportImages(e)},e.SetExportFullDocumentImage=function(e){t.SetExportFullDocumentImage(e)},e.SetExportSignatureImage=function(e){t.SetExportSignatureImage(e)},e.SetExportFaceImage=function(e){t.SetExportFaceImage(e)},e.SetDetectGlare=function(e){t.SetDetectGlare(e)},e.SetAllowBlurFilter=function(e){t.SetAllowBlurFilter(e)},e.SetEndpoint=function(e){t.SetEndpoint(e)},e.SetAnonymizeCardNumber=function(e){t.SetAnonymizeCardNumber(e)},e.SetAnonymizeIban=function(e){t.SetAnonymizeIban(e)},e.SetAnonymizeCvv=function(e){t.SetAnonymizeCvv(e)},e.SetAnonymizeOwner=function(e){t.SetAnonymizeOwner(e)},e.SetAnonymizeNetherlandsMrz=function(e){t.SetAnonymizeNetherlandsMrz(e)},e.TerminateRequest=function(){t.TerminateActiveRequests()},e.SetUserId=function(e){t.SetUserId(e)},e.SetIsDataPersistingEnabled=function(e){t.SetIsDataPersistingEnabled(e)},e.StatusCodes=Wn,e.CreateScanExchanger=function(e,r){return void 0===e&&(e={}),t.CreateScanExchanger(e,r)},e.ScanExchangerCodes=Jn,e.ExportImageTypes=Kn,e.Decrypt=function(e,t){return Jo.decrypt(e,t)},e.Encrypt=function(e,t){return Jo.encrypt(e,t)},e.IsDesktopToMobileAvailable=function(){return Cn(this,void 0,void 0,function(){return Bn(this,function(e){return[2,t.IsDesktopToMobileAvailable()]})})},e.IsRecognizerArraySet=function(){return t.IsRecognizerArraySet()}}(Fo||(Fo={}));var $o='<style>:host{all:initial;contain:content;display:block;width:100%;height:100%;box-sizing:border-box;border-style:solid;--mb-hem:1rem;--mb-widget-font-family:Helvetica,Tahoma,Verdana,Arial,sans-serif;--mb-widget-border-width:0;--mb-widget-border-color:black;--mb-widget-background-color:white;--mb-default-font-color:black;--mb-alt-font-color:#575757;--mb-btn-font-color:white;--mb-btn-background-color:#48b2e8;--mb-btn-background-color-hover:#26a4e4;--mb-btn-flip-color:white;--mb-btn-alt-font-color:black;--mb-btn-alt-background-color:white;--mb-btn-border-radius:0;--mb-btn-intro-stroke-color:black;--mb-btn-intro-stroke-color-hover:white;--mb-btn-intro-circle-color:#f2f2f2;--mb-btn-intro-circle-color-hover:#48b2e8;--mb-btn-container-border-color:lightgrey;--mb-spinner-border-width:6px;--mb-tabs-background-color:black;--mb-tabs-font-color:white;--mb-tabs-border-width:4px;--mb-btn-icon-cancel-color:white;--mb-dropzone-hover-color:rgba(72, 178, 232, 0.2);--mb-dropzone-circle-color:#48b2e8;--mb-dropzone-icon-color:black;--mb-loader-font-color:black;--mb-loader-background-color:#48b2e8;--mb-card-layout-border-color:black;--mb-tabs-hover-color:#26a4e4;--mb-tabs-active-color:#48b2e8;--mb-json-color-key:black;--mb-json-color-string:#48b2e8;--mb-json-color-boolean:#26a4e4;--mb-json-color-number:black;--mb-json-color-null:#26a4e4;--mb-results-border-color:#dee2e6;--mb-results-image-border-radius:6px;--mb-results-image-background-color:#f2f2f2;--mb-dialog-title-color:black;--mb-dialog-message-color:#575757;--mb-photo-icon-primary:white;--mb-photo-icon-accent:#48b2e8;font-family:var(--mb-widget-font-family);border-width:var(--mb-widget-border-width);border-color:var(--mb-widget-border-color);font-size:var(--mb-hem);background-color:var(--mb-widget-background-color)}:host([webcam=off]) #cameraLocalBtn{display:none}:host([upload=off]) #fileBtn{display:none}.container{height:100%;width:100%;margin:auto;box-sizing:border-box;position:relative}button{font-family:inherit;cursor:pointer;font-size:calc(.9 * var(--mb-hem));font-weight:500;line-height:1;padding:.7222222222em 0;user-select:none;border:1px solid transparent;outline:0;color:var(--mb-btn-font-color);background-color:var(--mb-btn-background-color);transition:color .15s ease-in-out,background-color .15s ease-in-out;width:calc(7.5 * var(--mb-hem));border-radius:var(--mb-btn-border-radius)}button:hover{background-color:var(--mb-btn-background-color-hover)}button#flipBtn{background-color:transparent;background-size:auto;position:absolute;bottom:var(--mb-hem);right:var(--mb-hem);margin:0;padding:0;width:calc(2.2 * var(--mb-hem));display:flex;justify-content:center;align-items:center}#flipBtn svg path{stroke:var(--mb-btn-flip-color)}#flipBtn svg .fill{fill:var(--mb-btn-flip-color)}button#cancelBtnConfirmImage,button#cancelBtnLocalCamera,button#cancelBtnRemoteCamera{background-color:transparent;background-size:auto;position:absolute;top:var(--mb-hem);right:var(--mb-hem);margin:0;padding:0;width:calc(1.6 * var(--mb-hem));display:flex;justify-content:center;align-items:center;z-index:999}#cancelBtnConfirmImage svg path,#cancelBtnLocalCamera svg path,#cancelBtnRemoteCamera svg path{stroke:var(--mb-btn-icon-cancel-color);fill:var(--mb-btn-icon-cancel-color)}.intro{text-align:center}.tabs>.container{height:calc(100% - 56px)}.tab-container{background:var(--mb-tabs-background-color);color:var(--mb-tabs-font-color);height:calc(2.8 * var(--mb-hem));display:none;margin:0;padding:0}.tabs .tab-container{display:flex;justify-content:center}.tab{text-align:center;line-height:calc(2.8 * var(--mb-hem));cursor:pointer;margin:0 calc(.5 * var(--mb-hem));width:calc(10 * var(--mb-hem))}.tab label{display:inline-block;margin:auto;padding:0 calc(1.25 * var(--mb-hem));width:100%;box-sizing:border-box;border-bottom:var(--mb-tabs-border-width) solid transparent;height:calc(2.8 * var(--mb-hem));user-select:none;cursor:inherit;white-space:nowrap}.tab.active label{color:var(--mb-tabs-active-color);border-bottom-color:var(--mb-tabs-active-color)}.tab:hover label{color:var(--mb-tabs-hover-color);border-bottom-color:var(--mb-tabs-hover-color)}#introTab{margin-right:auto;text-align:left}#introTab label,#introTab:hover label{color:var(--mb-tabs-active-color);border-bottom-color:transparent;min-width:unset;padding:0 calc(.5 * var(--mb-hem))}#introTab label svg{width:var(--mb-hem);margin-right:calc(.5 * var(--mb-hem))}#introTab label svg path{fill:var(--mb-tabs-active-color)}.tab-container::after{content:"";margin-left:auto;width:calc(10 * var(--mb-hem));flex-shrink:1000}.intro .flex-horizontal{display:flex;justify-content:center;align-items:flex-start;flex-wrap:wrap;min-height:calc(9.2 * var(--mb-hem))}.intro .flex-vertical{display:flex;justify-content:center;align-items:center;flex-direction:column;height:100%}.intro-label{color:var(--mb-default-font-color);user-select:none}.intro-button{background-color:transparent;width:calc(7 * var(--mb-hem));margin:0 calc(.5 * var(--mb-hem))}.intro-button:hover{background-color:transparent}.intro-button .circle{width:calc(5 * var(--mb-hem));height:calc(5 * var(--mb-hem));border-radius:50%;margin:0 auto;background-color:var(--mb-btn-intro-circle-color)}.intro-button:hover .circle{background-color:var(--mb-btn-intro-circle-color-hover)}.intro-button svg{width:calc(.7 * 100%);height:calc(.7 * 100%);margin:calc(.15 * 100%) auto;stroke:var(--mb-btn-intro-stroke-color)}.intro-button:hover svg{stroke:var(--mb-btn-intro-stroke-color-hover)}.intro-button p{color:var(--mb-alt-font-color);font-size:calc(.8 * var(--mb-hem));font-weight:400;line-height:130%;margin-top:calc(.5 * var(--mb-hem));margin-bottom:0}.dropzone *{pointer-events:none}.dropzone button{pointer-events:auto}.dropzone.draghover button{pointer-events:none}.draghover>div:first-child{opacity:.1}#dragMask{display:none}.draghover #dragMask{background-color:var(--mb-dropzone-hover-color);cursor:copy;position:absolute;width:100%;height:100%;z-index:999;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.draghover #dropButton .circle,.draghover #dropButton:hover .circle{background-color:var(--mb-dropzone-circle-color)}.draghover #dropButton .circle svg,.draghover #dropButton:hover .circle svg{stroke:var(--mb-dropzone-icon-color)}#file{display:none}.video,.video.show{display:flex;justify-content:center;text-align:center;overflow:hidden}#flipBtn.flipped,video.flipped{-ms-transform:scaleX(-1);-webkit-transform:scaleX(-1);transform:scaleX(-1)}video{height:100%;z-index:0}#cardPlacer{position:absolute;top:50%;left:50%;box-sizing:border-box;transform:translate(-50%,-50%);border:solid rgba(0,0,0,.4);font-size:0}#cardPlacer .corner{position:absolute;display:block;z-index:200;width:calc(1.3 * var(--mb-hem));height:calc(.9 * var(--mb-hem));box-sizing:border-box;border:0 solid #fff}#cardPlacer .corner-top{top:calc(var(--mb-hem)/ -8);border-top-width:calc(var(--mb-hem)/ 4)}#cardPlacer .corner-bottom{bottom:calc(var(--mb-hem)/ -8);border-bottom-width:calc(var(--mb-hem)/ 4)}#cardPlacer .corner-left{left:calc(var(--mb-hem)/ -8);border-left-width:calc(var(--mb-hem)/ 4)}#cardPlacer .corner-right{right:calc(var(--mb-hem)/ -8);border-right-width:calc(var(--mb-hem)/ 4)}.confirm-image,.dialog,.pending-container{display:none;position:absolute;z-index:1000;top:0;bottom:0;left:0;right:0}.pending-container{background-color:var(--mb-loader-background-color);flex-direction:column;color:var(--mb-loader-font-color)}.pending-container h2{font-size:calc(1.4 * var(--mb-hem));margin:calc(1.4 *var(--mb-hem)) 0 0;font-weight:500}.confirm-image.show,.dialog.show,.pending-container.show{display:flex;align-items:center;justify-content:center;flex-direction:column}.loader-img{display:block;position:relative;margin:0;text-align:center;font-size:0}.container.remote-camera{display:flex;flex-direction:column;align-items:center;justify-content:center;overflow:hidden}.container.remote-camera a{color:#000;font-weight:700}.dialog{background-color:var(--mb-widget-background-color);text-align:center;user-select:none}.dialog .title{color:var(--mb-dialog-title-color);font-size:var(--mb-hem);line-height:150%;max-width:calc(23 * var(--mb-hem));margin-bottom:calc(.4 * var(--mb-hem))}.dialog .message{color:var(--mb-dialog-message-color);font-size:calc(.8 * var(--mb-hem));line-height:130%;max-width:calc(23 * var(--mb-hem));margin-bottom:calc(.8 * var(--mb-hem))}.container.hidden{display:none}.hidden{display:none}.show{display:block}.container.main{background-color:var(--mb-widget-background-color)}.container.main>*{display:none}.container.main>.active{display:block}.container.main>.image.active{display:block;overflow:hidden}.container.main>.json{padding:calc(.7 * var(--mb-hem)) calc(1.5 * var(--mb-hem));overflow:auto;font-size:calc(.9 * var(--mb-hem));line-height:calc(1.5 * var(--mb-hem));position:relative;-webkit-overflow-scrolling:touch}.json>div{white-space:pre}.json .key{color:var(--mb-json-color-key)}.json .string{color:var(--mb-json-color-string)}.json .number{color:var(--mb-json-color-number)}.json .null{color:var(--mb-json-color-null)}.json .boolean{color:var(--mb-json-color-boolean)}#copyBtn{font-size:calc(.8 * var(--mb-hem));padding:0 calc(.8 * var(--mb-hem));line-height:calc(1.9 * var(--mb-hem));height:calc(1.9 * var(--mb-hem));box-sizing:content-box;width:auto;position:absolute;top:calc(1.5 * var(--mb-hem));right:calc(1.5 * var(--mb-hem))}#copyBtn:active{cursor:wait}.cpyTxtArea{position:absolute;left:-9999px;top:-9999px}.container.results{overflow:auto;-webkit-overflow-scrolling:touch}.results .resultTable .row{padding:calc(.8 * var(--mb-hem)) var(--mb-hem);border-bottom:1px solid var(--mb-results-border-color);display:flex;align-items:flex-start;overflow:hidden}.results .resultTable .row.heading{align-items:center}.results .resultTable .row .label{font-size:calc(.8 * var(--mb-hem));color:var(--mb-alt-font-color);line-height:130%;flex-basis:calc(11 * var(--mb-hem));padding-right:var(--mb-hem);flex-shrink:0}.results .resultTable .row .content{font-size:calc(.8 * var(--mb-hem));color:var(--mb-default-font-color);line-height:130%;flex-shrink:1000;overflow:hidden;text-overflow:ellipsis}.results .resultTable .heading .faceImage,.results .resultTable .row .fullDocument,.results .resultTable .row .signature{font-size:0}.results .resultTable .heading .faceImage img{border-radius:var(--mb-results-image-border-radius);max-height:calc(5 * var(--mb-hem));margin-right:var(--mb-hem)}.results .resultTable .heading .headingText .fullName{color:var(--mb-default-font-color);margin-bottom:calc(.2 * var(--mb-hem));font-size:var(--mb-hem);line-height:130%;font-weight:500}.results .resultTable .heading .headingText .recognizerType{color:var(--mb-alt-font-color);font-size:calc(.8 * var(--mb-hem));line-height:130%;font-weight:500}.results .resultTable .row .signature img{border-radius:var(--mb-results-image-border-radius);max-height:calc(3 * var(--mb-hem))}.results .resultTable .row .fullDocument img{border-radius:var(--mb-results-image-border-radius);max-height:calc(17 * var(--mb-hem));max-width:100%}.results .no-result{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;width:80%}.results .masked-label{text-align:center;margin:var(--mb-hem);line-height:1.5;font-weight:500}.confirm-image .image-container img,.container.image img{width:100%;height:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);max-width:100%;max-height:100%;object-fit:contain}#photoBtn{position:absolute;top:50%;left:50%;transform:translate(-50%,calc(-50% + .45 * var(--mb-hem) + .75 * var(--mb-hem)));padding:0;background-color:transparent;width:unset;max-width:calc(7.5 * var(--mb-hem));font-size:0;font-weight:500;user-select:none}#photoBtn svg{width:calc(5 * var(--mb-hem))}#photoBtn p{font-size:calc(.8 * var(--mb-hem));margin:calc(.8 * var(--mb-hem))}#counter{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background-color:transparent;width:calc(6 * var(--mb-hem));height:calc(6 * var(--mb-hem));display:none;text-align:center;justify-content:center;align-items:center}#photoBtn svg .primary{fill:var(--mb-photo-icon-primary)}#counter svg .primary:nth-child(1){stroke:var(--mb-photo-icon-primary)}#counter svg .primary:nth-child(2){fill:var(--mb-photo-icon-primary)}#photoBtn svg .accent{stroke:var(--mb-photo-icon-accent)}#counter-number{margin:0;padding:0;font-weight:500;font-size:calc(1.75 * var(--mb-hem));fill:var(--mb-photo-icon-accent)}#counter.show{display:flex}#exchange-link-as-QR img{max-height:calc(15 * var(--mb-hem))}.container.root[max-width~="500px"] .tab label{padding:0 calc(.5 * var(--mb-hem))}.container.root[max-width~="500px"] #copyBtn{position:relative;top:0;left:0;margin:calc(.9 * var(--mb-hem)) auto;display:block}.container.root[max-width~="600px"] .resultTable .row{flex-direction:column;max-width:100%}.container.root[max-width~="600px"] .resultTable .row .content{max-width:100%}.container.root[max-width~="600px"] .resultTable .row.heading{flex-direction:row}.container.root[min-width~="720px"] .resultTable .row .label{flex-basis:35%}.container.root[max-width~="630px"] .resultTable .row .label{flex-basis:calc(10.5 * var(--mb-hem))}.container.root[max-width~="600px"] .resultTable .row .label{flex-basis:auto;margin-bottom:calc(.2 * var(--mb-hem))}@media only screen and (orientation:portrait){.confirm-image .image-container img,.container.image img{width:auto;height:100%}}.lds-ring{display:inline-block;position:relative;width:calc(5 * var(--mb-hem));height:calc(5 * var(--mb-hem))}.lds-ring div{box-sizing:border-box;display:block;position:absolute;width:calc(5 * var(--mb-hem));height:calc(5 * var(--mb-hem));border-width:var(--mb-spinner-border-width);border-style:solid;border-radius:50%;animation:lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;border-color:var(--mb-loader-font-color) transparent transparent transparent}.lds-ring div:nth-child(1){animation-delay:-.45s}.lds-ring div:nth-child(2){animation-delay:-.3s}.lds-ring div:nth-child(3){animation-delay:-.15s}@keyframes lds-ring{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}#cameraLocalBtn{display:block}.confirm-image .image-container{width:100%;height:calc(100% - 3.3 * var(--mb-hem));background-color:var(--mb-widget-background-color);position:absolute;bottom:calc(3.3 * var(--mb-hem))}.confirm-image .button-container{position:absolute;bottom:0;box-sizing:border-box;width:100%;height:calc(3.3 * var(--mb-hem));background-color:var(--mb-widget-background-color);display:flex;justify-content:center;border-top:1px solid var(--mb-btn-container-border-color)}.confirm-image .button-container button{margin:calc(.5 * var(--mb-hem))}#webcamConfirmBtn{background-color:var(--mb-btn-background-color);color:var(--mb-btn-font-color)}#webcamRetakeBtn{background-color:var(--mb-btn-alt-background-color);color:var(--mb-btn-alt-font-color)}</style><div class="container root"><div class="tab-container"><div class="tab" id="introTab"><label><svg fill="none" viewBox="0 0 20 16" width="100%" xmlns="http://www.w3.org/2000/svg"><path d="m8 16 1.41-1.41-5.58-5.59h15.67v-2h-15.67l5.59-5.58-1.42-1.4200005-8.00000035 8.0000005z"/></svg><slot name="tabs.back">Back</slot></label></div><div class="tab active" id="resultsTab"><label><slot name="tabs.results">Results</slot></label></div><div class="tab" id="jsonTab"><label><slot name="tabs.json">JSON</slot></label></div></div><div class="container main"><div class="container intro dropzone active"><div class="flex-vertical"><p class="intro-label"><slot name="labels.chooseInputMethod">Choose input method</slot></p><div class="flex-horizontal"><button type="button" class="intro-button" id="cameraRemoteBtn"><div class="circle"><svg width="100%" viewBox="0 0 70 70" fill="none" stroke="black" xmlns="http://www.w3.org/2000/svg"><path d="M26.2846 16.102C27.6413 16.102 28.7411 15.0022 28.7411 13.6454C28.7411 12.2887 27.6413 11.1889 26.2846 11.1889C24.9279 11.1889 23.828 12.2887 23.828 13.6454C23.828 15.0022 24.9279 16.102 26.2846 16.102Z" stroke-miterlimit="10"/><path d="M49.6121 47.818V44.6646" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M49.6121 53.602V47.8181" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M20 42.4956V55.7155C20 59.1861 22.8139 62 26.2845 62" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M39.6642 7H26.2845C22.8139 7 20 9.8139 20 13.2845V25.0537" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M49.6123 44.6646V13.3946C49.6123 9.92394 46.7984 7.11005 43.3278 7.11005H41.8889" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M28.611 62H43.3277C46.7983 62 49.6122 59.1861 49.6122 55.7155" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M32.2887 15.0134C33.0441 15.0134 33.6566 14.401 33.6566 13.6455C33.6566 12.89 33.0441 12.2776 32.2887 12.2776C31.5332 12.2776 30.9208 12.89 30.9208 13.6455C30.9208 14.401 31.5332 15.0134 32.2887 15.0134Z" stroke-miterlimit="10"/></svg></div><p><slot name="buttons.cameraRemote">Use mobile camera</slot></p></button> <input type="file" accept="image/png,image/gif,image/bmp,image/jpeg,image/x-png,image/vnd.wap.wbmp" id="file"> <button type="button" class="intro-button" id="fileBtn"><div class="circle"><svg width="100%" viewBox="0 0 70 70" fill="none" stroke="black" xmlns="http://www.w3.org/2000/svg"><path d="M34.3388 13.3654V42.6923" stroke-linecap="round" stroke-linejoin="round"/><path d="M43.1777 18.8388L35.7531 11.4142C34.972 10.6332 33.7057 10.6332 32.9246 11.4142L25.5 18.8388" stroke-linecap="round" stroke-linejoin="round"/><path d="M38.2404 59.9999H49.0577" stroke-linecap="round" stroke-linejoin="round"/><path d="M13 52.3077V57C13 58.6568 14.3431 60 16 60H35.1154" stroke-linecap="round" stroke-linejoin="round"/><path d="M56.2692 52.3076V56.9999C56.2692 58.6568 54.9261 59.9999 53.2692 59.9999H49.5385" stroke-linecap="round" stroke-linejoin="round"/><path d="M18.7692 55.673H49.5385" stroke-linecap="round" stroke-linejoin="round"/></svg></div><p class="browseLabel"><slot name="buttons.browseDesktop">Upload image</slot></p><p class="browseLabel hidden"><slot name="buttons.browseMobile">Take or upload photo</slot></p></button> <button type="button" class="intro-button" id="cameraLocalBtn"><div class="circle"><svg width="100%" viewBox="0 0 70 70" fill="none" stroke="black" xmlns="http://www.w3.org/2000/svg"><path d="M35.7171 14.7725C36.4106 14.7725 36.9728 14.2104 36.9728 13.5169C36.9728 12.8234 36.4106 12.2612 35.7171 12.2612C35.0237 12.2612 34.4615 12.8234 34.4615 13.5169C34.4615 14.2104 35.0237 14.7725 35.7171 14.7725Z" stroke-linecap="round" stroke-linejoin="round"/><path d="M12.9204 33.9312V16.3388C12.9204 12.843 15.7739 10 19.2829 10H48.013" stroke-linecap="round" stroke-linejoin="round"/><path d="M13.2887 46.0429H58.3318C58.5345 46.0429 58.6977 45.8797 58.6977 45.6744V16.4415C58.6977 12.9457 55.8442 10.1027 52.3352 10.1027" stroke-linecap="round" stroke-linejoin="round"/><path d="M10.1772 50.0759H18.5983C18.801 50.0759 18.9668 50.2391 18.9668 50.4445V51.4948" stroke-linecap="round" stroke-linejoin="round"/><path d="M21.0305 50.0758H26.3822" stroke-linecap="round" stroke-linejoin="round"/><path d="M28.8171 50.0758H34.1688C34.3715 50.0758 34.5373 50.239 34.5373 50.4443V51.4947" stroke-linecap="round" stroke-linejoin="round"/><path d="M36.6039 50.0758H41.9556" stroke-linecap="round" stroke-linejoin="round"/><path d="M44.3907 50.0758H49.7423" stroke-linecap="round" stroke-linejoin="round"/><path d="M8.01323 54.4904H18.5981C18.8008 54.4904 18.9667 54.6536 18.9667 54.8589V55.9092" stroke-linecap="round" stroke-linejoin="round"/><path d="M21.0303 54.4904H26.382" stroke-linecap="round" stroke-linejoin="round"/><path d="M45.7514 60H15.9209" stroke-linecap="round" stroke-linejoin="round"/><path d="M29.1411 54.4904H41.9556" stroke-linecap="round" stroke-linejoin="round"/><path d="M44.3905 54.4904H49.7422" stroke-linecap="round" stroke-linejoin="round"/><path d="M52.156 54.4904H57.5077" stroke-linecap="round" stroke-linejoin="round"/><path d="M52.1773 50.0758H57.529C57.7317 50.0758 57.8975 50.239 57.8975 50.4443V51.4947" stroke-linecap="round" stroke-linejoin="round"/><path d="M48.7524 60H64.2257C64.3468 60 64.46 59.9395 64.5337 59.8368C64.6021 59.7368 64.6153 59.6104 64.5732 59.4972L61.0642 50.3101" stroke-linecap="round" stroke-linejoin="round"/><path d="M14.0124 14.6462H27.543" stroke-linecap="round" stroke-linejoin="round"/><path d="M13.2438 60H6.368C6.24954 60 6.13634 59.9421 6.0679 59.8447C5.99946 59.7473 5.98103 59.6236 6.02052 59.5104L7.66314 54.7378C7.72895 54.5457 7.93954 54.443 8.13171 54.5088" stroke-linecap="round" stroke-linejoin="round"/></svg></div><p class="cameraLocalLabel"><slot name="buttons.cameraLocalDesktop">Use web camera</slot></p><p class="cameraLocalLabel hidden"><slot name="buttons.cameraLocalMobile">In-browser camera</slot></p></button></div></div><div id="dragMask" class="flex-vertical"><p class="intro-label" style="opacity:0"><slot name="labels.chooseInputMethod">Choose input method</slot></p><div class="flex-horizontal"><button type="button" class="intro-button" id="dropButton"><div class="circle"><svg width="100%" viewBox="0 0 70 70" fill="none" stroke="black" xmlns="http://www.w3.org/2000/svg"><path d="M34.3388 13.3654V42.6923" stroke-linecap="round" stroke-linejoin="round"/><path d="M43.1777 18.8388L35.7531 11.4142C34.972 10.6332 33.7057 10.6332 32.9246 11.4142L25.5 18.8388" stroke-linecap="round" stroke-linejoin="round"/><path d="M38.2404 59.9999H49.0577" stroke-linecap="round" stroke-linejoin="round"/><path d="M13 52.3077V57C13 58.6568 14.3431 60 16 60H35.1154" stroke-linecap="round" stroke-linejoin="round"/><path d="M56.2692 52.3076V56.9999C56.2692 58.6568 54.9261 59.9999 53.2692 59.9999H49.5385" stroke-linecap="round" stroke-linejoin="round"/><path d="M18.7692 55.673H49.5385" stroke-linecap="round" stroke-linejoin="round"/></svg></div><p><slot name="buttons.dropFiles">Drop files to upload</slot></p></button></div></div></div><div class="container results"></div><div class="container json"><button id="copyBtn"><slot name="buttons.copy">Copy to clipboard</slot></button><div></div></div></div><div class="container remote-camera hidden"><h2 id="generating-exchange-link"><slot name="labels.generatingExchangeLink">Generating exchange link...</slot></h2><h2 id="exchange-link-title"><slot name="labels.exchangeLinkTitle">Exchange link is</slot></h2><button type="button" id="cancelBtnRemoteCamera"><slot name="cancel-btn-remote-camera"><svg width="100%" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g filter="url(#filter0_dd)"><path fill-rule="evenodd" clip-rule="evenodd" d="M16.0004 13.8786L24.2731 5.60596L26.3944 7.72728L18.1218 16L26.3944 24.2726L24.2731 26.3939L16.0004 18.1213L7.72777 26.3939L5.60645 24.2726L13.8791 16L5.60645 7.72728L7.72777 5.60596L16.0004 13.8786Z" fill="white"/></g><defs><filter id="filter0_dd" x="1.60645" y="1.60596" width="28.788" height="28.788" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/><feOffset/><feGaussianBlur stdDeviation="2"/><feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/><feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/><feOffset dy="1"/><feGaussianBlur stdDeviation="1"/><feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/><feBlend mode="normal" in2="effect1_dropShadow" result="effect2_dropShadow"/><feBlend mode="normal" in="SourceGraphic" in2="effect2_dropShadow" result="shape"/></filter></defs></svg></slot></button><div class="loader-img"><slot name="loader-image"><div class="lds-ring"><div></div><div></div><div></div><div></div></div></slot></div><div id="exchange-link"></div><div id="exchange-link-as-QR"></div><p id="exchange-link-notes"><slot name="labels.openLinkAtSmartphone">Please open exchange link at the smartphone</slot></p><p id="exchange-link-remote-camera-is-pending"><slot name="labels.remoteCameraIsPending">Remote camera is pending...</slot></p><p id="exchange-link-remote-camera-is-open"><slot name="labels.remoteCameraIsOpen">Remote camera is open...</slot></p><p id="exchange-link-image-is-uploading"><slot name="labels.imageIsUploading">Image is uploading...</slot></p><p id="exchange-link-image-is-processing"><slot name="labels.imageIsProcessing">Image is processing...</slot></p><div id="exchange-link-with">\x3c!-- TODO: add send link with email, SMS and copy to clipboard --\x3e</div></div><div class="container video hidden"><video class="flipped" id="video" muted playsinline><slot name="labels.videoTagUnsupported">Your browser does not support video tag</slot></video><div id="cardPlacer"><div class="corner corner-top corner-left"></div><div class="corner corner-top corner-right"></div><div class="corner corner-bottom corner-left"></div><div class="corner corner-bottom corner-right"></div></div><button type="button" id="photoBtn"><svg width="100%" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg"><g opacity="0.85"><circle class="primary" cx="50" cy="50" r="50" fill="white"/><g opacity="0.8"><circle class="accent" cx="50" cy="50" r="28" stroke="#48B2E8" stroke-width="2"/><circle class="accent" cx="50" cy="50" r="22" stroke="#48B2E8" stroke-width="2"/></g></g></svg><p><slot name="buttons.takePhoto">Take a photo</slot></p></button> <button type="button" id="flipBtn" class="flipped"><svg width="100%" viewBox="0 0 44 35" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 7V35" stroke-width="1.38744" stroke-miterlimit="3.8637" stroke-dasharray="1.39 2.77"/><path d="M38.8375 11.5471L27.2239 20.9999L38.8375 30.4527L38.8375 11.5471Z" stroke-width="1.38744"/><path class="fill" d="M5.16247 11.5471L16.7761 20.9999L5.16247 30.4527L5.16247 11.5471Z" stroke-width="1.38744"/><path class="fill" d="M21.4447 1.75C23.851 1.75 26.2572 2.975 28.1082 5.075L26.0721 7H31.625V1.75L29.4038 3.85C27.1827 1.4 24.4063 0 21.4447 0C17.9279 0 14.7812 1.75 12.375 5.075L13.8558 6.125C15.8918 3.325 18.4832 1.75 21.4447 1.75Z"/></svg></button> <button type="button" id="cancelBtnLocalCamera"><svg width="100%" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g filter="url(#filter1_dd)"><path fill-rule="evenodd" clip-rule="evenodd" d="M16.0004 13.8786L24.2731 5.60596L26.3944 7.72728L18.1218 16L26.3944 24.2726L24.2731 26.3939L16.0004 18.1213L7.72777 26.3939L5.60645 24.2726L13.8791 16L5.60645 7.72728L7.72777 5.60596L16.0004 13.8786Z" fill="white"/></g><defs><filter id="filter1_dd" x="1.60645" y="1.60596" width="28.788" height="28.788" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/><feOffset/><feGaussianBlur stdDeviation="2"/><feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/><feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/><feOffset dy="1"/><feGaussianBlur stdDeviation="1"/><feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/><feBlend mode="normal" in2="effect1_dropShadow" result="effect2_dropShadow"/><feBlend mode="normal" in="SourceGraphic" in2="effect2_dropShadow" result="shape"/></filter></defs></svg></button><div id="counter"><svg width="100%" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg"><circle class="primary" opacity="0.2" cx="60" cy="60" r="59" stroke="white" stroke-width="2"/><circle class="primary" opacity="0.8" cx="60" cy="60" r="50" fill="white"/><text id="counter-number" class="accent" x="50%" y="50%" fill="#48B2E8" text-anchor="middle" dy=".3em"></text></svg></div></div><div class="pending-container"><div class="loader-img"><slot name="loader-image"><div class="lds-ring"><div></div><div></div><div></div><div></div></div></slot></div><h2><slot name="labels.uploading">Uploading</slot>&nbsp;<span class="progress-bar-value"></span></h2><h2><slot name="labels.processing">Processing</slot></h2><h2><slot name="labels.analyzing">Analyzing</slot></h2><h2><slot name="labels.extracting">Extracting data</slot></h2><h2><slot name="labels.almostDone">Almost done</slot></h2></div><div class="error-container dialog"></div><div class="permission dialog"><div class="title"><slot name="labels.permissionMsg">Enable camera please</slot></div></div><div class="confirm-image"><button type="button" id="cancelBtnConfirmImage"><svg width="100%" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g filter="url(#filter2_dd)"><path fill-rule="evenodd" clip-rule="evenodd" d="M16.0004 13.8786L24.2731 5.60596L26.3944 7.72728L18.1218 16L26.3944 24.2726L24.2731 26.3939L16.0004 18.1213L7.72777 26.3939L5.60645 24.2726L13.8791 16L5.60645 7.72728L7.72777 5.60596L16.0004 13.8786Z" fill="white"/></g><defs><filter id="filter2_dd" x="1.60645" y="1.60596" width="28.788" height="28.788" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/><feOffset/><feGaussianBlur stdDeviation="2"/><feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/><feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/><feOffset dy="1"/><feGaussianBlur stdDeviation="1"/><feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/><feBlend mode="normal" in2="effect1_dropShadow" result="effect2_dropShadow"/><feBlend mode="normal" in="SourceGraphic" in2="effect2_dropShadow" result="shape"/></filter></defs></svg></button><div class="image-container"></div><div class="button-container"><button type="button" id="webcamRetakeBtn"><slot name="buttons.retake">RETAKE</slot></button> <button type="button" id="webcamConfirmBtn"><slot name="buttons.confirm">USE PHOTO</slot></button></div></div><div style="display:none"><slot name="buttons.tryAgain">TRY AGAIN</slot><slot name="labels.errorMsg">We\'re sorry, but something went wrong. Please try again.</slot><slot name="labels.notFoundErrorMsg">No camera was found on your device.</slot><slot name="labels.notAllowedErrorMsg">You have denied camera access permission.</slot><slot name="labels.cameraNotAvailableErrorMsg">Camera is not available at this moment.</slot><slot name="labels.cameraInUseErrorMsg">Camera is already in use.</slot><slot name="labels.scanningFinishedNoDataTitle">Document not recognized.</slot><slot name="labels.scanningFinishedNoDataMessage">Please try again with a supported document or select a different document type.</slot><slot name="labels.unsupportedFileType">Unsupported file type.</slot><slot name="labels.selectDocumentType">Please select one or more document types to start scanning.</slot><slot name="labels.noDocumentType">No document type selected.</slot><slot name="labels.webRtcUnsupported">WebRTC not supported by your browser.</slot><slot name="labels.fileSizeLimitExceeded">Maximum file size is 15 MB.</slot></div></div>',Zo=function(){if("undefined"==typeof window)return null;var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};function t(e,t){var r=Object.prototype.toString.call(e),n="[object Array]"===r||"[object NodeList]"===r||"[object HTMLCollection]"===r||"[object Object]"===r||"undefined"!=typeof jQuery&&e instanceof jQuery||"undefined"!=typeof Elements&&e instanceof Elements,o=0,i=e.length;if(n)for(;o<i;o++)t(e[o]);else t(e)}function r(e){if(!e.getBoundingClientRect)return{width:e.offsetWidth,height:e.offsetHeight};var t=e.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}var n=function n(o,i){function a(){var e,t,r=[];this.add=function(e){r.push(e)},this.call=function(n){for(e=0,t=r.length;e<t;e++)r[e].call(this,n)},this.remove=function(n){var o=[];for(e=0,t=r.length;e<t;e++)r[e]!==n&&o.push(r[e]);r=o},this.length=function(){return r.length}}function s(t,n){if(t)if(t.resizedAttached)t.resizedAttached.add(n);else{t.resizedAttached=new a,t.resizedAttached.add(n),t.resizeSensor=document.createElement("div"),t.resizeSensor.dir="ltr",t.resizeSensor.className="resize-sensor";var o="position: absolute; left: -10px; top: -10px; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden; max-width: 100%",i="position: absolute; left: 0; top: 0; transition: 0s;";t.resizeSensor.style.cssText=o,t.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+o+'"><div style="'+i+'"></div></div><div class="resize-sensor-shrink" style="'+o+'"><div style="'+i+' width: 200%; height: 200%"></div></div>',t.appendChild(t.resizeSensor);var s=window.getComputedStyle(t),c=s?s.getPropertyValue("position"):null;"absolute"!==c&&"relative"!==c&&"fixed"!==c&&(t.style.position="relative");var l,u,d=t.resizeSensor.childNodes[0],h=d.childNodes[0],f=t.resizeSensor.childNodes[1],p=r(t),m=p.width,g=p.height,v=!0,b=0,y=function r(){if(v){if(0===t.offsetWidth&&0===t.offsetHeight)return void(b||(b=e(function(){b=0,r()})));v=!1}h.style.width="100000px",h.style.height="100000px",d.scrollLeft=1e5,d.scrollTop=1e5,f.scrollLeft=1e5,f.scrollTop=1e5};t.resizeSensor.resetSensor=y;var w=function(){u=0,l&&(m=p.width,g=p.height,t.resizedAttached&&t.resizedAttached.call(p))},S=function(){p=r(t),(l=p.width!==m||p.height!==g)&&!u&&(u=e(w)),y()},A=function(e,t,r){e.attachEvent?e.attachEvent("on"+t,r):e.addEventListener(t,r)};A(d,"scroll",S),A(f,"scroll",S),e(y)}}t(o,function(e){s(e,i)}),this.detach=function(e){n.detach(o,e)},this.reset=function(){o.resizeSensor.resetSensor()}};return n.reset=function(e,r){t(e,function(e){e.resizeSensor.resetSensor()})},n.detach=function(e,r){t(e,function(e){e&&(e.resizedAttached&&"function"==typeof r&&(e.resizedAttached.remove(r),e.resizedAttached.length())||e.resizeSensor&&(e.contains(e.resizeSensor)&&e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached))})},n}(),ei=n.parseFloat,ti=$r.trim,ri=1/ei(Qr+"-0")!=-1/0?function(e){var t=ti(String(e),3),r=ei(t);return 0===r&&"-"==t.charAt(0)?-0:r}:ei;x(x.G+x.F*(parseFloat!=ri),{parseFloat:ri});var ni=o.parseFloat;
/**
	 * @license
	 *
	 * Copyright (c) 2013 Marc J. Schmidt

	 Permission is hereby granted, free of charge, to any person obtaining a copy
	 of this software and associated documentation files (the "Software"), to deal
	 in the Software without restriction, including without limitation the rights
	 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	 copies of the Software, and to permit persons to whom the Software is
	 furnished to do so, subject to the following conditions:

	 The above copyright notice and this permission notice shall be included in
	 all copies or substantial portions of the Software.

	 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	 THE SOFTWARE.
	 * */
function oi(e,t){var r=function(){var r,n={},o=[];function i(e){e||(e=document.documentElement);var t=window.getComputedStyle(e,null).fontSize;return ni(t)||16}function a(e,t){var r=t.split(/\d/),n=r[r.length-1];switch(t=ni(t),n){case"px":return t;case"em":return t*i(e);case"rem":return t*i();case"vw":return t*document.documentElement.clientWidth/100;case"vh":return t*document.documentElement.clientHeight/100;case"vmin":case"vmax":var o=document.documentElement.clientWidth/100,a=document.documentElement.clientHeight/100;return t*(0,Math["vmin"===n?"min":"max"])(o,a);default:return t}}function s(e,t){var r,o,i,s,c,l,u,d;this.element=e;var h=["min-width","min-height","max-width","max-height"];this.call=function(){for(r in i=function(e){if(!e.getBoundingClientRect)return{width:e.offsetWidth,height:e.offsetHeight};var t=e.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}(this.element),l={},n[t])n[t].hasOwnProperty(r)&&(o=n[t][r],s=a(this.element,o.value),c="width"===o.property?i.width:i.height,d=o.mode+"-"+o.property,u="","min"===o.mode&&c>=s&&(u+=o.value),"max"===o.mode&&c<=s&&(u+=o.value),l[d]||(l[d]=""),u&&-1===(" "+l[d]+" ").indexOf(" "+u+" ")&&(l[d]+=" "+u));for(var e in h)h.hasOwnProperty(e)&&(l[h[e]]?this.element.setAttribute(h[e],l[h[e]].substr(1)):this.element.removeAttribute(h[e]))}}function c(t,r){t.elementQueriesSetupInformation||(t.elementQueriesSetupInformation=new s(t,r)),t.elementQueriesSensor||(t.elementQueriesSensor=new e(t,function(){t.elementQueriesSetupInformation.call()})),t.elementQueriesSetupInformation.call()}function l(e,t,i,a){if(void 0===n[e]){n[e]=[];var s=o.length;r.innerHTML+="\n"+e+" {animation: 0.1s element-queries;}",r.innerHTML+="\n"+e+" > .resize-sensor {min-width: "+s+"px;}",o.push(e)}n[e].push({mode:t,property:i,value:a})}function u(e){var r;if(document.querySelectorAll&&(r=e?e.querySelectorAll.bind(e):t?t.querySelectorAll.bind(t):document.querySelectorAll.bind(document)),r||"undefined"==typeof $$||(r=$$),r||"undefined"==typeof jQuery||(r=jQuery),!r)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return r}function d(t){var r=[],n=[],o=[],i=0,a=-1,s=[];for(var c in t.children)if(t.children.hasOwnProperty(c)&&t.children[c].tagName&&"img"===t.children[c].tagName.toLowerCase()){r.push(t.children[c]);var l=t.children[c].getAttribute("min-width")||t.children[c].getAttribute("data-min-width"),u=t.children[c].getAttribute("data-src")||t.children[c].getAttribute("url");o.push(u);var d={minWidth:l};n.push(d),l?t.children[c].style.display="none":(i=r.length-1,t.children[c].style.display="block")}function h(){var e,c=!1;for(e in r)r.hasOwnProperty(e)&&n[e].minWidth&&t.offsetWidth>n[e].minWidth&&(c=e);if(c||(c=i),a!==c)if(s[c])r[a].style.display="none",r[c].style.display="block",a=c;else{var l=new Image;l.onload=function(){r[c].src=o[c],r[a].style.display="none",r[c].style.display="block",s[c]=!0,a=c},l.src=o[c]}else r[c].src=o[c]}a=i,t.resizeSensorInstance=new e(t,h),h()}var h=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,f=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim;function p(e){var t,r,n,o;for(e=e.replace(/'/g,'"');null!==(t=h.exec(e));)for(r=t[1]+t[3],n=t[2];null!==(o=f.exec(n));)l(r,o[1],o[2],o[3])}function m(e){var t="";if(e)if("string"==typeof e)-1===(e=e.toLowerCase()).indexOf("min-width")&&-1===e.indexOf("max-width")||p(e);else for(var r=0,n=e.length;r<n;r++)1===e[r].type?-1!==(t=e[r].selectorText||e[r].cssText).indexOf("min-height")||-1!==t.indexOf("max-height")?p(t):-1===t.indexOf("min-width")&&-1===t.indexOf("max-width")||p(t):4===e[r].type?m(e[r].cssRules||e[r].rules):3===e[r].type&&e[r].styleSheet.hasOwnProperty("cssRules")&&m(e[r].styleSheet.cssRules)}var g=!1;this.init=function(){var n="animationstart";void 0!==document.documentElement.style.webkitAnimationName?n="webkitAnimationStart":void 0!==document.documentElement.style.MozAnimationName?n="mozanimationstart":void 0!==document.documentElement.style.OAnimationName&&(n="oanimationstart");var i=t||document.body;if(i.addEventListener(n,function(t){var r=t.target,n=r&&window.getComputedStyle(r,null),i=n&&n.getPropertyValue("animation-name");if(i&&-1!==i.indexOf("element-queries")){r.elementQueriesSensor=new e(r,function(){r.elementQueriesSetupInformation&&r.elementQueriesSetupInformation.call()});var a=window.getComputedStyle(r.resizeSensor,null).getPropertyValue("min-width");a=nn(a.replace("px","")),c(t.target,o[a])}}),i=t||document,!g){(r=document.createElement("style")).type="text/css",r.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}",r.innerHTML+="\n@keyframes element-queries { 0% { visibility: inherit; } }",t?t.appendChild(r):document.getElementsByTagName("head")[0].appendChild(r),i.styleSheets||(Array.prototype.forEach.call(i.querySelectorAll("style"),function(e,t){var r=document.createElement("style");r.id="elemQueryStyleFix"+t,r.innerHTML=e.innerHTML,document.head.appendChild(r)}),i=document);for(var a=0,s=i.styleSheets.length;a<s;a++)try{i.styleSheets[a].href&&0===i.styleSheets[a].href.indexOf("file://")&&console.log("CssElementQueries: unable to parse local css files, "+i.styleSheets[a].href),m(i.styleSheets[a].cssRules||i.styleSheets[a].rules||i.styleSheets[a].cssText)}catch(e){}i.styleSheets||Array.prototype.forEach.call(document.head.querySelectorAll("style"),function(e){e.id&&0===e.id.indexOf("elemQueryStyleFix")&&document.head.removeChild(e)})}g=!0,function(){for(var e=u()("[data-responsive-image],[responsive-image]"),t=0,r=e.length;t<r;t++)d(e[t])}()},this.findElementQueriesElements=function(e){!function(e){var t=u(e);for(var r in n)if(n.hasOwnProperty(r))for(var o=t(r,e),i=0,a=o.length;i<a;i++)c(o[i],r)}(e)},this.update=function(){this.init()}};r.update=function(){r.instance.update()},r.detach=function(e){e.elementQueriesSetupInformation?(e.elementQueriesSensor.detach(),delete e.elementQueriesSetupInformation,delete e.elementQueriesSensor):e.resizeSensorInstance&&(e.resizeSensorInstance.detach(),delete e.resizeSensorInstance)},r.init=function(){r.instance||(r.instance=new r),r.instance.init()};return r.findElementQueriesElements=function(e){r.instance.findElementQueriesElements(e)},r.listen=function(){!function(e){if(/loaded|complete/i.test(document.readyState))e();else if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var t=setInterval(function(){/loaded|complete/i.test(document.readyState)&&(e(),clearInterval(t))},10);else window.onload=e}(r.init)},r}var ii=r(function(e){var t,r,n,o,i;t="undefined"!=typeof window&&void 0!==window.document?window.document:{},r=e.exports,n=function(){for(var e,r=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,o=r.length,i={};n<o;n++)if((e=r[n])&&e[1]in t){for(n=0;n<e.length;n++)i[r[0][n]]=e[n];return i}return!1}(),o={change:n.fullscreenchange,error:n.fullscreenerror},i={request:function(e){return new Promise(function(r,o){var i=function(){this.off("change",i),r()}.bind(this);this.on("change",i),e=e||t.documentElement,Promise.resolve(e[n.requestFullscreen]()).catch(o)}.bind(this))},exit:function(){return new Promise(function(e,r){if(this.isFullscreen){var o=function(){this.off("change",o),e()}.bind(this);this.on("change",o),Promise.resolve(t[n.exitFullscreen]()).catch(r)}else e()}.bind(this))},toggle:function(e){return this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,r){var n=o[e];n&&t.addEventListener(n,r,!1)},off:function(e,r){var n=o[e];n&&t.removeEventListener(n,r,!1)},raw:n},n?(Object.defineProperties(i,{isFullscreen:{get:function(){return Boolean(t[n.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[n.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(t[n.fullscreenEnabled])}}}),r?e.exports=i:window.screenfull=i):r?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}),ai=(ii.isEnabled,function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],n=0;n<e.rangeCount;n++)r.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||r.forEach(function(t){e.addRange(t)}),t&&t.focus()}}),si="Copy to clipboard: #{key}, Enter";var ci,li,ui=function(e,t){var r,n,o,i,a,s,c=!1;t||(t={}),r=t.debug||!1;try{if(o=ai(),i=document.createRange(),a=document.getSelection(),(s=document.createElement("span")).textContent=e,s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",function(r){r.stopPropagation(),t.format&&(r.preventDefault(),r.clipboardData.clearData(),r.clipboardData.setData(t.format,e))}),document.body.appendChild(s),i.selectNodeContents(s),a.addRange(i),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");c=!0}catch(o){r&&console.error("unable to copy using execCommand: ",o),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),c=!0}catch(o){r&&console.error("unable to copy using clipboardData: ",o),r&&console.error("falling back to prompt"),n=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:si),window.prompt(n,e)}}finally{a&&("function"==typeof a.removeRange?a.removeRange(i):a.removeAllRanges()),s&&document.body.removeChild(s),o()}return c};function di(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/\n/g,"\\n"):e}function hi(){return/Mobi|Android/.test(navigator.userAgent)}function fi(){return/Version\//.test(navigator.userAgent)&&/Safari\//.test(navigator.userAgent)&&!/(Chrome|Chromium)\//.test(navigator.userAgent)}function pi(){return/Firefox\//.test(navigator.userAgent)&&!/Seamonkey\//.test(navigator.userAgent)}function mi(){return function(){try{return firebase.app(),!0}catch(e){return!1}}()}function gi(e,t){return new RegExp("(^|\\s)".concat(String(t).trim(),"($|\\s)")).test(e.className)}function vi(e,t){return gi(e,t)||(e.className+=" ".concat(t),e.className=e.className.trim()),e}function bi(e,t){return e.className=e.className.replace(new RegExp("(\\s|^)".concat(String(t).split(" ").join("|"),"(\\s|$)"),"g")," ").trim(),e}function yi(e,t,r){return!0===r?vi(e,t):!1===r?bi(e,t):gi(e,t)?bi(e,t):vi(e,t)}function wi(e){if(e)switch(e.charAt(0)){case"/":return"jpg";case"R":return"gif";case"U":return"webp";case"i":default:return"png"}}!function(e){e[e.BackFacingCamera=0]="BackFacingCamera",e[e.FrontFacingCamera=1]="FrontFacingCamera"}(ci||(ci={})),function(e){e.MediaDevicesNotSupported="MediaDevicesNotSupported",e.CameraNotFound="CameraNotFound",e.CameraNotAllowed="CameraNotAllowed",e.CameraInUse="CameraInUse",e.CameraNotAvailable="CameraNotAvailable"}(li||(li={}));var Si=function(e){function t(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var o=e.apply(this,r)||this;return o.reason=t,o.name="CameraManagerError",o}return _n(t,e),t}(Error);function Ai(e,t){return void 0===t&&(t=ci.BackFacingCamera),Cn(this,void 0,void 0,function(){var r=this;return Bn(this,function(n){return[2,new Promise(function(n,o){return Cn(r,void 0,void 0,function(){var r,i,a,s,c;return Bn(this,function(l){switch(l.label){case 0:if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)return[3,6];l.label=1;case 1:return l.trys.push([1,4,,5]),[4,function(e){return Cn(this,void 0,void 0,function(){var t,r,n,o,i,a,s,c,l,u;return Bn(this,function(d){switch(d.label){case 0:return t=[],r=[],[4,navigator.mediaDevices.enumerateDevices()];case 1:return(n=d.sent()).filter(function(e){return"videoinput"===e.kind}).every(function(e){return""===e.label})?[4,navigator.mediaDevices.getUserMedia({video:{facingMode:{ideal:"environment"}},audio:!1})]:[3,4];case 2:return o=d.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 3:n=d.sent(),o.getTracks().forEach(function(e){return e.stop()}),d.label=4;case 4:for(a in i=n.filter(function(e){return"videoinput"===e.kind}))Ei((s=i[a]).label)?r.push(s):t.push(s);return t.length>0||r.length>0?(c=r.length>0?r:t,e===ci.BackFacingCamera&&r.length>0&&(c=r),e===ci.FrontFacingCamera&&t.length>0&&(c=t),c=c.sort(function(e,t){return e.label.localeCompare(t.label)}),l=0,(u=c.map(function(e){var t=e.label.match(/\b([0-9]+)MP?\b/i);return null!==t?parseInt(t[1],10):NaN})).some(function(e){return isNaN(e)})||(l=u.lastIndexOf(Math.max.apply(Math,u))),[2,c[l]]):[2,null]}})})}(t)];case 2:return null===(r=l.sent())?(o(new Si(li.CameraNotFound)),[2]):(i={audio:!1,video:{width:{min:640,ideal:1920,max:1920},height:{min:480,ideal:1080,max:1080}}},""===r.deviceId?i.video.facingMode={ideal:t===ci.BackFacingCamera?"environment":"user"}:i.video.deviceId={exact:r.deviceId},[4,navigator.mediaDevices.getUserMedia(i)]);case 3:return a=l.sent(),e.controls=!1,e.srcObject=a,n(e),[3,5];case 4:switch(s=l.sent(),c=li.CameraInUse,s.name){case"NotFoundError":case"OverconstrainedError":c=li.CameraNotFound;break;case"NotAllowedError":case"SecurityError":c=li.CameraNotAllowed;break;case"AbortError":case"NotReadableError":c=li.CameraNotAvailable;break;case"TypeError":throw s}return o(new Si(c,s.message)),[3,5];case 5:return[3,7];case 6:o(new Si(li.MediaDevicesNotSupported)),l.label=7;case 7:return[2]}})})})]})})}var xi=["rear","back","rück","arrière","trasera","trás","traseira","posteriore","后面","後面","背面","后置","後置","背置","задней","الخلفية","후","arka","achterzijde","หลัง","baksidan","bagside","sau","bak","tylny","takakamera","belakang","אחורית","πίσω","spate","hátsó","zadní","darrere","zadná","задня","stražnja","belakang","बैक"];function Ei(e){var t=e.toLowerCase();return xi.some(function(e){return t.includes(e)})}function ki(){return pe(HTMLElement,[],this.__proto__.constructor)}O(ki.prototype,HTMLElement.prototype),O(ki,HTMLElement);var Ii={SDK:Fo};window&&(window.Microblink=Ii);var _i=document.createElement("script");function Ci(){var e=document.createElement("template");e.innerHTML=$o,window.ShadyCSS&&ShadyCSS.prepareTemplate(e,"microblink-ui-web");var t=function(t){function r(){var e;return sn(this,r),(e=ln(this,dn(r).call(this))).attachShadow({mode:"open"}),e.onScanError=e.onScanError.bind(cn(e)),e.onScanSuccess=e.onScanSuccess.bind(cn(e)),e.onScanProgress=e.onScanProgress.bind(cn(e)),e.startRecording=e.startRecording.bind(cn(e)),e.autoScrollListener=e.autoScrollListener.bind(cn(e)),e.getLocalization=e.getLocalization.bind(cn(e)),e.currentScanSecretKey=null,e.unsubscribeFromScanExchangerChanges=null,e.executionResult=null,Ii.SDK.RegisterListener(cn(e)),e}return kn(r,ki),Sn(r,[{key:"tabs",get:function(){return this.hasAttribute("tabs")},set:function(e){!0===e?this.setAttribute("tabs",""):this.removeAttribute("tabs")}},{key:"autoscroll",get:function(){return this.hasAttribute("autoscroll")},set:function(e){!0===e?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}},{key:"webcam",get:function(){return"off"!==this.getAttribute("webcam")},set:function(e){!1===e?this.setAttribute("webcam","off"):this.removeAttribute("webcam")}},{key:"upload",get:function(){return"off"!==this.getAttribute("upload")},set:function(e){!1===e?this.setAttribute("upload","off"):this.removeAttribute("upload")}},{key:"fullscreen",get:function(){return"off"!==this.getAttribute("fullscreen")},set:function(e){!1===e?this.setAttribute("fullscreen","false"):this.removeAttribute("fullscreen")}}],[{key:"observedAttributes",get:function(){return["tabs","autoscroll","webcam","fullscreen","upload"]}}]),Sn(r,[{key:"connectedCallback",value:function(){var t=this;this.shadowRoot||this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML&&(this.shadowRoot.innerHTML=""),this.shadowRoot.appendChild(e.content.cloneNode(!0)),this.getLocalization(),this.shadowRoot.getElementById("fileBtn").addEventListener("click",function(){return t.shadowRoot.getElementById("file").click()}),this.shadowRoot.getElementById("file").addEventListener("click",function(){this.value=""}),this.shadowRoot.getElementById("file").addEventListener("touchstart",function(){this.value=""}),this.shadowRoot.getElementById("file").addEventListener("change",this.fileChosen.bind(this)),this.shadowRoot.getElementById("cancelBtnLocalCamera").addEventListener("click",function(){t.clearTimers(),t.stopCamera()}),this.shadowRoot.getElementById("cancelBtnRemoteCamera").addEventListener("click",function(){t.stopCamera()}),this.shadowRoot.querySelector(".dropzone").addEventListener("dragover",function(e){return e.preventDefault()}),this.shadowRoot.querySelector(".dropzone").addEventListener("drop",this.onDrop.bind(this)),this.shadowRoot.querySelector(".dropzone").addEventListener("dragenter",this.onDragEnter.bind(this)),this.shadowRoot.querySelector(".dropzone").addEventListener("dragleave",this.onDragLeave.bind(this)),this.shadowRoot.getElementById("cameraLocalBtn").addEventListener("click",function(){pi()?t.openFullscreen().finally(function(){return t.activateLocalCamera()}):fi()?(t.cameraPermitted&&t.openFullscreen(),t.activateLocalCamera()):(t.openFullscreen(),t.activateLocalCamera())}),this.shadowRoot.getElementById("cameraRemoteBtn").addEventListener("click",this.activateRemoteCamera.bind(this)),this.shadowRoot.querySelector("video").addEventListener("loadedmetadata",function(){this.play(),this.controls=!1}),this.shadowRoot.querySelector("video").addEventListener("play",function(){bi(t.shadowRoot.getElementById("photoBtn"),"hidden"),bi(t.shadowRoot.getElementById("cardPlacer"),"hidden")}),this.shadowRoot.getElementById("photoBtn").addEventListener("click",function(){return t.startRecording()}),this.shadowRoot.getElementById("flipBtn").addEventListener("click",this.flipCamera.bind(this)),Array.prototype.forEach.call(this.shadowRoot.querySelectorAll(".tab"),function(e){e.addEventListener("click",function(){var r=e.id;"introTab"===r&&t.toggleTabs(!1),Array.prototype.forEach.call(t.shadowRoot.querySelectorAll(".tab"),function(e){return yi(e,"active",r===e.id)}),Array.prototype.forEach.call(t.shadowRoot.querySelectorAll(".main > .container"),function(e){yi(e,"active",gi(e,r.substring(0,r.length-3)))})})}),this.shadowRoot.getElementById("copyBtn").addEventListener("click",function(){ui(an(t.executionResult,null,2))}),this.checkRecognizers(),this.checkWebRTCSupport(),this.checkRemoteCameraSupport(),this.checkForSafariCamera(),this.adjustComponent(!0),this.ElementQueries=oi(Zo,this.shadowRoot),this.ElementQueries.listen(),window.addEventListener("resize",this.adjustComponent.bind(this,!1)),this.shadowRoot.getElementById("webcamConfirmBtn").addEventListener("click",function(){Ii.SDK.SendImage(t.webcamImage,t.onScanProgress),t.enableResultShow=!0,t.toggleLoader(!0),t.restart(),t.stopCamera(),t.clearConfirmImage()}),this.shadowRoot.getElementById("webcamRetakeBtn").addEventListener("click",function(){t.clearConfirmImage()}),this.shadowRoot.getElementById("cancelBtnConfirmImage").addEventListener("click",function(){t.stopCamera(),t.clearConfirmImage()}),document.addEventListener("keydown",function(e){"Escape"===(e=e||window.event).key&&(t.clearTimers(),t.stopCamera())}),document.addEventListener("recognizersUpdated",function(){t.checkRecognizers()&&bi(t.shadowRoot.querySelector(".error-container"),"show")}),this.shadowRoot.querySelector('slot[name="loader-image"]').addEventListener("slotchange",function(e){var r=e.target.assignedElements();if(0!==r.length){var n=Array.prototype.map.call(t.shadowRoot.querySelectorAll('slot[name="loader-image"]'),function(e){return e});n.shift(),n.forEach(function(e){e.innerHTML="",r.forEach(function(t){return e.appendChild(t.cloneNode(!0))})})}})}},{key:"attributeChangedCallback",value:function(e,t,r){"autoscroll"===e&&window[(null!==r?"add":"remove")+"EventListener"]("scroll",this.autoScrollListener)}},{key:"adjustComponent",value:function(e){if(hi()&&(ii&&ii.isFullscreen?ii.onChangeHandler({target:this}):nn(getComputedStyle(this.parentNode).height)<window.innerHeight?this.style.height=getComputedStyle(this.parentNode).height:this.style.height="".concat(window.innerHeight,"px"),e)){this.shadowRoot.getElementById("flipBtn").style.setProperty("display","none","important");var t=this.shadowRoot.getElementById("cameraRemoteBtn");if(t){var r=this.shadowRoot.querySelector("#cameraLocalBtn .circle");r?r.innerHTML=this.shadowRoot.querySelector("#cameraRemoteBtn .circle").innerHTML:this.removeChooseLabel(),t.parentNode.removeChild(t)}Array.prototype.forEach.call(this.shadowRoot.querySelectorAll(".cameraLocalLabel, .browseLabel"),function(e){return yi(e,"hidden")}),Array.prototype.forEach.call(this.shadowRoot.querySelectorAll("#flipBtn, .video video"),function(e){return yi(e,"flipped")})}this.adjustCardPlacer(hi())}},{key:"adjustCardPlacer",value:function(e){var t=this.shadowRoot.querySelector(".root"),r=t.offsetWidth,n=t.offsetHeight,o=r/n>1.585772508336421?r:1.585772508336421*n,i=o/1.585772508336421,a=((1-(e&&window.innerHeight>window.innerWidth?.85:.6))*r+(o-r))/2,s=a/1.585772508336421,c=this.shadowRoot.getElementById("cardPlacer");c.style.width="".concat(o,"px"),c.style.height="".concat(i,"px"),c.style.borderWidth="".concat(s,"px ").concat(a,"px")}},{key:"autoScrollListener",value:function(e){var t=this;if(hi())if(void 0===this.autoScrollListener.previousPositionY)this.autoScrollListener.previousPositionY=this.getBoundingClientRect().top;else{var r=this.autoScrollListener.previousPositionY,n=this.getBoundingClientRect().top;if(this.autoScrollListener.previousPositionY=n,Math.abs(n)<30&&Math.abs(r)>Math.abs(n)&&!this.autoScrollListener.touchEventInit){this.autoScrollListener.touchEventInit=!0,document.body.style.setProperty("overflow","hidden","important"),window.scrollTo(0,window.pageYOffset+this.getBoundingClientRect().top);var o=setInterval(function(){return window.scrollTo(0,window.pageYOffset+t.getBoundingClientRect().top)},25);setTimeout(function(){clearInterval(o),document.body.style.overflow="",t.autoScrollListener.touchEventInit=!1},400)}}}},{key:"getSlotText",value:function(e){return this.querySelector('span[slot="'+e+'"]')?this.querySelector('span[slot="'+e+'"]').textContent:this.shadowRoot.querySelector('slot[name="'.concat(e,'"]')).textContent}},{key:"checkRecognizers",value:function(){return!!Ii.SDK.IsRecognizerArraySet()||(this.toggleError(!0,this.getSlotText("labels.selectDocumentType"),this.getSlotText("labels.noDocumentType"),!0),!1)}},{key:"checkWebRTCSupport",value:function(){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){var e=this.shadowRoot.getElementById("cameraLocalBtn");e.parentNode.removeChild(e)}}},{key:"checkRemoteCameraSupport",value:function(){var e=this;Ii.SDK.IsDesktopToMobileAvailable().then(function(t){if(!t||!mi()){var r=e.shadowRoot.getElementById("cameraRemoteBtn");r&&r.style.setProperty("display","none","important"),e.shadowRoot.getElementById("cameraLocalBtn")||e.removeChooseLabel()}})}},{key:"removeChooseLabel",value:function(){Array.prototype.map.call(this.shadowRoot.querySelectorAll(".container.intro .intro-label"),function(e){return e}).forEach(function(e){return e.parentNode.removeChild(e)})}},{key:"getLocalization",value:function(){var e=this,t=this.getElementsByClassName("localization")[0];return t?new Kt(function(r){if(/\sjson\s/.test(" ".concat(t.className," ")))try{e.handleJson(JSON.parse(t.content.textContent.trim().replace(/\\n/g,"<br/>"))),r(!0)}catch(e){r(!1)}else{var n=t.content.textContent,o=new XMLHttpRequest;o.onreadystatechange=function(){if(4===o.readyState&&200===o.status)try{e.handleJson(JSON.parse(o.responseText.trim().replace(/\\n/g,"<br/>"))),r(!0)}catch(e){r(!1)}else 4===o.readyState&&r(!1)},o.open("GET",n&&n.trim(),!0),o.send()}}):Kt.resolve(!0)}},{key:"handleJson",value:function(e){var t="";if(function e(r,n){Ur(r).forEach(function(o){r[o]instanceof Object?e(r[o],n?n+"."+o:o):t+='<span class="translate-label" slot="'.concat(n?n+"."+o:o,'">').concat(r[o],"</span>")})}(e,""),t){var r=document.createElement("template");r.innerHTML=t,this.appendChild(r.content.cloneNode(!0))}}},{key:"setLocalization",value:function(e){if(!e||!["string","object"].includes(Yr(e)))return!1;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return!1}return Array.prototype.forEach.call(this.querySelectorAll(".translate-label"),function(e){return e.parentNode.removeChild(e)}),this.handleJson(e),!0}},{key:"injectStyleSheet",value:function(e){if(e){var t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=e,this.shadowRoot.insertBefore(t,this.shadowRoot.childNodes[1])}}},{key:"toggleLoader",value:function(e){var t=this.shadowRoot.querySelector(".pending-container");e&&(this.shadowRoot.querySelector(".progress-bar-value").textContent="0%",Array.prototype.forEach.call(this.shadowRoot.querySelectorAll(".pending-container h2"),function(e){return yi(e,"hidden",!e.matches(":first-of-type"))}),this.toggleTabs(!1)),yi(t,"show",e)}},{key:"toggleError",value:function(e,t,r,n){var o=this,i=this.shadowRoot.querySelector(".error-container");if(i.innerHTML="",r){var a=document.createElement("div");a.textContent=r,vi(a,"title"),i.appendChild(a)}var s=document.createElement("div");if(vi(s,"message"),s.textContent=t||this.getSlotText("labels.errorMsg"),i.appendChild(s),!n){var c=document.createElement("button");c.textContent=this.getSlotText("buttons.tryAgain"),c.addEventListener("click",function(){o.restart(),o.stopCamera(),o.toggleError()}),i.appendChild(c)}yi(i,"show",e)}},{key:"toggleTabs",value:function(e){yi(this.shadowRoot.querySelector(".container.root"),"tabs",e);var t=this.shadowRoot.querySelectorAll(".main > .container");!1===e?(Array.prototype.forEach.call(this.shadowRoot.querySelectorAll(".tab"),function(e){return yi(e,"active","resultsTab"===e.id)}),Array.prototype.forEach.call(t,function(e){return yi(e,"active",gi(e,"intro"))})):!0===e&&Array.prototype.forEach.call(t,function(e){return yi(e,"active",gi(e,"results"))})}},{key:"onDrop",value:function(e){var t;if(e.preventDefault(),this.onDragLeave(),t=e.dataTransfer.items&&e.dataTransfer.items[0]?e.dataTransfer.items[0].getAsFile():e.dataTransfer.files&&e.dataTransfer.files[0]){var r=this.shadowRoot.getElementById("file").getAttribute("accept").split(",");if(t.type&&r.find(function(e){return e===t.type}))this.setFile(t);else{var n=this.getSlotText("labels.unsupportedFileType");this.toggleError(!0,n),this.dispatchEvent("error",new Error(n))}}}},{key:"onDragEnter",value:function(){vi(this.shadowRoot.querySelector(".dropzone"),"draghover")}},{key:"onDragLeave",value:function(){bi(this.shadowRoot.querySelector(".dropzone"),"draghover")}},{key:"fileChosen",value:function(e){var t=e.target.files&&e.target.files[0];t&&this.setFile(t)}},{key:"setFile",value:function(e){if(e.size>15728640){var t=this.getSlotText("labels.fileSizeLimitExceeded");return this.toggleError(!0,t),void this.dispatchEvent("error",new Error(t))}this.toggleLoader(!0),this.restart(),Ii.SDK.SendImage({blob:e},this.onScanProgress),this.enableResultShow=!0}},{key:"activateRemoteCamera",value:function(){var e=Xt(me.mark(function e(){var t,r,n=this;return me.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.unsubscribeFromScanExchangerChanges&&this.unsubscribeFromScanExchangerChanges(),t=this.shadowRoot,r=function(){return n.enableResultShow=!0},t.getElementById("generating-exchange-link").style.setProperty("display","block"),t.getElementById("exchange-link-title").style.setProperty("display","none","important"),t.getElementById("exchange-link-notes").style.setProperty("display","none","important"),t.getElementById("exchange-link-remote-camera-is-pending").style.setProperty("display","none","important"),t.getElementById("exchange-link-remote-camera-is-open").style.setProperty("display","none","important"),t.getElementById("exchange-link-image-is-uploading").style.setProperty("display","none","important"),t.getElementById("exchange-link-image-is-processing").style.setProperty("display","none","important"),t.querySelector(".remote-camera .loader-img").style.setProperty("display","block"),t.getElementById("exchange-link").innerHTML="",t.getElementById("exchange-link-as-QR").innerHTML="",e.prev=13,e.next=16,Ii.SDK.CreateScanExchanger({},function(e){if(n.toggleTabs(!1),n.clearTabs(),Array.prototype.forEach.call(n.shadowRoot.querySelectorAll(".root > .container, .permission, .confirm-image"),function(e){return yi(yi(e,"hidden",!gi(e,"remote-camera")),"show",gi(e,"remote-camera"))}),e.status===Ii.SDK.ScanExchangerCodes.Step02_ExchangeLinkIsGenerated&&e.shortLink){var o=e.shortLink;t.getElementById("exchange-link").innerHTML='<a href="'.concat(o,'" target="_blank" >').concat(o,"</a>"),t.querySelector(".remote-camera .loader-img").style.setProperty("display","none","important"),t.getElementById("exchange-link-title").style.setProperty("display","block"),t.getElementById("exchange-link-notes").style.setProperty("display","block"),t.getElementById("generating-exchange-link").style.setProperty("display","none","important"),e.qrCodeAsBase64&&(t.getElementById("exchange-link-as-QR").innerHTML='<img src="'+e.qrCodeAsBase64+'" />')}else t.getElementById("exchange-link-as-QR").innerHTML="";e.status===Ii.SDK.ScanExchangerCodes.Step03_RemoteCameraIsPending?(t.getElementById("exchange-link").innerHTML="",t.getElementById("exchange-link-title").style.setProperty("display","none","important"),t.getElementById("exchange-link-notes").style.setProperty("display","none","important"),t.getElementById("exchange-link-remote-camera-is-pending").style.setProperty("display","block")):t.getElementById("exchange-link-remote-camera-is-pending").style.setProperty("display","none","important"),e.status===Ii.SDK.ScanExchangerCodes.Step04_RemoteCameraIsOpen?t.getElementById("exchange-link-remote-camera-is-open").style.setProperty("display","block"):t.getElementById("exchange-link-remote-camera-is-open").style.setProperty("display","none","important"),e.status===Ii.SDK.ScanExchangerCodes.Step05_ImageIsUploading?(t.getElementById("exchange-link-image-is-uploading").style.setProperty("display","block"),t.querySelector(".remote-camera .loader-img").style.setProperty("display","block")):t.getElementById("exchange-link-image-is-uploading").style.setProperty("display","none","important"),e.status===Ii.SDK.ScanExchangerCodes.Step06_ImageIsProcessing?(t.getElementById("exchange-link-image-is-processing").style.setProperty("display","block"),t.querySelector(".remote-camera .loader-img").style.setProperty("display","block")):t.getElementById("exchange-link-image-is-processing").style.setProperty("display","none","important"),e.status===Ii.SDK.ScanExchangerCodes.Step07_ResultIsAvailable&&e.result&&(t.querySelector(".remote-camera .loader-img").style.setProperty("display","none","important"),r())});case 16:this.unsubscribeFromScanExchangerChanges=e.sent,e.next=22;break;case 19:e.prev=19,e.t0=e.catch(13),console.error("Microblink.SDK.CreateScanExchanger.error",e.t0);case 22:case"end":return e.stop()}},e,this,[[13,19]])}));return function(){return e.apply(this,arguments)}}()},{key:"openFullscreen",value:function(){var e=this.shadowRoot.querySelector(".root");return!(this.fullscreen&&ii&&ii.isEnabled)||hi()&&pi()?Kt.resolve(!1):ii.request(e)}},{key:"closeFullscreen",value:function(){return!(this.fullscreen&&ii&&ii.isEnabled)||hi()&&pi()?Kt.resolve(!1):ii.exit()}},{key:"activateLocalCamera",value:function(){var e=Xt(me.mark(function e(){var t,r=this;return me.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.shadowRoot.getElementById("video"),e.next=3,Ai(t).then(function(e){r.shadowRoot.getElementById("cameraLocalBtn").setAttribute("disabled",""),e.controls=!0,t.load(),setTimeout(function(){t.play().catch(function(){vi(r.shadowRoot.getElementById("photoBtn"),"hidden"),vi(r.shadowRoot.getElementById("cardPlacer"),"hidden")})},0),r.toggleTabs(!1),r.clearTabs(),Array.prototype.forEach.call(r.shadowRoot.querySelectorAll(".root > .container, .permission, .confirm-image"),function(e){return yi(yi(e,"hidden",!gi(e,"video")),"show",gi(e,"video"))})}).catch(function(e){var t;switch(r.closeFullscreen(),r.onCameraPermissionResolve(!1),e.reason){case"CameraNotFound":t=r.getSlotText("labels.notFoundErrorMsg");break;case"CameraNotAllowed":t=r.getSlotText("labels.notAllowedErrorMsg");break;case"CameraNotAvailable":t=r.getSlotText("labels.cameraNotAvailableErrorMsg");break;case"CameraInUse":t=r.getSlotText("labels.cameraInUseErrorMsg");break;case"MediaDevicesNotSupported":t=r.getSlotText("labels.webRtcUnsupported")}r.toggleError(!0,t),r.dispatchEvent("error",new Error("Camera error: "+e.reason)),console.log(e.name+": "+e.message)}).finally(function(){return r.shadowRoot.getElementById("cameraLocalBtn").removeAttribute("disabled")});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"flipCamera",value:function(){Array.prototype.forEach.call(this.shadowRoot.querySelectorAll(".video video, #flipBtn"),function(e){return yi(e,"flipped")})}},{key:"stopCamera",value:function(){var e=this.shadowRoot.getElementById("video");e.pause(),e.srcObject?(e.srcObject.getTracks()[0].stop(),e.srcObject=null):e.src&&(e.captureStream||e.mozCaptureStream)&&((e.captureStream||e.mozCaptureStream)().getTracks()[0].stop(),URL.revokeObjectURL(e.src),e.src=null),Array.prototype.forEach.call(this.shadowRoot.querySelectorAll(".root > .container, .permission, .confirm-image"),function(e){return yi(yi(e,"hidden",!gi(e,"main")),"show",gi(e,"main"))}),this.closeFullscreen(),this.checkForSafariCamera()}},{key:"checkForSafariCamera",value:function(){var e=this;fi()&&navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices&&navigator.mediaDevices.enumerateDevices().then(function(t){e.cameraPermitted=!!(t||[]).filter(function(e){var t=e.kind,r=e.label;return"videoinput"===t&&!!r}).length})}},{key:"startRecording",value:function(){var e=this;this.enableResultShow=!1,this.frame=null,this.canvas=null;var t=3;vi(this.shadowRoot.getElementById("photoBtn"),"hidden"),vi(this.shadowRoot.getElementById("counter"),"show");var r=this.shadowRoot.getElementById("counter-number");r.textContent=String(t),this.counterIntervalId=setInterval(function(){r.textContent=String(--t),1===t&&(e.frameSendingIntervalId=setInterval(Xt(me.mark(function r(){return me.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==t){r.next=9;break}return bi(e.shadowRoot.getElementById("counter"),"show"),clearInterval(e.frameSendingIntervalId),r.next=5,e.getNextBestFrame();case 5:e.frame=r.sent,e.showConfirmDialog(e.frame),r.next=12;break;case 9:return r.next=11,e.getNextBestFrame();case 11:e.frame=r.sent;case 12:case"end":return r.stop()}},r)})),200)),0===t&&clearInterval(e.counterIntervalId)},1e3)}},{key:"getNextBestFrame",value:function(){var e=this;return new Kt(function(t){e.captureFrame().then(function(r){var n=r.blob,o=r.pixelData,i=eo.getFrameQuality(o);t(!e.frame||i>e.frame.quality?{blob:n,quality:i}:e.frame)})})}},{key:"captureFrame",value:function(){var e=this.shadowRoot.getElementById("video"),t=this.canvas=this.canvas||document.createElement("canvas");t.width=e.videoWidth,t.height=e.videoHeight,t.getContext("2d").drawImage(e,0,0,t.width,t.height);var r=t.getContext("2d").getImageData(0,0,t.width,t.height);return new Kt(function(e){if(t.toBlob)t.toBlob(function(t){return e({blob:t,pixelData:r})},"image/jpeg",.95);else{var n=atob(t.toDataURL("image/jpeg",.95).split(",")[1]),o=n.length,i=new Uint8Array(o);Array.prototype.forEach.call(i,function(e,t){return i[t]=n.charCodeAt(t)});var a=new Blob([i],{type:"image/jpeg"});e({blob:a,pixelData:r})}})}},{key:"showConfirmDialog",value:function(e){var t=e.blob;this.webcamImage={blob:t};var r=new Image;r.src=URL.createObjectURL(t);var n=this.shadowRoot.querySelector(".confirm-image .image-container");n.innerHTML="",n.appendChild(r),vi(this.shadowRoot.querySelector(".confirm-image"),"show"),this.restartCounter()}},{key:"clearConfirmImage",value:function(){bi(this.shadowRoot.querySelector(".confirm-image"),"show");var e=this.shadowRoot.querySelector(".confirm-image .image-container"),t=e.querySelector("img");t&&URL.revokeObjectURL(t.src),e.innerHTML=""}},{key:"restart",value:function(){this.toggleTabs(!1),this.clearTabs(),Array.prototype.forEach.call(this.shadowRoot.querySelectorAll(".root > .container, .permission, .confirm-image"),function(e){return yi(yi(e,"hidden",!gi(e,"main")),"show",gi(e,"main"))})}},{key:"restartCounter",value:function(){bi(this.shadowRoot.getElementById("photoBtn"),"hidden"),bi(this.shadowRoot.getElementById("counter"),"show")}},{key:"fillTabs",value:function(e){this.fillResultTable(e.result),this.fillJson(e.result),this.toggleTabs(!0)}},{key:"fillResultTable",value:function(e){if(e&&e.data){bi(this.shadowRoot.querySelector(".error-container"),"show");var t=e.data instanceof Array?e.data:[e.data],r="",n=-1!==e.summary.search(/Authorization header is missing/gi);t.forEach(function(e){var t=e.recognizer,o=e.result;if(o){var i,a="";void 0!==o.faceImageBase64&&(a=n?'<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAQAAADa613fAAAAa0lEQVR42u3PMREAAAgEIL9/WwtoBHcPGpCeeiEiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIpcFKjbCiZfrjTwAAAAASUVORK5CYII="/>':'<img src="data:image/'.concat(wi(o.faceImageBase64),";base64,").concat(o.faceImageBase64,'"/>')),i=void 0!==o.lastName&&void 0!==o.firstName?o.lastName+" "+o.firstName:void 0!==o.primaryID&&void 0!==o.secondaryID?o.primaryID+" "+o.secondaryID:"",r+='<div class="resultTable">\n              <div class="row heading">\n                <div class="faceImage">'.concat(a,'</div>\n                <div class="headingText">\n                  <div class="fullName">').concat(i,'</div>\n                  <div class="recognizerType">').concat(t,"</div>\n                </div>\n              </div>"),Ur(o).forEach(function(e){var t;e.includes("Base64")||(r+='<div class="row"><div class="label">'.concat((t=e,t.replace(/([A-Z]+)/g," $1").replace(/^\w/,function(e){return e.toUpperCase()})),'</div>\n                    <div class="content">').concat(o[e]instanceof Object?function(e){var t=e.day,r=e.month,n=e.year;if(null===t&&null===r&&null===n)return null;if("number"!==Yr(t)||"number"!==Yr(r)||"number"!==Yr(n))return e;var o=new Date(n,r-1,t);0===t&&(o=new Date(n,r,t));var i=navigator.userLanguage||navigator.language||navigator.languages&&navigator.languages[0];return o.toLocaleDateString(i||void 0)}(o[e]):di(o[e]),"</div>\n                  </div>"))}),void 0!==o.signatureImageBase64&&(r+=n?'<div class="row"><div class="label">Signature</div><div class="content signature"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAAA8CAQAAADydv/WAAAAbElEQVR42u3RAQEAAAQDMO/fVgF6sFVYeorDIlgwghGMYAQjGMGCEYxgBCMYwQgWjGAEIxjBCEYwggUjGMEIRjCCESwYwQhGMIIRjGDBCEYwghGMYAQjWDCCEYxgBCMYwYIRjGAEIxjBCP5uAQrmdLkka2HAAAAAAElFTkSuQmCC"></div></div>':'<div class="row"><div class="label">Signature</div>\n                <div class="content signature"><img src="data:image/'.concat(wi(o.signatureImageBase64),";base64,").concat(o.signatureImageBase64,'"/></div>\n              </div>')),void 0!==o.fullDocumentImageBase64&&(r+=n?'<div class="row"><div class="label"></div><div class="content fullDocument"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAjAAAAFUCAQAAACQdc41AAADO0lEQVR42u3UMQEAAAjDMObfLQZABReJhB5NTwGciMEABgMYDIDBAAYDGAyAwQAGAxgMgMEABgMYDIDBAAYDGAyAwQAGAxgMgMEABgMYDIDBAAYDGAyAwQAGAxgMgMEABgNgMIDBAAYDYDCAwQAGA2AwgMEABgNgMIDBAAYDYDCAwQAGA2AwgMEABgNgMIDBAAYDYDCAwQAGA2AwgMEABgNgMIDBABgMYDCAwQAYDGAwgMEAGAxgMIDBABgMYDCAwQAYDGAwgMEAGAxgMIDBABgMYDCAwQAYDGAwgMEAGAxgMIDBABgMYDAABgMYDGAwAAYDGAxgMAAGAxgMYDAABgMYDGAwAAYDGAxgMAAGAxgMYDAABgMYDGAwAAYDGAxgMAAGAxgMYDAABgMYDIDBAAYDGAyAwQAGAxgMgMEABgMYDIDBAAYDGAyAwQAGAxgMgMEABgMYDIDBAAYDGAyAwQAGAxgMgMEABgMYDIDBAAYDYDCAwQAGA2AwgMEABgNgMIDBAAYDYDCAwQAGA2AwgMEABgNgMIDBAAYDYDCAwQAGA2AwgMEABgNgMIDBAAYDYDCAwQAYDGAwgMEAGAxgMIDBABgMYDCAwQAYDGAwgMEAGAxgMIDBABgMYDCAwQAYDGAwgMEAGAxgMIDBABgMYDCAwYgAGAxgMAAGAxgMYDAABgMYDGAwAAYDGAxgMAAGAxgMYDAABgMYDGAwAAYDGAxgMAAGAxgMYDAABgMYDGAwAAYDGAxgMAYDGAxgMAAGAxgMYDAABgMYDGAwAAYDGAxgMAAGAxgMYDAABgMYDGAwAAYDGAxgMAAGAxgMYDAABgMYDGAwAAYDGAxgMAYDGAxgMAAGAxgMYDAABgMYDGAwAAYDGAxgMAAGAxgMYDAABgMYDGAwAAYDGAxgMAAGAxgMYDAABgMYDGAwAAYDGAyAwQAGAxgMgMEABgMYDIDBAAYDGAyAwQAGAxgMgMEABgMYDIDBAAYDGAyAwQAGAxgMgMEABgMYDIDBAAYDGAyAwQAGA2AwgMEABgNgMIDBAAYDYDCAwQAGA2AwgMEABgNgMIDBAAYDYDCAwQAGA2AwgMEABgNgMIDBAP8sMiWVh63j1TAAAAAASUVORK5CYII="/></div></div>':'<div class="row"><div class="label"></div>\n                    <div class="content fullDocument"><img src="data:image/'.concat(wi(o.fullDocumentImageBase64),";base64,").concat(o.fullDocumentImageBase64,'"/></div>\n                  </div>')),r+="</div>"}}),r?this.shadowRoot.querySelector(".container.results").innerHTML=r:this.toggleError(!0,this.getSlotText("labels.scanningFinishedNoDataMessage"),this.getSlotText("labels.scanningFinishedNoDataTitle"),!1)}}},{key:"fillJson",value:function(e){if(e&&"{}"!==an(e)&&"[]"!==an(e)){var t="";!function e(r,n,o){var i=Array(o+1).join("     ");if(null!==r){if(void 0===n)return;t+="\n".concat(i,'<span class="key">"').concat(di(r),'"</span>: ')}else i.length&&(t+="\n".concat(i));switch(Yr(n)){case"undefined":case"function":case"symbol":break;case"string":r&&r.includes("Base64")&&(n=n.substring(0,50)+"..."),t+='<span class="string">"'.concat(di(n),'"</span>,');break;case"number":t+='<span class="number">'.concat(n,"</span>,");break;case"boolean":t+='<span class="boolean">'.concat(n,"</span>,");break;default:null===n?t+='<span class="null">'.concat(n,"</span>,"):n instanceof Array?(t+="[",n.forEach(function(t){return e(null,t,o+1)}),n.length&&(t=t.slice(0,-1)),t+="\n".concat(i,"],")):(t+="{",Ur(n).forEach(function(t){return e(t,n[t],o+1)}),Ur(n).length&&(t=t.slice(0,-1)),t+="\n".concat(i,"},"))}}(null,e,0),t=t.slice(0,-1),this.shadowRoot.querySelector(".main > .json > div").innerHTML=t}}},{key:"clearTabs",value:function(){var e=this.shadowRoot.querySelector(".image image");e&&URL.revokeObjectURL(e.src),Array.prototype.forEach.call(this.shadowRoot.querySelectorAll(".main > :not(.intro):not(.json)"),function(e){return e.innerHTML=""}),this.shadowRoot.querySelector(".main > .json > div").innerHTML=""}},{key:"onScanSuccess",value:function(e){var t=this;if(e){this.executionResult=e.result,this.clearTimers();var r=setInterval(function(){t.enableResultShow&&(clearInterval(r),t.toggleLoader(!1),t.stopCamera(),t.restartCounter(),t.tabs&&t.fillTabs(e),t.dispatchEvent("resultReady",e))},200)}}},{key:"onScanError",value:function(e){this.unsubscribeFromScanExchangerChanges&&this.unsubscribeFromScanExchangerChanges(),this.clearTimers(),this.toggleLoader(!1),this.stopCamera(),this.restartCounter(),this.toggleError(!0,e&&e.message),this.dispatchEvent("error",new Error(e&&e.message||this.getSlotText("labels.errorMsg")))}},{key:"clearTimers",value:function(){clearInterval(this.frameSendingIntervalId),clearInterval(this.counterIntervalId),clearTimeout(this.messageTimeoutId),bi(this.shadowRoot.getElementById("counter"),"show")}},{key:"dispatchEvent",value:function(e,t){var n;switch(t=t||{},e){case"resultReady":"function"==typeof CustomEvent?n=new CustomEvent("resultReady",{detail:{result:t.result},cancelable:!0,bubbles:!0}):(n=document.createEvent("CustomEvent")).initCustomEvent("resultReady",!0,!0,{result:t.result});break;case"error":"function"==typeof ErrorEvent?n=new ErrorEvent("error",{cancelable:!0,bubbles:!0,message:t.message,error:t}):(n=document.createEvent("ErrorEvent")).initErrorEvent("error",!0,!0,t.message,null,null);break;default:return}vn(dn(r.prototype),"dispatchEvent",this).call(this,n)}},{key:"onScanProgress",value:function(e){var t=this,r=e.loaded,n=e.total,o=e.lengthComputable,i=this.shadowRoot.querySelector(".progress-bar-value"),a=gi(i,"hidden");o?(a&&bi(i,"hidden"),i.textContent="".concat(Math.round(r/n*100),"%"),r===n&&setTimeout(function(){return t.changeLoaderMessage()},200)):a||vi(i,"hidden")}},{key:"changeLoaderMessage",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=this.shadowRoot.querySelectorAll(".pending-container h2");r.length<=1||(Array.prototype.forEach.call(r,function(e){return yi(e,"hidden",!e.matches(":nth-of-type(".concat(t%(r.length-1)+2,")")))}),this.messageTimeoutId=setTimeout(function(){return e.changeLoaderMessage(++t)},1e3+Math.round(3e3*Math.random())))}},{key:"onCameraPermissionDialog",value:function(){vi(this.shadowRoot.querySelector(".permission"),"show")}},{key:"onCameraPermissionResolve",value:function(e){null!==this.permissionTimeoutId?clearTimeout(this.permissionTimeoutId):bi(this.shadowRoot.querySelector(".permission"),"show"),this.streamStatus=e}}]),r}();customElements.define("microblink-ui-web",t)}_i.src="//unpkg.com/@webcomponents/webcomponentsjs/webcomponents-loader.js",_i.addEventListener("load",function(){window.WebComponents.waitFor(function(){if(window.customElements)Ci();else{var e=ddocument.createElement("script");e.src="//unpkg.com/@webcomponents/webcomponentsjs/bundles/webcomponents-sd-ce-pf.js",e.addEventListener("load",function(){window.WebComponents.waitFor(Ci)}),document.head.insertBefore(e,document.head.querySelector('script[src*="microblink."]'))}})}),document.head.insertBefore(_i,document.head.querySelector('script[src*="microblink."]')),ii&&ii.isEnabled&&function(e){e.request=function(t){return new Kt(function(r,n){e.on("change",function t(){e.off("change",t),r()}),t=t||document.documentElement,Kt.resolve(t[e.raw.requestFullscreen]({navigationUI:"hide"})).catch(n)})};var t=function(t){var r=t.target.shadowRoot.querySelector(".root");setTimeout(function(){e.isFullscreen&&hi()&&pi()&&(window.outerHeight>window.outerWidth?(r.clientHeight,screen.availHeight):(r.clientWidth,screen.availWidth))},200)};e.on("change",t),e.onChangeHandler=t}(ii)}();
