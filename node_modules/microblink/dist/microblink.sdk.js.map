{"version":3,"file":"microblink.sdk.js","sources":["../node_modules/blob-util/dist/blob-util.es.js","../node_modules/rxjs/src/internal/util/isFunction.ts","../node_modules/rxjs/src/internal/config.ts","../node_modules/rxjs/src/internal/util/hostReportError.ts","../node_modules/rxjs/src/internal/Observer.ts","../node_modules/rxjs/src/internal/util/isArray.ts","../node_modules/rxjs/src/internal/util/isObject.ts","../node_modules/rxjs/src/internal/util/UnsubscriptionError.ts","../node_modules/rxjs/src/internal/Subscription.ts","../node_modules/rxjs/src/internal/symbol/rxSubscriber.ts","../node_modules/rxjs/src/internal/Subscriber.ts","../node_modules/rxjs/src/internal/util/canReportError.ts","../node_modules/rxjs/src/internal/util/toSubscriber.ts","../node_modules/rxjs/src/internal/symbol/observable.ts","../node_modules/rxjs/src/internal/util/noop.ts","../node_modules/rxjs/src/internal/util/pipe.ts","../node_modules/rxjs/src/internal/Observable.ts","../src/microblink.types.ts","../src/microblinkApi.service.ts","../src/frameHelper.ts","../src/scanExchangeHelper.ts","../node_modules/src/enc/Hex.ts","../node_modules/src/lib/WordArray.ts","../node_modules/src/enc/Latin1.ts","../node_modules/src/enc/Utf8.ts","../node_modules/src/lib/BufferedBlockAlgorithm.ts","../node_modules/src/lib/Base.ts","../node_modules/src/lib/CipherParams.ts","../node_modules/src/enc/Base64.ts","../node_modules/src/format/OpenSSL.ts","../node_modules/src/lib/SerializableCipher.ts","../node_modules/src/lib/Hasher.ts","../node_modules/src/algo/MD5.ts","../node_modules/src/algo/EvpKDF.ts","../node_modules/src/kdf/OpenSSLKdf.ts","../node_modules/src/lib/PasswordBasedCipher.ts","../node_modules/src/lib/Cipher.ts","../node_modules/src/mode/BlockCipherModeAlgorithm.ts","../node_modules/src/mode/BlockCipherMode.ts","../node_modules/src/mode/CBCEncryptor.ts","../node_modules/src/mode/CBCDecryptor.ts","../node_modules/src/mode/CBC.ts","../node_modules/src/pad/PKCS7.ts","../node_modules/src/lib/BlockCipher.ts","../node_modules/src/algo/AES.ts","../node_modules/src/algo/SHA256.ts","../node_modules/src/mode/ECBEncryptor.ts","../node_modules/src/mode/ECBDecryptor.ts","../node_modules/src/mode/ECB.ts","../node_modules/src/crypto-ts.ts","../src/cryptoHelper.ts","../src/microblink.ts","../src/microblink.SDK.ts"],"sourcesContent":["// TODO: including these in blob-util.ts causes typedoc to generate docs for them,\n// even with --excludePrivate ¯\\_(ツ)_/¯\n/** @private */\nfunction loadImage(src, crossOrigin) {\n    return new Promise(function (resolve, reject) {\n        var img = new Image();\n        if (crossOrigin) {\n            img.crossOrigin = crossOrigin;\n        }\n        img.onload = function () {\n            resolve(img);\n        };\n        img.onerror = reject;\n        img.src = src;\n    });\n}\n/** @private */\nfunction imgToCanvas(img) {\n    var canvas = document.createElement('canvas');\n    canvas.width = img.width;\n    canvas.height = img.height;\n    // copy the image contents to the canvas\n    var context = canvas.getContext('2d');\n    context.drawImage(img, 0, 0, img.width, img.height, 0, 0, img.width, img.height);\n    return canvas;\n}\n\n/* global Promise, Image, Blob, FileReader, atob, btoa,\n   BlobBuilder, MSBlobBuilder, MozBlobBuilder, WebKitBlobBuilder, webkitURL */\n/**\n * Shim for\n * [`new Blob()`](https://developer.mozilla.org/en-US/docs/Web/API/Blob.Blob)\n * to support\n * [older browsers that use the deprecated `BlobBuilder` API](http://caniuse.com/blob).\n *\n * Example:\n *\n * ```js\n * var myBlob = blobUtil.createBlob(['hello world'], {type: 'text/plain'});\n * ```\n *\n * @param parts - content of the Blob\n * @param properties - usually `{type: myContentType}`,\n *                           you can also pass a string for the content type\n * @returns Blob\n */\nfunction createBlob(parts, properties) {\n    parts = parts || [];\n    properties = properties || {};\n    if (typeof properties === 'string') {\n        properties = { type: properties }; // infer content type\n    }\n    try {\n        return new Blob(parts, properties);\n    }\n    catch (e) {\n        if (e.name !== 'TypeError') {\n            throw e;\n        }\n        var Builder = typeof BlobBuilder !== 'undefined'\n            ? BlobBuilder : typeof MSBlobBuilder !== 'undefined'\n            ? MSBlobBuilder : typeof MozBlobBuilder !== 'undefined'\n            ? MozBlobBuilder : WebKitBlobBuilder;\n        var builder = new Builder();\n        for (var i = 0; i < parts.length; i += 1) {\n            builder.append(parts[i]);\n        }\n        return builder.getBlob(properties.type);\n    }\n}\n/**\n * Shim for\n * [`URL.createObjectURL()`](https://developer.mozilla.org/en-US/docs/Web/API/URL.createObjectURL)\n * to support browsers that only have the prefixed\n * `webkitURL` (e.g. Android <4.4).\n *\n * Example:\n *\n * ```js\n * var myUrl = blobUtil.createObjectURL(blob);\n * ```\n *\n * @param blob\n * @returns url\n */\nfunction createObjectURL(blob) {\n    return (typeof URL !== 'undefined' ? URL : webkitURL).createObjectURL(blob);\n}\n/**\n * Shim for\n * [`URL.revokeObjectURL()`](https://developer.mozilla.org/en-US/docs/Web/API/URL.revokeObjectURL)\n * to support browsers that only have the prefixed\n * `webkitURL` (e.g. Android <4.4).\n *\n * Example:\n *\n * ```js\n * blobUtil.revokeObjectURL(myUrl);\n * ```\n *\n * @param url\n */\nfunction revokeObjectURL(url) {\n    return (typeof URL !== 'undefined' ? URL : webkitURL).revokeObjectURL(url);\n}\n/**\n * Convert a `Blob` to a binary string.\n *\n * Example:\n *\n * ```js\n * blobUtil.blobToBinaryString(blob).then(function (binaryString) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param blob\n * @returns Promise that resolves with the binary string\n */\nfunction blobToBinaryString(blob) {\n    return new Promise(function (resolve, reject) {\n        var reader = new FileReader();\n        var hasBinaryString = typeof reader.readAsBinaryString === 'function';\n        reader.onloadend = function () {\n            var result = reader.result || '';\n            if (hasBinaryString) {\n                return resolve(result);\n            }\n            resolve(arrayBufferToBinaryString(result));\n        };\n        reader.onerror = reject;\n        if (hasBinaryString) {\n            reader.readAsBinaryString(blob);\n        }\n        else {\n            reader.readAsArrayBuffer(blob);\n        }\n    });\n}\n/**\n * Convert a base64-encoded string to a `Blob`.\n *\n * Example:\n *\n * ```js\n * var blob = blobUtil.base64StringToBlob(base64String);\n * ```\n * @param base64 - base64-encoded string\n * @param type - the content type (optional)\n * @returns Blob\n */\nfunction base64StringToBlob(base64, type) {\n    var parts = [binaryStringToArrayBuffer(atob(base64))];\n    return type ? createBlob(parts, { type: type }) : createBlob(parts);\n}\n/**\n * Convert a binary string to a `Blob`.\n *\n * Example:\n *\n * ```js\n * var blob = blobUtil.binaryStringToBlob(binaryString);\n * ```\n *\n * @param binary - binary string\n * @param type - the content type (optional)\n * @returns Blob\n */\nfunction binaryStringToBlob(binary, type) {\n    return base64StringToBlob(btoa(binary), type);\n}\n/**\n * Convert a `Blob` to a binary string.\n *\n * Example:\n *\n * ```js\n * blobUtil.blobToBase64String(blob).then(function (base64String) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param blob\n * @returns Promise that resolves with the binary string\n */\nfunction blobToBase64String(blob) {\n    return blobToBinaryString(blob).then(btoa);\n}\n/**\n * Convert a data URL string\n * (e.g. `'data:image/png;base64,iVBORw0KG...'`)\n * to a `Blob`.\n *\n * Example:\n *\n * ```js\n * var blob = blobUtil.dataURLToBlob(dataURL);\n * ```\n *\n * @param dataURL - dataURL-encoded string\n * @returns Blob\n */\nfunction dataURLToBlob(dataURL) {\n    var type = dataURL.match(/data:([^;]+)/)[1];\n    var base64 = dataURL.replace(/^[^,]+,/, '');\n    var buff = binaryStringToArrayBuffer(atob(base64));\n    return createBlob([buff], { type: type });\n}\n/**\n * Convert a `Blob` to a data URL string\n * (e.g. `'data:image/png;base64,iVBORw0KG...'`).\n *\n * Example:\n *\n * ```js\n * var dataURL = blobUtil.blobToDataURL(blob);\n * ```\n *\n * @param blob\n * @returns Promise that resolves with the data URL string\n */\nfunction blobToDataURL(blob) {\n    return blobToBase64String(blob).then(function (base64String) {\n        return 'data:' + blob.type + ';base64,' + base64String;\n    });\n}\n/**\n * Convert an image's `src` URL to a data URL by loading the image and painting\n * it to a `canvas`.\n *\n * Note: this will coerce the image to the desired content type, and it\n * will only paint the first frame of an animated GIF.\n *\n * Examples:\n *\n * ```js\n * blobUtil.imgSrcToDataURL('http://mysite.com/img.png').then(function (dataURL) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * ```js\n * blobUtil.imgSrcToDataURL('http://some-other-site.com/img.jpg', 'image/jpeg',\n *                          'Anonymous', 1.0).then(function (dataURL) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param src - image src\n * @param type - the content type (optional, defaults to 'image/png')\n * @param crossOrigin - for CORS-enabled images, set this to\n *                                         'Anonymous' to avoid \"tainted canvas\" errors\n * @param quality - a number between 0 and 1 indicating image quality\n *                                     if the requested type is 'image/jpeg' or 'image/webp'\n * @returns Promise that resolves with the data URL string\n */\nfunction imgSrcToDataURL(src, type, crossOrigin, quality) {\n    type = type || 'image/png';\n    return loadImage(src, crossOrigin).then(imgToCanvas).then(function (canvas) {\n        return canvas.toDataURL(type, quality);\n    });\n}\n/**\n * Convert a `canvas` to a `Blob`.\n *\n * Examples:\n *\n * ```js\n * blobUtil.canvasToBlob(canvas).then(function (blob) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * Most browsers support converting a canvas to both `'image/png'` and `'image/jpeg'`. You may\n * also want to try `'image/webp'`, which will work in some browsers like Chrome (and in other browsers, will just fall back to `'image/png'`):\n *\n * ```js\n * blobUtil.canvasToBlob(canvas, 'image/webp').then(function (blob) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param canvas - HTMLCanvasElement\n * @param type - the content type (optional, defaults to 'image/png')\n * @param quality - a number between 0 and 1 indicating image quality\n *                                     if the requested type is 'image/jpeg' or 'image/webp'\n * @returns Promise that resolves with the `Blob`\n */\nfunction canvasToBlob(canvas, type, quality) {\n    if (typeof canvas.toBlob === 'function') {\n        return new Promise(function (resolve) {\n            canvas.toBlob(resolve, type, quality);\n        });\n    }\n    return Promise.resolve(dataURLToBlob(canvas.toDataURL(type, quality)));\n}\n/**\n * Convert an image's `src` URL to a `Blob` by loading the image and painting\n * it to a `canvas`.\n *\n * Note: this will coerce the image to the desired content type, and it\n * will only paint the first frame of an animated GIF.\n *\n * Examples:\n *\n * ```js\n * blobUtil.imgSrcToBlob('http://mysite.com/img.png').then(function (blob) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * ```js\n * blobUtil.imgSrcToBlob('http://some-other-site.com/img.jpg', 'image/jpeg',\n *                          'Anonymous', 1.0).then(function (blob) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param src - image src\n * @param type - the content type (optional, defaults to 'image/png')\n * @param crossOrigin - for CORS-enabled images, set this to\n *                                         'Anonymous' to avoid \"tainted canvas\" errors\n * @param quality - a number between 0 and 1 indicating image quality\n *                                     if the requested type is 'image/jpeg' or 'image/webp'\n * @returns Promise that resolves with the `Blob`\n */\nfunction imgSrcToBlob(src, type, crossOrigin, quality) {\n    type = type || 'image/png';\n    return loadImage(src, crossOrigin).then(imgToCanvas).then(function (canvas) {\n        return canvasToBlob(canvas, type, quality);\n    });\n}\n/**\n * Convert an `ArrayBuffer` to a `Blob`.\n *\n * Example:\n *\n * ```js\n * var blob = blobUtil.arrayBufferToBlob(arrayBuff, 'audio/mpeg');\n * ```\n *\n * @param buffer\n * @param type - the content type (optional)\n * @returns Blob\n */\nfunction arrayBufferToBlob(buffer, type) {\n    return createBlob([buffer], type);\n}\n/**\n * Convert a `Blob` to an `ArrayBuffer`.\n *\n * Example:\n *\n * ```js\n * blobUtil.blobToArrayBuffer(blob).then(function (arrayBuff) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param blob\n * @returns Promise that resolves with the `ArrayBuffer`\n */\nfunction blobToArrayBuffer(blob) {\n    return new Promise(function (resolve, reject) {\n        var reader = new FileReader();\n        reader.onloadend = function () {\n            var result = reader.result || new ArrayBuffer(0);\n            resolve(result);\n        };\n        reader.onerror = reject;\n        reader.readAsArrayBuffer(blob);\n    });\n}\n/**\n * Convert an `ArrayBuffer` to a binary string.\n *\n * Example:\n *\n * ```js\n * var myString = blobUtil.arrayBufferToBinaryString(arrayBuff)\n * ```\n *\n * @param buffer - array buffer\n * @returns binary string\n */\nfunction arrayBufferToBinaryString(buffer) {\n    var binary = '';\n    var bytes = new Uint8Array(buffer);\n    var length = bytes.byteLength;\n    var i = -1;\n    while (++i < length) {\n        binary += String.fromCharCode(bytes[i]);\n    }\n    return binary;\n}\n/**\n * Convert a binary string to an `ArrayBuffer`.\n *\n * ```js\n * var myBuffer = blobUtil.binaryStringToArrayBuffer(binaryString)\n * ```\n *\n * @param binary - binary string\n * @returns array buffer\n */\nfunction binaryStringToArrayBuffer(binary) {\n    var length = binary.length;\n    var buf = new ArrayBuffer(length);\n    var arr = new Uint8Array(buf);\n    var i = -1;\n    while (++i < length) {\n        arr[i] = binary.charCodeAt(i);\n    }\n    return buf;\n}\n\nexport { createBlob, createObjectURL, revokeObjectURL, blobToBinaryString, base64StringToBlob, binaryStringToBlob, blobToBase64String, dataURLToBlob, blobToDataURL, imgSrcToDataURL, canvasToBlob, imgSrcToBlob, arrayBufferToBlob, blobToArrayBuffer, arrayBufferToBinaryString, binaryStringToArrayBuffer };\n","export function isFunction(x: any): x is Function {\n  return typeof x === 'function';\n}\n","let _enable_super_gross_mode_that_will_cause_bad_things = false;\n\n/**\n * The global configuration object for RxJS, used to configure things\n * like what Promise contructor should used to create Promises\n */\nexport const config = {\n  /**\n   * The promise constructor used by default for methods such as\n   * {@link toPromise} and {@link forEach}\n   */\n  Promise: undefined as PromiseConstructorLike,\n\n  /**\n   * If true, turns on synchronous error rethrowing, which is a deprecated behavior\n   * in v6 and higher. This behavior enables bad patterns like wrapping a subscribe\n   * call in a try/catch block. It also enables producer interference, a nasty bug\n   * where a multicast can be broken for all observers by a downstream consumer with\n   * an unhandled error. DO NOT USE THIS FLAG UNLESS IT'S NEEDED TO BY TIME\n   * FOR MIGRATION REASONS.\n   */\n  set useDeprecatedSynchronousErrorHandling(value: boolean) {\n    if (value) {\n      const error = new Error();\n      console.warn('DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n' + error.stack);\n    } else if (_enable_super_gross_mode_that_will_cause_bad_things) {\n      console.log('RxJS: Back to a better error behavior. Thank you. <3');\n    }\n    _enable_super_gross_mode_that_will_cause_bad_things = value;\n  },\n\n  get useDeprecatedSynchronousErrorHandling() {\n    return _enable_super_gross_mode_that_will_cause_bad_things;\n  },\n};\n","/**\n * Throws an error on another job so that it's picked up by the runtime's\n * uncaught error handling mechanism.\n * @param err the error to throw\n */\nexport function hostReportError(err: any) {\n  setTimeout(() => { throw err; }, 0);\n}","import { Observer } from './types';\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\n\nexport const empty: Observer<any> = {\n  closed: true,\n  next(value: any): void { /* noop */},\n  error(err: any): void {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n      throw err;\n    } else {\n      hostReportError(err);\n    }\n  },\n  complete(): void { /*noop*/ }\n};\n","export const isArray = (() => Array.isArray || (<T>(x: any): x is T[] => x && typeof x.length === 'number'))();\n","export function isObject(x: any): x is Object {\n  return x !== null && typeof x === 'object';\n}\n","export interface UnsubscriptionError extends Error {\n  readonly errors: any[];\n}\n\nexport interface UnsubscriptionErrorCtor {\n  new(errors: any[]): UnsubscriptionError;\n}\n\nconst UnsubscriptionErrorImpl = (() => {\n  function UnsubscriptionErrorImpl(this: any, errors: any[]) {\n    Error.call(this);\n    this.message = errors ?\n      `${errors.length} errors occurred during unsubscription:\n${errors.map((err, i) => `${i + 1}) ${err.toString()}`).join('\\n  ')}` : '';\n    this.name = 'UnsubscriptionError';\n    this.errors = errors;\n    return this;\n  }\n\n  UnsubscriptionErrorImpl.prototype = Object.create(Error.prototype);\n\n  return UnsubscriptionErrorImpl;\n})();\n\n/**\n * An error thrown when one or more errors have occurred during the\n * `unsubscribe` of a {@link Subscription}.\n */\nexport const UnsubscriptionError: UnsubscriptionErrorCtor = UnsubscriptionErrorImpl as any;","import { isArray } from './util/isArray';\nimport { isObject } from './util/isObject';\nimport { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nimport { SubscriptionLike, TeardownLogic } from './types';\n\n/**\n * Represents a disposable resource, such as the execution of an Observable. A\n * Subscription has one important method, `unsubscribe`, that takes no argument\n * and just disposes the resource held by the subscription.\n *\n * Additionally, subscriptions may be grouped together through the `add()`\n * method, which will attach a child Subscription to the current Subscription.\n * When a Subscription is unsubscribed, all its children (and its grandchildren)\n * will be unsubscribed as well.\n *\n * @class Subscription\n */\nexport class Subscription implements SubscriptionLike {\n  /** @nocollapse */\n  public static EMPTY: Subscription = (function(empty: any) {\n    empty.closed = true;\n    return empty;\n  }(new Subscription()));\n\n  /**\n   * A flag to indicate whether this Subscription has already been unsubscribed.\n   * @type {boolean}\n   */\n  public closed: boolean = false;\n\n  /** @internal */\n  protected _parentOrParents: Subscription | Subscription[] = null;\n  /** @internal */\n  private _subscriptions: SubscriptionLike[] = null;\n\n  /**\n   * @param {function(): void} [unsubscribe] A function describing how to\n   * perform the disposal of resources when the `unsubscribe` method is called.\n   */\n  constructor(unsubscribe?: () => void) {\n    if (unsubscribe) {\n      (<any> this)._unsubscribe = unsubscribe;\n    }\n  }\n\n  /**\n   * Disposes the resources held by the subscription. May, for instance, cancel\n   * an ongoing Observable execution or cancel any other type of work that\n   * started when the Subscription was created.\n   * @return {void}\n   */\n  unsubscribe(): void {\n    let errors: any[];\n\n    if (this.closed) {\n      return;\n    }\n\n    let { _parentOrParents, _unsubscribe, _subscriptions } = (<any> this);\n\n    this.closed = true;\n    this._parentOrParents = null;\n    // null out _subscriptions first so any child subscriptions that attempt\n    // to remove themselves from this subscription will noop\n    this._subscriptions = null;\n\n    if (_parentOrParents instanceof Subscription) {\n      _parentOrParents.remove(this);\n    } else if (_parentOrParents !== null) {\n      for (let index = 0; index < _parentOrParents.length; ++index) {\n        const parent = _parentOrParents[index];\n        parent.remove(this);\n      }\n    }\n\n    if (isFunction(_unsubscribe)) {\n      try {\n        _unsubscribe.call(this);\n      } catch (e) {\n        errors = e instanceof UnsubscriptionError ? flattenUnsubscriptionErrors(e.errors) : [e];\n      }\n    }\n\n    if (isArray(_subscriptions)) {\n      let index = -1;\n      let len = _subscriptions.length;\n\n      while (++index < len) {\n        const sub = _subscriptions[index];\n        if (isObject(sub)) {\n          try {\n            sub.unsubscribe();\n          } catch (e) {\n            errors = errors || [];\n            if (e instanceof UnsubscriptionError) {\n              errors = errors.concat(flattenUnsubscriptionErrors(e.errors));\n            } else {\n              errors.push(e);\n            }\n          }\n        }\n      }\n    }\n\n    if (errors) {\n      throw new UnsubscriptionError(errors);\n    }\n  }\n\n  /**\n   * Adds a tear down to be called during the unsubscribe() of this\n   * Subscription. Can also be used to add a child subscription.\n   *\n   * If the tear down being added is a subscription that is already\n   * unsubscribed, is the same reference `add` is being called on, or is\n   * `Subscription.EMPTY`, it will not be added.\n   *\n   * If this subscription is already in an `closed` state, the passed\n   * tear down logic will be executed immediately.\n   *\n   * When a parent subscription is unsubscribed, any child subscriptions that were added to it are also unsubscribed.\n   *\n   * @param {TeardownLogic} teardown The additional logic to execute on\n   * teardown.\n   * @return {Subscription} Returns the Subscription used or created to be\n   * added to the inner subscriptions list. This Subscription can be used with\n   * `remove()` to remove the passed teardown logic from the inner subscriptions\n   * list.\n   */\n  add(teardown: TeardownLogic): Subscription {\n    let subscription = (<Subscription>teardown);\n\n    if (!(<any>teardown)) {\n      return Subscription.EMPTY;\n    }\n\n    switch (typeof teardown) {\n      case 'function':\n        subscription = new Subscription(<(() => void)>teardown);\n      case 'object':\n        if (subscription === this || subscription.closed || typeof subscription.unsubscribe !== 'function') {\n          // This also covers the case where `subscription` is `Subscription.EMPTY`, which is always in `closed` state.\n          return subscription;\n        } else if (this.closed) {\n          subscription.unsubscribe();\n          return subscription;\n        } else if (!(subscription instanceof Subscription)) {\n          const tmp = subscription;\n          subscription = new Subscription();\n          subscription._subscriptions = [tmp];\n        }\n        break;\n      default: {\n        throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n      }\n    }\n\n    // Add `this` as parent of `subscription` if that's not already the case.\n    let { _parentOrParents } = subscription;\n    if (_parentOrParents === null) {\n      // If we don't have a parent, then set `subscription._parents` to\n      // the `this`, which is the common case that we optimize for.\n      subscription._parentOrParents = this;\n    } else if (_parentOrParents instanceof Subscription) {\n      if (_parentOrParents === this) {\n        // The `subscription` already has `this` as a parent.\n        return subscription;\n      }\n      // If there's already one parent, but not multiple, allocate an\n      // Array to store the rest of the parent Subscriptions.\n      subscription._parentOrParents = [_parentOrParents, this];\n    } else if (_parentOrParents.indexOf(this) === -1) {\n      // Only add `this` to the _parentOrParents list if it's not already there.\n      _parentOrParents.push(this);\n    } else {\n      // The `subscription` already has `this` as a parent.\n      return subscription;\n    }\n\n    // Optimize for the common case when adding the first subscription.\n    const subscriptions = this._subscriptions;\n    if (subscriptions === null) {\n      this._subscriptions = [subscription];\n    } else {\n      subscriptions.push(subscription);\n    }\n\n    return subscription;\n  }\n\n  /**\n   * Removes a Subscription from the internal list of subscriptions that will\n   * unsubscribe during the unsubscribe process of this Subscription.\n   * @param {Subscription} subscription The subscription to remove.\n   * @return {void}\n   */\n  remove(subscription: Subscription): void {\n    const subscriptions = this._subscriptions;\n    if (subscriptions) {\n      const subscriptionIndex = subscriptions.indexOf(subscription);\n      if (subscriptionIndex !== -1) {\n        subscriptions.splice(subscriptionIndex, 1);\n      }\n    }\n  }\n}\n\nfunction flattenUnsubscriptionErrors(errors: any[]) {\n return errors.reduce((errs, err) => errs.concat((err instanceof UnsubscriptionError) ? err.errors : err), []);\n}\n","/** @deprecated do not use, this is no longer checked by RxJS internals */\nexport const rxSubscriber = (() =>\n  typeof Symbol === 'function'\n    ? Symbol('rxSubscriber')\n    : '@@rxSubscriber_' + Math.random())();\n\n/**\n * @deprecated use rxSubscriber instead\n */\nexport const $$rxSubscriber = rxSubscriber;\n","import { isFunction } from './util/isFunction';\nimport { empty as emptyObserver } from './Observer';\nimport { Observer, PartialObserver, TeardownLogic } from './types';\nimport { Subscription } from './Subscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\n\n/**\n * Implements the {@link Observer} interface and extends the\n * {@link Subscription} class. While the {@link Observer} is the public API for\n * consuming the values of an {@link Observable}, all Observers get converted to\n * a Subscriber, in order to provide Subscription-like capabilities such as\n * `unsubscribe`. Subscriber is a common type in RxJS, and crucial for\n * implementing operators, but it is rarely used as a public API.\n *\n * @class Subscriber<T>\n */\nexport class Subscriber<T> extends Subscription implements Observer<T> {\n\n  [rxSubscriberSymbol]() { return this; }\n\n  /**\n   * A static factory for a Subscriber, given a (potentially partial) definition\n   * of an Observer.\n   * @param {function(x: ?T): void} [next] The `next` callback of an Observer.\n   * @param {function(e: ?any): void} [error] The `error` callback of an\n   * Observer.\n   * @param {function(): void} [complete] The `complete` callback of an\n   * Observer.\n   * @return {Subscriber<T>} A Subscriber wrapping the (partially defined)\n   * Observer represented by the given arguments.\n   * @nocollapse\n   */\n  static create<T>(next?: (x?: T) => void,\n                   error?: (e?: any) => void,\n                   complete?: () => void): Subscriber<T> {\n    const subscriber = new Subscriber(next, error, complete);\n    subscriber.syncErrorThrowable = false;\n    return subscriber;\n  }\n\n  /** @internal */ syncErrorValue: any = null;\n  /** @internal */ syncErrorThrown: boolean = false;\n  /** @internal */ syncErrorThrowable: boolean = false;\n\n  protected isStopped: boolean = false;\n  protected destination: PartialObserver<any> | Subscriber<any>; // this `any` is the escape hatch to erase extra type param (e.g. R)\n\n  /**\n   * @param {Observer|function(value: T): void} [destinationOrNext] A partially\n   * defined Observer or a `next` callback function.\n   * @param {function(e: ?any): void} [error] The `error` callback of an\n   * Observer.\n   * @param {function(): void} [complete] The `complete` callback of an\n   * Observer.\n   */\n  constructor(destinationOrNext?: PartialObserver<any> | ((value: T) => void),\n              error?: (e?: any) => void,\n              complete?: () => void) {\n    super();\n\n    switch (arguments.length) {\n      case 0:\n        this.destination = emptyObserver;\n        break;\n      case 1:\n        if (!destinationOrNext) {\n          this.destination = emptyObserver;\n          break;\n        }\n        if (typeof destinationOrNext === 'object') {\n          if (destinationOrNext instanceof Subscriber) {\n            this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n            this.destination = destinationOrNext;\n            destinationOrNext.add(this);\n          } else {\n            this.syncErrorThrowable = true;\n            this.destination = new SafeSubscriber<T>(this, <PartialObserver<any>> destinationOrNext);\n          }\n          break;\n        }\n      default:\n        this.syncErrorThrowable = true;\n        this.destination = new SafeSubscriber<T>(this, <((value: T) => void)> destinationOrNext, error, complete);\n        break;\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive notifications of type `next` from\n   * the Observable, with a value. The Observable may call this method 0 or more\n   * times.\n   * @param {T} [value] The `next` value.\n   * @return {void}\n   */\n  next(value?: T): void {\n    if (!this.isStopped) {\n      this._next(value);\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive notifications of type `error` from\n   * the Observable, with an attached `Error`. Notifies the Observer that\n   * the Observable has experienced an error condition.\n   * @param {any} [err] The `error` exception.\n   * @return {void}\n   */\n  error(err?: any): void {\n    if (!this.isStopped) {\n      this.isStopped = true;\n      this._error(err);\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive a valueless notification of type\n   * `complete` from the Observable. Notifies the Observer that the Observable\n   * has finished sending push-based notifications.\n   * @return {void}\n   */\n  complete(): void {\n    if (!this.isStopped) {\n      this.isStopped = true;\n      this._complete();\n    }\n  }\n\n  unsubscribe(): void {\n    if (this.closed) {\n      return;\n    }\n    this.isStopped = true;\n    super.unsubscribe();\n  }\n\n  protected _next(value: T): void {\n    this.destination.next(value);\n  }\n\n  protected _error(err: any): void {\n    this.destination.error(err);\n    this.unsubscribe();\n  }\n\n  protected _complete(): void {\n    this.destination.complete();\n    this.unsubscribe();\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _unsubscribeAndRecycle(): Subscriber<T> {\n    const {  _parentOrParents } = this;\n    this._parentOrParents = null;\n    this.unsubscribe();\n    this.closed = false;\n    this.isStopped = false;\n    this._parentOrParents = _parentOrParents;\n    return this;\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class SafeSubscriber<T> extends Subscriber<T> {\n\n  private _context: any;\n\n  constructor(private _parentSubscriber: Subscriber<T>,\n              observerOrNext?: PartialObserver<T> | ((value: T) => void),\n              error?: (e?: any) => void,\n              complete?: () => void) {\n    super();\n\n    let next: ((value: T) => void);\n    let context: any = this;\n\n    if (isFunction(observerOrNext)) {\n      next = (<((value: T) => void)> observerOrNext);\n    } else if (observerOrNext) {\n      next = (<PartialObserver<T>> observerOrNext).next;\n      error = (<PartialObserver<T>> observerOrNext).error;\n      complete = (<PartialObserver<T>> observerOrNext).complete;\n      if (observerOrNext !== emptyObserver) {\n        context = Object.create(observerOrNext);\n        if (isFunction(context.unsubscribe)) {\n          this.add(<() => void> context.unsubscribe.bind(context));\n        }\n        context.unsubscribe = this.unsubscribe.bind(this);\n      }\n    }\n\n    this._context = context;\n    this._next = next;\n    this._error = error;\n    this._complete = complete;\n  }\n\n  next(value?: T): void {\n    if (!this.isStopped && this._next) {\n      const { _parentSubscriber } = this;\n      if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n        this.__tryOrUnsub(this._next, value);\n      } else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n        this.unsubscribe();\n      }\n    }\n  }\n\n  error(err?: any): void {\n    if (!this.isStopped) {\n      const { _parentSubscriber } = this;\n      const { useDeprecatedSynchronousErrorHandling } = config;\n      if (this._error) {\n        if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n          this.__tryOrUnsub(this._error, err);\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parentSubscriber, this._error, err);\n          this.unsubscribe();\n        }\n      } else if (!_parentSubscriber.syncErrorThrowable) {\n        this.unsubscribe();\n        if (useDeprecatedSynchronousErrorHandling) {\n          throw err;\n        }\n        hostReportError(err);\n      } else {\n        if (useDeprecatedSynchronousErrorHandling) {\n          _parentSubscriber.syncErrorValue = err;\n          _parentSubscriber.syncErrorThrown = true;\n        } else {\n          hostReportError(err);\n        }\n        this.unsubscribe();\n      }\n    }\n  }\n\n  complete(): void {\n    if (!this.isStopped) {\n      const { _parentSubscriber } = this;\n      if (this._complete) {\n        const wrappedComplete = () => this._complete.call(this._context);\n\n        if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n          this.__tryOrUnsub(wrappedComplete);\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n          this.unsubscribe();\n        }\n      } else {\n        this.unsubscribe();\n      }\n    }\n  }\n\n  private __tryOrUnsub(fn: Function, value?: any): void {\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      this.unsubscribe();\n      if (config.useDeprecatedSynchronousErrorHandling) {\n        throw err;\n      } else {\n        hostReportError(err);\n      }\n    }\n  }\n\n  private __tryOrSetError(parent: Subscriber<T>, fn: Function, value?: any): boolean {\n    if (!config.useDeprecatedSynchronousErrorHandling) {\n      throw new Error('bad call');\n    }\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      if (config.useDeprecatedSynchronousErrorHandling) {\n        parent.syncErrorValue = err;\n        parent.syncErrorThrown = true;\n        return true;\n      } else {\n        hostReportError(err);\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /** @internal This is an internal implementation detail, do not use. */\n  _unsubscribe(): void {\n    const { _parentSubscriber } = this;\n    this._context = null;\n    this._parentSubscriber = null;\n    _parentSubscriber.unsubscribe();\n  }\n}\n","import { Subscriber } from '../Subscriber';\nimport { Subject } from '../Subject';\n\n/**\n * Determines whether the ErrorObserver is closed or stopped or has a\n * destination that is closed or stopped - in which case errors will\n * need to be reported via a different mechanism.\n * @param observer the observer\n */\nexport function canReportError(observer: Subscriber<any> | Subject<any>): boolean {\n  while (observer) {\n    const { closed, destination, isStopped } = observer as any;\n    if (closed || isStopped) {\n      return false;\n    } else if (destination && destination instanceof Subscriber) {\n      observer = destination;\n    } else {\n      observer = null;\n    }\n  }\n  return true;\n}\n","import { Subscriber } from '../Subscriber';\nimport { rxSubscriber as rxSubscriberSymbol } from '../symbol/rxSubscriber';\nimport { empty as emptyObserver } from '../Observer';\nimport { PartialObserver } from '../types';\n\nexport function toSubscriber<T>(\n  nextOrObserver?: PartialObserver<T> | ((value: T) => void),\n  error?: (error: any) => void,\n  complete?: () => void): Subscriber<T> {\n\n  if (nextOrObserver) {\n    if (nextOrObserver instanceof Subscriber) {\n      return (<Subscriber<T>> nextOrObserver);\n    }\n\n    if (nextOrObserver[rxSubscriberSymbol]) {\n      return nextOrObserver[rxSubscriberSymbol]();\n    }\n  }\n\n  if (!nextOrObserver && !error && !complete) {\n    return new Subscriber(emptyObserver);\n  }\n\n  return new Subscriber(nextOrObserver, error, complete);\n}\n","/** Symbol.observable addition */\n/* Note: This will add Symbol.observable globally for all TypeScript users,\n  however, we are no longer polyfilling Symbol.observable */\ndeclare global {\n  interface SymbolConstructor {\n    readonly observable: symbol;\n  }\n}\n\n/** Symbol.observable or a string \"@@observable\". Used for interop */\nexport const observable = (() => typeof Symbol === 'function' && Symbol.observable || '@@observable')();\n","/* tslint:disable:no-empty */\nexport function noop() { }\n","import { noop } from './noop';\nimport { UnaryFunction } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function pipe<T>(): UnaryFunction<T, T>;\nexport function pipe<T, A>(fn1: UnaryFunction<T, A>): UnaryFunction<T, A>;\nexport function pipe<T, A, B>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>): UnaryFunction<T, B>;\nexport function pipe<T, A, B, C>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>): UnaryFunction<T, C>;\nexport function pipe<T, A, B, C, D>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>): UnaryFunction<T, D>;\nexport function pipe<T, A, B, C, D, E>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>): UnaryFunction<T, E>;\nexport function pipe<T, A, B, C, D, E, F>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>): UnaryFunction<T, F>;\nexport function pipe<T, A, B, C, D, E, F, G>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>, fn7: UnaryFunction<F, G>): UnaryFunction<T, G>;\nexport function pipe<T, A, B, C, D, E, F, G, H>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>, fn7: UnaryFunction<F, G>, fn8: UnaryFunction<G, H>): UnaryFunction<T, H>;\nexport function pipe<T, A, B, C, D, E, F, G, H, I>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>, fn7: UnaryFunction<F, G>, fn8: UnaryFunction<G, H>, fn9: UnaryFunction<H, I>): UnaryFunction<T, I>;\nexport function pipe<T, A, B, C, D, E, F, G, H, I>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>, fn7: UnaryFunction<F, G>, fn8: UnaryFunction<G, H>, fn9: UnaryFunction<H, I>, ...fns: UnaryFunction<any, any>[]): UnaryFunction<T, {}>;\n/* tslint:enable:max-line-length */\n\nexport function pipe(...fns: Array<UnaryFunction<any, any>>): UnaryFunction<any, any> {\n  return pipeFromArray(fns);\n}\n\n/** @internal */\nexport function pipeFromArray<T, R>(fns: Array<UnaryFunction<T, R>>): UnaryFunction<T, R> {\n  if (!fns) {\n    return noop as UnaryFunction<any, any>;\n  }\n\n  if (fns.length === 1) {\n    return fns[0];\n  }\n\n  return function piped(input: T): R {\n    return fns.reduce((prev: any, fn: UnaryFunction<T, R>) => fn(prev), input as any);\n  };\n}\n","import { Operator } from './Operator';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\nimport { TeardownLogic, OperatorFunction, PartialObserver, Subscribable } from './types';\nimport { canReportError } from './util/canReportError';\nimport { toSubscriber } from './util/toSubscriber';\nimport { iif } from './observable/iif';\nimport { throwError } from './observable/throwError';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\n\n/**\n * A representation of any set of values over any amount of time. This is the most basic building block\n * of RxJS.\n *\n * @class Observable<T>\n */\nexport class Observable<T> implements Subscribable<T> {\n\n  /** Internal implementation detail, do not use directly. */\n  public _isScalar: boolean = false;\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  source: Observable<any>;\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  operator: Operator<any, T>;\n\n  /**\n   * @constructor\n   * @param {Function} subscribe the function that is called when the Observable is\n   * initially subscribed to. This function is given a Subscriber, to which new values\n   * can be `next`ed, or an `error` method can be called to raise an error, or\n   * `complete` can be called to notify of a successful completion.\n   */\n  constructor(subscribe?: (this: Observable<T>, subscriber: Subscriber<T>) => TeardownLogic) {\n    if (subscribe) {\n      this._subscribe = subscribe;\n    }\n  }\n\n  // HACK: Since TypeScript inherits static properties too, we have to\n  // fight against TypeScript here so Subject can have a different static create signature\n  /**\n   * Creates a new cold Observable by calling the Observable constructor\n   * @static true\n   * @owner Observable\n   * @method create\n   * @param {Function} subscribe? the subscriber function to be passed to the Observable constructor\n   * @return {Observable} a new cold observable\n   * @nocollapse\n   * @deprecated use new Observable() instead\n   */\n  static create: Function = <T>(subscribe?: (subscriber: Subscriber<T>) => TeardownLogic) => {\n    return new Observable<T>(subscribe);\n  }\n\n  /**\n   * Creates a new Observable, with this Observable as the source, and the passed\n   * operator defined as the new observable's operator.\n   * @method lift\n   * @param {Operator} operator the operator defining the operation to take on the observable\n   * @return {Observable} a new observable with the Operator applied\n   */\n  lift<R>(operator: Operator<T, R>): Observable<R> {\n    const observable = new Observable<R>();\n    observable.source = this;\n    observable.operator = operator;\n    return observable;\n  }\n\n  subscribe(observer?: PartialObserver<T>): Subscription;\n  /** @deprecated Use an observer instead of a complete callback */\n  subscribe(next: null | undefined, error: null | undefined, complete: () => void): Subscription;\n  /** @deprecated Use an observer instead of an error callback */\n  subscribe(next: null | undefined, error: (error: any) => void, complete?: () => void): Subscription;\n  /** @deprecated Use an observer instead of a complete callback */\n  subscribe(next: (value: T) => void, error: null | undefined, complete: () => void): Subscription;\n  subscribe(next?: (value: T) => void, error?: (error: any) => void, complete?: () => void): Subscription;\n  /**\n   * Invokes an execution of an Observable and registers Observer handlers for notifications it will emit.\n   *\n   * <span class=\"informal\">Use it when you have all these Observables, but still nothing is happening.</span>\n   *\n   * `subscribe` is not a regular operator, but a method that calls Observable's internal `subscribe` function. It\n   * might be for example a function that you passed to Observable's constructor, but most of the time it is\n   * a library implementation, which defines what will be emitted by an Observable, and when it be will emitted. This means\n   * that calling `subscribe` is actually the moment when Observable starts its work, not when it is created, as it is often\n   * the thought.\n   *\n   * Apart from starting the execution of an Observable, this method allows you to listen for values\n   * that an Observable emits, as well as for when it completes or errors. You can achieve this in two\n   * of the following ways.\n   *\n   * The first way is creating an object that implements {@link Observer} interface. It should have methods\n   * defined by that interface, but note that it should be just a regular JavaScript object, which you can create\n   * yourself in any way you want (ES6 class, classic function constructor, object literal etc.). In particular do\n   * not attempt to use any RxJS implementation details to create Observers - you don't need them. Remember also\n   * that your object does not have to implement all methods. If you find yourself creating a method that doesn't\n   * do anything, you can simply omit it. Note however, if the `error` method is not provided, all errors will\n   * be left uncaught.\n   *\n   * The second way is to give up on Observer object altogether and simply provide callback functions in place of its methods.\n   * This means you can provide three functions as arguments to `subscribe`, where the first function is equivalent\n   * of a `next` method, the second of an `error` method and the third of a `complete` method. Just as in case of Observer,\n   * if you do not need to listen for something, you can omit a function, preferably by passing `undefined` or `null`,\n   * since `subscribe` recognizes these functions by where they were placed in function call. When it comes\n   * to `error` function, just as before, if not provided, errors emitted by an Observable will be thrown.\n   *\n   * Whichever style of calling `subscribe` you use, in both cases it returns a Subscription object.\n   * This object allows you to call `unsubscribe` on it, which in turn will stop the work that an Observable does and will clean\n   * up all resources that an Observable used. Note that cancelling a subscription will not call `complete` callback\n   * provided to `subscribe` function, which is reserved for a regular completion signal that comes from an Observable.\n   *\n   * Remember that callbacks provided to `subscribe` are not guaranteed to be called asynchronously.\n   * It is an Observable itself that decides when these functions will be called. For example {@link of}\n   * by default emits all its values synchronously. Always check documentation for how given Observable\n   * will behave when subscribed and if its default behavior can be modified with a `scheduler`.\n   *\n   * ## Example\n   * ### Subscribe with an Observer\n   * ```ts\n   * import { of } from 'rxjs';\n   *\n   * const sumObserver = {\n   *   sum: 0,\n   *   next(value) {\n   *     console.log('Adding: ' + value);\n   *     this.sum = this.sum + value;\n   *   },\n   *   error() {\n   *     // We actually could just remove this method,\n   *     // since we do not really care about errors right now.\n   *   },\n   *   complete() {\n   *     console.log('Sum equals: ' + this.sum);\n   *   }\n   * };\n   *\n   * of(1, 2, 3) // Synchronously emits 1, 2, 3 and then completes.\n   *   .subscribe(sumObserver);\n   *\n   * // Logs:\n   * // \"Adding: 1\"\n   * // \"Adding: 2\"\n   * // \"Adding: 3\"\n   * // \"Sum equals: 6\"\n   * ```\n   *\n   * ### Subscribe with functions\n   * ```ts\n   * import { of } from 'rxjs'\n   *\n   * let sum = 0;\n   *\n   * of(1, 2, 3).subscribe(\n   *   value => {\n   *     console.log('Adding: ' + value);\n   *     sum = sum + value;\n   *   },\n   *   undefined,\n   *   () => console.log('Sum equals: ' + sum)\n   * );\n   *\n   * // Logs:\n   * // \"Adding: 1\"\n   * // \"Adding: 2\"\n   * // \"Adding: 3\"\n   * // \"Sum equals: 6\"\n   * ```\n   *\n   * ### Cancel a subscription\n   * ```ts\n   * import { interval } from 'rxjs';\n   *\n   * const subscription = interval(1000).subscribe(\n   *   num => console.log(num),\n   *   undefined,\n   *   () => {\n   *     // Will not be called, even when cancelling subscription.\n   *     console.log('completed!');\n   *   }\n   * );\n   *\n   * setTimeout(() => {\n   *   subscription.unsubscribe();\n   *   console.log('unsubscribed!');\n   * }, 2500);\n   *\n   * // Logs:\n   * // 0 after 1s\n   * // 1 after 2s\n   * // \"unsubscribed!\" after 2.5s\n   * ```\n   *\n   * @param {Observer|Function} observerOrNext (optional) Either an observer with methods to be called,\n   *  or the first of three possible handlers, which is the handler for each value emitted from the subscribed\n   *  Observable.\n   * @param {Function} error (optional) A handler for a terminal event resulting from an error. If no error handler is provided,\n   *  the error will be thrown as unhandled.\n   * @param {Function} complete (optional) A handler for a terminal event resulting from successful completion.\n   * @return {ISubscription} a subscription reference to the registered handlers\n   * @method subscribe\n   */\n  subscribe(observerOrNext?: PartialObserver<T> | ((value: T) => void),\n            error?: (error: any) => void,\n            complete?: () => void): Subscription {\n\n    const { operator } = this;\n    const sink = toSubscriber(observerOrNext, error, complete);\n\n    if (operator) {\n      sink.add(operator.call(sink, this.source));\n    } else {\n      sink.add(\n        this.source || (config.useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable) ?\n        this._subscribe(sink) :\n        this._trySubscribe(sink)\n      );\n    }\n\n    if (config.useDeprecatedSynchronousErrorHandling) {\n      if (sink.syncErrorThrowable) {\n        sink.syncErrorThrowable = false;\n        if (sink.syncErrorThrown) {\n          throw sink.syncErrorValue;\n        }\n      }\n    }\n\n    return sink;\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _trySubscribe(sink: Subscriber<T>): TeardownLogic {\n    try {\n      return this._subscribe(sink);\n    } catch (err) {\n      if (config.useDeprecatedSynchronousErrorHandling) {\n        sink.syncErrorThrown = true;\n        sink.syncErrorValue = err;\n      }\n      if (canReportError(sink)) {\n        sink.error(err);\n      } else {\n        console.warn(err);\n      }\n    }\n  }\n\n  /**\n   * @method forEach\n   * @param {Function} next a handler for each value emitted by the observable\n   * @param {PromiseConstructor} [promiseCtor] a constructor function used to instantiate the Promise\n   * @return {Promise} a promise that either resolves on observable completion or\n   *  rejects with the handled error\n   */\n  forEach(next: (value: T) => void, promiseCtor?: PromiseConstructorLike): Promise<void> {\n    promiseCtor = getPromiseCtor(promiseCtor);\n\n    return new promiseCtor<void>((resolve, reject) => {\n      // Must be declared in a separate statement to avoid a ReferenceError when\n      // accessing subscription below in the closure due to Temporal Dead Zone.\n      let subscription: Subscription;\n      subscription = this.subscribe((value) => {\n        try {\n          next(value);\n        } catch (err) {\n          reject(err);\n          if (subscription) {\n            subscription.unsubscribe();\n          }\n        }\n      }, reject, resolve);\n    }) as Promise<void>;\n  }\n\n  /** @internal This is an internal implementation detail, do not use. */\n  _subscribe(subscriber: Subscriber<any>): TeardownLogic {\n    const { source } = this;\n    return source && source.subscribe(subscriber);\n  }\n\n  // `if` and `throw` are special snow flakes, the compiler sees them as reserved words. Deprecated in\n  // favor of iif and throwError functions.\n  /**\n   * @nocollapse\n   * @deprecated In favor of iif creation function: import { iif } from 'rxjs';\n   */\n  static if: typeof iif;\n  /**\n   * @nocollapse\n   * @deprecated In favor of throwError creation function: import { throwError } from 'rxjs';\n   */\n  static throw: typeof throwError;\n\n  /**\n   * An interop point defined by the es7-observable spec https://github.com/zenparsing/es-observable\n   * @method Symbol.observable\n   * @return {Observable} this instance of the observable\n   */\n  [Symbol_observable]() {\n    return this;\n  }\n\n  /* tslint:disable:max-line-length */\n  pipe(): Observable<T>;\n  pipe<A>(op1: OperatorFunction<T, A>): Observable<A>;\n  pipe<A, B>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>): Observable<B>;\n  pipe<A, B, C>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>): Observable<C>;\n  pipe<A, B, C, D>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>): Observable<D>;\n  pipe<A, B, C, D, E>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>): Observable<E>;\n  pipe<A, B, C, D, E, F>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>): Observable<F>;\n  pipe<A, B, C, D, E, F, G>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>): Observable<G>;\n  pipe<A, B, C, D, E, F, G, H>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>, op8: OperatorFunction<G, H>): Observable<H>;\n  pipe<A, B, C, D, E, F, G, H, I>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>, op8: OperatorFunction<G, H>, op9: OperatorFunction<H, I>): Observable<I>;\n  pipe<A, B, C, D, E, F, G, H, I>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>, op8: OperatorFunction<G, H>, op9: OperatorFunction<H, I>, ...operations: OperatorFunction<any, any>[]): Observable<{}>;\n  /* tslint:enable:max-line-length */\n\n  /**\n   * Used to stitch together functional operators into a chain.\n   * @method pipe\n   * @return {Observable} the Observable result of all of the operators having\n   * been called in the order they were passed in.\n   *\n   * ### Example\n   * ```ts\n   * import { interval } from 'rxjs';\n   * import { map, filter, scan } from 'rxjs/operators';\n   *\n   * interval(1000)\n   *   .pipe(\n   *     filter(x => x % 2 === 0),\n   *     map(x => x + x),\n   *     scan((acc, x) => acc + x)\n   *   )\n   *   .subscribe(x => console.log(x))\n   * ```\n   */\n  pipe(...operations: OperatorFunction<any, any>[]): Observable<any> {\n    if (operations.length === 0) {\n      return this as any;\n    }\n\n    return pipeFromArray(operations)(this);\n  }\n\n  /* tslint:disable:max-line-length */\n  toPromise<T>(this: Observable<T>): Promise<T>;\n  toPromise<T>(this: Observable<T>, PromiseCtor: typeof Promise): Promise<T>;\n  toPromise<T>(this: Observable<T>, PromiseCtor: PromiseConstructorLike): Promise<T>;\n  /* tslint:enable:max-line-length */\n\n  toPromise(promiseCtor?: PromiseConstructorLike): Promise<T> {\n    promiseCtor = getPromiseCtor(promiseCtor);\n\n    return new promiseCtor((resolve, reject) => {\n      let value: any;\n      this.subscribe((x: T) => value = x, (err: any) => reject(err), () => resolve(value));\n    }) as Promise<T>;\n  }\n}\n\n/**\n * Decides between a passed promise constructor from consuming code,\n * A default configured promise constructor, and the native promise\n * constructor and returns it. If nothing can be found, it will throw\n * an error.\n * @param promiseCtor The optional promise constructor to passed by consuming code\n */\nfunction getPromiseCtor(promiseCtor: PromiseConstructorLike | undefined) {\n  if (!promiseCtor) {\n    promiseCtor = config.Promise || Promise;\n  }\n\n  if (!promiseCtor) {\n    throw new Error('no Promise impl found');\n  }\n\n  return promiseCtor;\n}\n","/**\n * Scan input image file\n */\nexport interface ScanInputFile {\n  blob: Blob\n}\n\n/**\n * Scan input video frame\n */\nexport interface ScanInputFrame {\n  blob: Blob\n  pixelData: ImageData\n  frameWidth: number\n  frameHeight: number\n}\n\n/**\n * Scan input video frame with calculated frame quality\n */\nexport interface ScanInputFrameWithQuality {\n  frame: ScanInputFrame\n  quality: number\n}\n\n/**\n * Scan output with results from API\n */\nexport interface ScanOutput {\n  sourceBlob: Blob | null\n  result: any\n}\n\n/**\n * Scan global listener\n */\nexport interface ScanListener {\n  onScanSuccess?: Function\n  onScanError?: Function\n}\n\n/**\n * Library status codes\n */\nexport enum StatusCodes {\n  Ok = 'OK',\n  ResultIsNotValidJSON = 'RESULT_IS_NOT_VALID_JSON',\n  TimedOut = 'CONNECTION_TIMED_OUT'\n}\n\n/**\n * API boolean properties for extracting document images from document\n */\nexport enum ExportImageTypes {\n  Face = 'exportFaceImage',\n  FullDocument = 'exportFullDocumentImage',\n  Signature = 'exportSignatureImage'\n}\n\n/**\n * Object which is exchanged over network (Firestore) between devices for feature \"Desktop to mobile\"\n * (\"Use remote phone camera\")\n */\nexport interface ScanExchanger {\n  status?: string\n  scanId?: string\n  key?: string\n  shortLink?: string\n  recognizers?: string | string[]\n  authorizationHeader?: string\n  exportImages?: boolean | string | string[]\n  exportFullDocumentImage?: boolean\n  exportSignatureImage?: boolean\n  exportFaceImage?: boolean\n  detectGlare?: boolean\n  allowBlurFilter?: boolean\n  anonymizeCardNumber?: boolean\n  anonymizeIban?: boolean\n  anonymizeCvv?: boolean\n  anonymizeOwner?: boolean\n  endpoint?: string\n  anonymizeNetherlandsMrz?: boolean\n}\n\nexport enum ScanExchangerCodes {\n  Step01_RemoteCameraIsRequested = 'STEP_1_REMOTE_CAMERA_IS_REQUESTED',\n  Step02_ExchangeLinkIsGenerated = 'STEP_2_EXCHANGE_LINK_IS_GENERATED',\n  Step03_RemoteCameraIsPending = 'STEP_3_REMOTE_CAMERA_IS_PENDING',\n  Step04_RemoteCameraIsOpen = 'STEP_4_REMOTE_CAMERA_IS_OPEN',\n  Step05_ImageIsUploading = 'STEP_5_IMAGE_IS_UPLOADING',\n  Step06_ImageIsProcessing = 'STEP_6_IMAGE_IS_PROCESSING',\n  Step07_ResultIsAvailable = 'STEP_7_RESULT_IS_AVAILABLE',\n\n  ErrorHappened = 'ERROR_HAPPENED'\n}\n","import { IMicroblinkApi } from './microblinkApi.interface'\nimport { Observable } from 'rxjs/internal/Observable'\nimport { Observer } from 'rxjs/internal/types'\nimport { StatusCodes } from './microblink.types'\n\nconst DEFAULT_ENDPOINT = 'https://api.microblink.com'\n\n/**\n * HTTP layer with Microblink API\n */\nexport default class MicroblinkApi implements IMicroblinkApi {\n  private authorizationHeader = ''\n  private exportImages: boolean | string | string[] = false\n  private exportFullDocumentImage: boolean = false\n  private exportSignatureImage: boolean = false\n  private exportFaceImage: boolean = false\n  private detectGlare: boolean = false\n  private endpoint: string\n  private anonymizeCardNumber: boolean = false\n  private anonymizeIban: boolean = false\n  private anonymizeCvv: boolean = false\n  private anonymizeOwner: boolean = false\n  private allowBlurFilter: boolean = false\n  private anonymizeNetherlandsMrz: boolean = false\n  private activeRequests: XMLHttpRequest[] = []\n  private userId: string = ''\n  private isDataPersistingEnabled = true\n\n  constructor() {\n    this.endpoint = DEFAULT_ENDPOINT\n  }\n\n  /**\n   * Terminate request session with aborting all pending responses\n   */\n  TerminateAll(): void {\n    this.activeRequests.forEach(activeRequest => {\n      activeRequest.abort()\n    })\n    // Clear array of all active requests when every request is terminated (aborted)\n    this.activeRequests = []\n  }\n\n  /**\n   * Change authorization header value\n   */\n  SetAuthorization(authorizationHeader: string): void {\n    this.authorizationHeader = authorizationHeader\n  }\n\n  /**\n   * Change which images to export for next request\n   * @param exportImages is either a boolean flag which describes whether API should return extracted images in next response or an array of API properties\n   */\n  SetExportImages(exportImages: boolean | string | string[]): void {\n    this.exportImages = exportImages\n  }\n\n  /**\n   * Change which images to export for next request\n   * @param exportFullDocumentImage is a boolean flag which describes whether API should return extracted full document image in next response\n   */\n  SetExportFullDocumentImage(exportFullDocumentImage: boolean): void {\n    this.exportFullDocumentImage = exportFullDocumentImage\n  }\n\n  /**\n   * Change which images to export for next request\n   * @param exportSignatureImage is a boolean flag which describes whether API should return extracted signature image in next response\n   */\n  SetExportSignatureImage(exportSignatureImage: boolean): void {\n    this.exportSignatureImage = exportSignatureImage\n  }\n\n  /**\n   * Change which images to export for next request\n   * @param exportFaceImage is a boolean flag which describes whether API should return extracted face image in next response\n   */\n  SetExportFaceImage(exportFaceImage: boolean): void {\n    this.exportFaceImage = exportFaceImage\n  }\n\n  /**\n   * Set detect glare option for next request\n   * @param detectGlare is a boolean flag which describes whether API should return null for image segments where glare is detected\n   */\n  SetDetectGlare(detectGlare: boolean): void {\n    this.detectGlare = detectGlare\n  }\n\n  /**\n   * Set allow blur filter option for next request\n   * @param allowBlurFilter is a boolean flag which describes whether API should return null for image segments where blur is detected\n   */\n  SetAllowBlurFilter(allowBlurFilter: boolean): void {\n    this.allowBlurFilter = allowBlurFilter\n  }\n\n  /**\n   * Change API endpoint\n   * @param endpoint is API endpoint where Microblink API or Microblink API proxy is available\n   */\n  SetEndpoint(endpoint: string): void {\n    this.endpoint = endpoint\n  }\n\n  /**\n   * Set anonymize card number (works on BLINK_CARD recognizer) for next request\n   * @param anonymizeCardNumber is a boolean flag which describes whether API should return a base64 image of the scanned card with the card number anonymized\n   */\n  SetAnonymizeCardNumber(anonymizeCardNumber: boolean): void {\n    this.anonymizeCardNumber = anonymizeCardNumber\n  }\n\n  /**\n   * Set anonymize card number (works on BLINK_CARD recognizer) for next request\n   * @param anonymizeIbanNumber is a boolean flag which describes whether API should return a base64 image of the scanned card with the card number anonymized\n   */\n  SetAnonymizeIban(anonymizeIban: boolean): void {\n    this.anonymizeIban = anonymizeIban\n  }\n\n  /**\n   * Set anonymize cvv (works on BLINK_CARD recognizer) for next request\n   * @param anonymizeCvv is a boolean flag which describes whether API should return a base64 image of the scanned card with the cvv number anonymized\n   */\n  SetAnonymizeCvv(anonymizeCvv: boolean): void {\n    this.anonymizeCvv = anonymizeCvv\n  }\n\n  /**\n   * Set anonymize owner (works on BLINK_CARD recognizer) for next request\n   * @param anonymizeOwner is a boolean flag which describes whether API should return a base64 image of the scanned card with the owner name anonymized\n   */\n  SetAnonymizeOwner(anonymizeOwner: boolean): void {\n    this.anonymizeOwner = anonymizeOwner\n  }\n\n  /**\n   * Set user identificator which will be stored with uploaded image\n   * @param userId is any string which unique identifies user who use SDK and upload any image to API\n   */\n  SetUserId(userId: string): void {\n    this.userId = userId\n  }\n\n  /**\n   * When Authorization is not set it is available to disable persisting of uploaded data, by default it is enabled\n   * this should be disabled for every page where GDPR is not implemented and this is ability to disable data persisting\n   * on some demo pages\n   * @param isEnabled is flag which describes should or should not API persist uploaded data, be default it is enabled\n   */\n  SetIsDataPersistingEnabled(isEnabled: boolean): void {\n    this.isDataPersistingEnabled = isEnabled\n  }\n\n  /**\n   * Set anonymize netherlandsMrz (works on BLINK_CARD recognizer) for next request\n   * @param anonymizeNetherlandsMrz is a boolean flag which describes whether API should return a base64 image of the scanned card with the netherlands MRZ anonymized\n   */\n  SetAnonymizeNetherlandsMrz(anonymizeNetherlandsMrz: boolean): void {\n    this.anonymizeNetherlandsMrz = anonymizeNetherlandsMrz\n  }\n\n  /**\n   * Execute remote recognition\n   * @param recognizers is string or array of strings on which image will be processed\n   * @param imageBase64 is Base64 encoded image which should contain document for processing\n   * @param uploadProgress (optional) is XHR event listener for image upload to show upload progress bar on UI\n   */\n  Recognize(\n    recognizers: string | string[],\n    imageBase64: string,\n    uploadProgress?: EventListener\n  ): Observable<any> {\n    return new Observable((observer: Observer<any>) => {\n      // Image should be as Base64 encoded file\n      const body: any = {\n        imageBase64: imageBase64\n      }\n\n      // Recognizers could be one defined as string or multiple defined as string array\n      if (typeof recognizers === 'string') {\n        body['recognizer'] = recognizers\n      } else {\n        body['recognizers'] = recognizers\n      }\n\n      // Export images flag set if it is enabled\n      if (this.exportImages) {\n        body['exportImages'] = this.exportImages\n      }\n\n      // Export full document image flag set if it is enabled\n      if (this.exportFullDocumentImage) {\n        body['exportFullDocumentImage'] = true\n      }\n\n      // Export signature image flag set if it is enabled\n      if (this.exportSignatureImage) {\n        body['exportSignatureImage'] = true\n      }\n\n      // Export face image flag set if it is enabled\n      if (this.exportFaceImage) {\n        body['exportFaceImage'] = true\n      }\n\n      // Detect glare flag set if it is enabled\n      if (this.detectGlare) {\n        body['detectGlare'] = true\n      }\n\n      // Detect blur flag set if it is enabled\n      if (this.allowBlurFilter) {\n        body['allowBlurFilter'] = true\n      }\n\n      // Anonymize card number flag set if it is enabled\n      if (this.anonymizeCardNumber) {\n        body['anonymizeCardNumber'] = true\n      }\n\n      // Anonymize IBAN number flag set if it is enabled\n      if (this.anonymizeIban) {\n        body['anonymizeIban'] = true\n      }\n\n      // Anonymize cvv flag set if it is enabled\n      if (this.anonymizeCvv) {\n        body['anonymizeCvv'] = true\n      }\n\n      // Anonymize owner set if it is enabled\n      if (this.anonymizeOwner) {\n        body['anonymizeOwner'] = true\n      }\n\n      // Set userId if it is defined\n      if (this.userId) {\n        body['userId'] = this.userId\n      }\n\n      // If it is set to FALSE then set disable data persisting flag\n      if (this.isDataPersistingEnabled === false) {\n        body['disableDataPersisting'] = true\n      }\n\n      // If it is set to FALSE then set disable data persisting flag\n      if (this.anonymizeNetherlandsMrz) {\n        body['anonymizeNetherlandsMrz'] = true\n      }\n\n      // Body data should be send as stringified JSON and as Content-type=application/json\n      const data = JSON.stringify(body)\n\n      const xhr = new XMLHttpRequest()\n\n      xhr.withCredentials = true\n      if (uploadProgress) {\n        // FIX: timeout should not be set, because some client can have really slow uplink\n        // set timeout for file uploading\n        xhr.timeout = 40000\n      }\n      xhr.open('POST', this.endpoint + '/recognize/execute')\n      xhr.setRequestHeader('Content-Type', 'application/json')\n\n      // When Authorization header is not set results will be masked on server-side\n      if (this.isAuthorizationHeaderValid) {\n        xhr.setRequestHeader('Authorization', this.authorizationHeader)\n      }\n\n      xhr.addEventListener('readystatechange', function() {\n        if (this.readyState === 4) {\n          let responseBody = null\n          try {\n            // Return result as parsed JSON object\n            responseBody = JSON.parse(this.responseText)\n\n            // OCR result will be available ony on status 200 OK, otherwise some problem is with backend or api key\n            if (this.status === 200) {\n              observer.next(responseBody)\n              observer.complete()\n            } else {\n              observer.error(responseBody)\n            }\n          } catch (err) {\n            if (uploadProgress && this.status === 0) {\n              responseBody = {\n                code: StatusCodes.TimedOut,\n                message: 'Connection timed out. Please try again.'\n              }\n            } else {\n              responseBody = {\n                error: 'Result is not valid JSON',\n                code: StatusCodes.ResultIsNotValidJSON,\n                responseText: this.responseText\n              }\n            }\n            observer.error(responseBody)\n          }\n        }\n      })\n\n      xhr.onerror = error => {\n        observer.error(error)\n      }\n\n      if (uploadProgress) {\n        xhr.upload.addEventListener('progress', uploadProgress, false)\n        xhr.upload.addEventListener('load', uploadProgress, false)\n      }\n\n      xhr.send(data)\n\n      // append the request to active stack\n      this.activeRequests.push(xhr)\n    })\n  }\n\n  /**\n   * Authorization header offline validator, just check for Authorization header format before sending it to the API\n   */\n  private get isAuthorizationHeaderValid() {\n    if (\n      this.authorizationHeader.startsWith('Bearer ') ||\n      this.authorizationHeader.startsWith('bearer ') ||\n      this.authorizationHeader.startsWith('Basic ') ||\n      this.authorizationHeader.startsWith('basic ')\n    ) {\n      return true\n    }\n    return false\n  }\n}\n","/**\n * Helper for get detailed information from the frame of the image as RAW pixels array, with defined width and height\n */\nexport class FrameHelper {\n  /**\n   * Get frame quality\n   * @param pixelData is ImageData from `canvas.getContext(\"2d\").getImageData(0, 0, canvas.width, canvas.height)`\n   */\n  public static getFrameQuality(pixelData: ImageData): number {\n    return this.calculateFrameQuality(pixelData.data, pixelData.width, pixelData.height)\n  }\n\n  /**\n   * Calculate frame quality\n   * @param rgbaImgData is an RGB array (3n)=>RED, (3n+1)=>GREEN, (3n+2)=>BLUE, where n is pixel index in 2D grid\n   * @param width is the frame horizontal dimension in pixels\n   * @param height is the frame vertical dimension in pixels\n   */\n  private static calculateFrameQuality(\n    rgbaImgData: Uint8ClampedArray,\n    width: number,\n    height: number\n  ): number {\n    const vertScanLineNum = 28\n    const horizScanLineNum = 20\n    let totalStrength = 0\n    let sampleNum = 0\n\n    for (let i = 0; i < vertScanLineNum; i++) {\n      const distance = parseInt((width / (vertScanLineNum + 1)).toString(), 10)\n      const col = parseInt((distance * i + distance / 2).toString(), 10)\n\n      for (let row = 1; row < height - 1; row++) {\n        const curPixel = this.getIntensity(rgbaImgData, row, col, width)\n        const prevPixel = this.getIntensity(rgbaImgData, row - 1, col, width)\n        const nextPixel = this.getIntensity(rgbaImgData, row + 1, col, width)\n\n        const lastDiff = prevPixel - curPixel\n        const currDiff = curPixel - nextPixel\n        const secondDiff = currDiff - lastDiff\n        sampleNum += 1\n        totalStrength += secondDiff * secondDiff\n      }\n    }\n\n    for (let i = 0; i < horizScanLineNum; i++) {\n      const distance = parseInt((height / (horizScanLineNum + 1)).toString(), 10)\n      const row = parseInt((distance * i + distance / 2).toString(), 10)\n\n      for (let col = 1; col < width - 1; col++) {\n        const curPixel = this.getIntensity(rgbaImgData, row, col, width)\n        const prevPixel = this.getIntensity(rgbaImgData, row, col - 1, width)\n        const nextPixel = this.getIntensity(rgbaImgData, row, col + 1, width)\n\n        const lastDiff = prevPixel - curPixel\n        const currDiff = curPixel - nextPixel\n        const secondDiff = currDiff - lastDiff\n        sampleNum += 1\n        totalStrength += secondDiff * secondDiff\n      }\n    }\n\n    let res = totalStrength / sampleNum\n    let qratio = parseFloat((width * height).toString()) / (640.0 * 480.0)\n\n    if (qratio > 1.0) {\n      if (qratio > 10.0) qratio = 10.0\n      res /= qratio\n    } else {\n      res *= qratio\n    }\n\n    return res\n  }\n\n  /**\n   * Get pixel intensity\n   * @param rgbaImgData is an RGB array (3n)=>RED, (3n+1)=>GREEN, (3n+2)=>BLUE, where n is pixel index in 2D grid\n   * @param row is an row of the pixel in the frame\n   * @param col is na column of the pixel in the frame\n   * @param width is the frame horizontal dimension in pixels\n   */\n  private static getIntensity(\n    rgbaImgData: Uint8ClampedArray,\n    row: number,\n    col: number,\n    width: number\n  ): number {\n    const baseIdx = (row * width + col) * 4\n\n    const r = rgbaImgData[baseIdx]\n    const g = rgbaImgData[baseIdx + 1]\n    const b = rgbaImgData[baseIdx + 2]\n\n    return 0.2126 * r + 0.7152 * g + 0.0722 * b\n  }\n}\n","import { ScanExchanger, ScanExchangerCodes } from './microblink.types'\n\ndeclare var firebase: any\ndeclare var QRCode: any\n\nconst FIRESTORE_COLLECTION_ID = 'scans'\n\n// This should be in try/catch block because firebase could not be configured\n// this is helper only for optional feature \"Desktop to mobile\"\ntry {\n  // NOTE: avoid use of shortcut `firestore` instead of `firebase.firestore()` beacause this produce error in\n  // Codepen and jsFiddle environment!\n  // const settings = { timestampsInSnapshots: true } // deprecated, new firebase version released\n  firebase.firestore().settings({})\n} catch (e) {\n  /* tslint:disable:no-empty */\n}\n\nexport class ScanExchangeHelper {\n  /**\n   * Create Firestore object for scan data exchanging\n   * @param data is optional object with data which will be added to the created Firestore object\n   */\n  public static async createScanExchanger(data: ScanExchanger = {}): Promise<ScanExchanger> {\n    // Get reference to the Firestore document\n    const scan = firebase\n      .firestore()\n      .collection(FIRESTORE_COLLECTION_ID)\n      .doc()\n    // Define default status STEP_01...\n    data.status = ScanExchangerCodes.Step01_RemoteCameraIsRequested\n    // For easier scanId fetching append it to the document\n    data.scanId = scan.id\n    // Wait until data is set\n    await scan.set(data)\n    // Return promise\n    return scan\n  }\n\n  /**\n   * Generate QR code as base64 image for specific URL\n   * @param url is string\n   */\n  public static async generateQRCode(url: string): Promise<string> {\n    let qrCodeAsBase64 = null\n\n    // Dependency to https://github.com/soldair/node-qrcode is required!\n    // If `QRCode` is not available or any error happened then skip creating of QRCode\n    try {\n      qrCodeAsBase64 = await QRCode.toDataURL(url, {\n        errorCorrectionLevel: 'H',\n        type: 'image/png',\n        width: 1024,\n        margin: 4\n      })\n    } catch (err) {\n      /* tslint:disable:no-empty */\n    }\n\n    return qrCodeAsBase64\n  }\n}\n","import { Encoding } from './Encoding';\nimport { WordArray } from '../lib/WordArray';\n\nexport class Hex {\n    /**\n     * Converts a word array to a hex string.\n     *\n     * @param wordArray The word array.\n     *\n     * @return The hex string.\n     *\n     * @example\n     *\n     *     let hexString = Hex.stringify(wordArray);\n     */\n    public static stringify(wordArray: WordArray): string {\n        // Convert\n        const hexChars: Array<string> = [];\n        for (let i = 0; i < wordArray.sigBytes; i++) {\n            const bite = (wordArray.words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n            hexChars.push((bite >>> 4).toString(16));\n            hexChars.push((bite & 0x0f).toString(16));\n        }\n\n        return hexChars.join('');\n    }\n\n    /**\n     * Converts a hex string to a word array.\n     *\n     * @param hexStr The hex string.\n     *\n     * @return The word array.\n     *\n     * @example\n     *\n     *     let wordArray = Hex.parse(hexString);\n     */\n    public static parse(hexStr: string): WordArray {\n        // Shortcut\n        const hexStrLength = hexStr.length;\n\n        // Convert\n        const words: Array<number> = [];\n        for (let i = 0; i < hexStrLength; i += 2) {\n            words[i >>> 3] |= parseInt(hexStr.substr(i, 2), 16) << (24 - (i % 8) * 4);\n        }\n\n        return new WordArray(words, hexStrLength / 2);\n    }\n}\n\n// type guard for the formatter (to ensure it has the required static methods)\nconst _: Encoding = Hex;","import { Encoding } from '../enc/Encoding';\nimport { Hex } from '../enc/Hex';\n\nexport class WordArray {\n    words: Array<number>;\n\n    sigBytes: number;\n\n    /**\n     * Creates a word array filled with random bytes.\n     *\n     * @param nBytes The number of random bytes to generate.\n     *\n     * @return The random word array.\n     *\n     * @example\n     *\n     *     let wordArray = WordArray.random(16);\n     */\n    public static random(nBytes: number) {\n        const words = [];\n\n        const r = (function(m_w: number) {\n            let m_z = 0x3ade68b1;\n\n            const mask = 0xffffffff;\n\n            return function() {\n                m_z = (0x9069 * (m_z & 0xFFFF) + (m_z >> 0x10)) & mask;\n                m_w = (0x4650 * (m_w & 0xFFFF) + (m_w >> 0x10)) & mask;\n                let result = ((m_z << 0x10) + m_w) & mask;\n                result /= 0x100000000;\n                result += 0.5;\n                return result * (Math.random() > .5 ? 1 : -1);\n            };\n        });\n\n        for(let i = 0, rcache; i < nBytes; i += 4) {\n            const _r = r((rcache || Math.random()) * 0x100000000);\n\n            rcache = _r() * 0x3ade67b7;\n            words.push((_r() * 0x100000000) | 0);\n        }\n\n        return new WordArray(words, nBytes);\n    }\n\n    /**\n     * Initializes a newly created word array.\n     *\n     * @param words (Optional) An array of 32-bit words.\n     * @param sigBytes (Optional) The number of significant bytes in the words.\n     *\n     * @example\n     *\n     *     let wordArray = new WordArray();\n     *     let wordArray = new WordArray([0x00010203, 0x04050607]);\n     *     let wordArray = new WordArray([0x00010203, 0x04050607], 6);\n     */\n    constructor(words?: Array<number>, sigBytes?: number) {\n        this.words = words || [];\n\n        if(sigBytes !== undefined) {\n            this.sigBytes = sigBytes;\n        } else {\n            this.sigBytes = this.words.length * 4;\n        }\n    }\n\n    /**\n     * Converts this word array to a string.\n     *\n     * @param encoder (Optional) The encoding strategy to use. Default: CryptoJS.enc.Hex\n     *\n     * @return The stringified word array.\n     *\n     * @example\n     *\n     *     let string = wordArray + '';\n     *     let string = wordArray.toString();\n     *     let string = wordArray.toString(CryptoJS.enc.Utf8);\n     */\n    toString(encoder?: Encoding): string {\n        return (encoder || Hex).stringify(this);\n    }\n\n    /**\n     * Concatenates a word array to this word array.\n     *\n     * @param wordArray The word array to append.\n     *\n     * @return This word array.\n     *\n     * @example\n     *\n     *     wordArray1.concat(wordArray2);\n     */\n    concat(wordArray: WordArray): WordArray {\n        // Clamp excess bits\n        this.clamp();\n\n        // Concat\n        if(this.sigBytes % 4) {\n            // Copy one byte at a time\n            for(let i = 0; i < wordArray.sigBytes; i++) {\n                const thatByte = (wordArray.words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n                this.words[(this.sigBytes + i) >>> 2] |= thatByte << (24 - ((this.sigBytes + i) % 4) * 8);\n            }\n        } else {\n            // Copy one word at a time\n            for (let i = 0; i < wordArray.sigBytes; i += 4) {\n                this.words[(this.sigBytes + i) >>> 2] = wordArray.words[i >>> 2];\n            }\n        }\n        this.sigBytes += wordArray.sigBytes;\n\n        // Chainable\n        return this;\n    }\n\n    /**\n     * Removes insignificant bits.\n     *\n     * @example\n     *\n     *     wordArray.clamp();\n     */\n    clamp() {\n        // Clamp\n        this.words[this.sigBytes >>> 2] &= 0xffffffff << (32 - (this.sigBytes % 4) * 8);\n        this.words.length = Math.ceil(this.sigBytes / 4);\n    }\n\n    /**\n     * Creates a copy of this word array.\n     *\n     * @return The clone.\n     *\n     * @example\n     *\n     *     let clone = wordArray.clone();\n     */\n    clone(): WordArray {\n        return new WordArray(this.words.slice(0), this.sigBytes);\n    }\n}","import { Encoding } from './Encoding';\nimport { WordArray } from '../lib/WordArray';\n\ndeclare function escape(s: string): string;\ndeclare function unescape(s: string): string;\n\nexport class Latin1 {\n    /**\n     * Converts a word array to a Latin1 string.\n     *\n     * @param wordArray The word array.\n     *\n     * @return The Latin1 string.\n     *\n     * @example\n     *\n     *     let latin1String = Latin1.stringify(wordArray);\n     */\n    public static stringify(wordArray: WordArray): string {\n        // Convert\n        const latin1Chars = [];\n        for (let i = 0; i < wordArray.sigBytes; i++) {\n            const bite = (wordArray.words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n            latin1Chars.push(String.fromCharCode(bite));\n        }\n\n        return latin1Chars.join('');\n    }\n\n    /**\n     * Converts a Latin1 string to a word array.\n     *\n     * @param latin1Str The Latin1 string.\n     *\n     * @return The word array.\n     *\n     * @example\n     *\n     *     let wordArray = Latin1.parse(latin1String);\n     */\n    public static parse(latin1Str: string): WordArray {\n        // Shortcut\n        const latin1StrLength = latin1Str.length;\n\n        // Convert\n        const words: Array<number> = [];\n        for (let i = 0; i < latin1StrLength; i++) {\n            words[i >>> 2] |= (latin1Str.charCodeAt(i) & 0xff) << (24 - (i % 4) * 8);\n        }\n\n        return new WordArray(words, latin1StrLength);\n    }\n}\n\n// type guard for the formatter (to ensure it has the required static methods)\nconst _: Encoding = Latin1;","import { Encoding } from './Encoding';\nimport { WordArray } from '../lib/WordArray';\nimport { Latin1 } from './Latin1';\n\nexport class Utf8 {\n    /**\n     * Converts a word array to a UTF-8 string.\n     *\n     * @param wordArray The word array.\n     *\n     * @return The UTF-8 string.\n     *\n     * @example\n     *\n     *     let utf8String = Utf8.stringify(wordArray);\n     */\n    public static stringify(wordArray: WordArray): string {\n        try {\n            return decodeURIComponent(escape(Latin1.stringify(wordArray)));\n        } catch(e) {\n            throw new Error('Malformed UTF-8 data');\n        }\n    }\n\n    /**\n     * Converts a UTF-8 string to a word array.\n     *\n     * @param utf8Str The UTF-8 string.\n     *\n     * @return The word array.\n     *\n     * @example\n     *\n     *     let wordArray = Utf8.parse(utf8String);\n     */\n    public static parse(utf8Str: string): WordArray {\n        return Latin1.parse(unescape(encodeURIComponent(utf8Str)));\n    }\n}\n\n// type guard for the formatter (to ensure it has the required static methods)\nconst _: Encoding = Utf8;","import { WordArray } from '../lib/WordArray';\nimport { Utf8 } from '../enc/Utf8';\nimport { BufferedBlockAlgorithmConfig } from './BufferedBlockAlgorithmConfig';\n\nexport abstract class BufferedBlockAlgorithm {\n    public _minBufferSize = 0;\n\n    public _data: WordArray;\n\n    public _nDataBytes: number;\n\n    public cfg: BufferedBlockAlgorithmConfig;\n\n    abstract _doProcessBlock(wordArray: Array<number>, offset: number): void;\n\n    constructor(cfg?: BufferedBlockAlgorithmConfig) {\n        this.cfg = Object.assign({\n            blockSize: 1\n        }, cfg);\n\n        // Initial values\n        this._data = new WordArray();\n        this._nDataBytes = 0;\n    }\n\n    /**\n     * Resets this block algorithm's data buffer to its initial state.\n     *\n     * @example\n     *\n     *     bufferedBlockAlgorithm.reset();\n     */\n    reset() {\n        // Initial values\n        this._data = new WordArray();\n        this._nDataBytes = 0;\n    }\n\n    /**\n     * Adds new data to this block algorithm's buffer.\n     *\n     * @param data The data to append. Strings are converted to a WordArray using UTF-8.\n     *\n     * @example\n     *\n     *     bufferedBlockAlgorithm._append('data');\n     *     bufferedBlockAlgorithm._append(wordArray);\n     */\n    _append(data: string | WordArray) {\n        // Convert string to WordArray, else assume WordArray already\n        if(typeof data === 'string') {\n            data = Utf8.parse(data);\n        }\n\n        // Append\n        this._data.concat(data);\n        this._nDataBytes += data.sigBytes;\n    }\n\n    /**\n     * Processes available data blocks.\n     *\n     * This method invokes _doProcessBlock(offset), which must be implemented by a concrete subtype.\n     *\n     * @param doFlush Whether all blocks and partial blocks should be processed.\n     *\n     * @return The processed data.\n     *\n     * @example\n     *\n     *     let processedData = bufferedBlockAlgorithm._process();\n     *     let processedData = bufferedBlockAlgorithm._process(!!'flush');\n     */\n    _process(doFlush?: boolean): WordArray {\n        if(!this.cfg.blockSize) {\n            throw new Error('missing blockSize in config');\n        }\n\n        // Shortcuts\n        const blockSizeBytes = this.cfg.blockSize * 4;\n\n        // Count blocks ready\n        let nBlocksReady = this._data.sigBytes / blockSizeBytes;\n        if (doFlush) {\n            // Round up to include partial blocks\n            nBlocksReady = Math.ceil(nBlocksReady);\n        } else {\n            // Round down to include only full blocks,\n            // less the number of blocks that must remain in the buffer\n            nBlocksReady = Math.max((nBlocksReady | 0) - this._minBufferSize, 0);\n        }\n\n        // Count words ready\n        const nWordsReady = nBlocksReady * this.cfg.blockSize;\n\n        // Count bytes ready\n        const nBytesReady = Math.min(nWordsReady * 4, this._data.sigBytes);\n\n        // Process blocks\n        let processedWords;\n        if (nWordsReady) {\n            for (let offset = 0; offset < nWordsReady; offset += this.cfg.blockSize) {\n                // Perform concrete-algorithm logic\n                this._doProcessBlock(this._data.words, offset);\n            }\n\n            // Remove processed words\n            processedWords = this._data.words.splice(0, nWordsReady);\n            this._data.sigBytes -= nBytesReady;\n        }\n\n        // Return processed words\n        return new WordArray(processedWords, nBytesReady);\n    }\n\n    /**\n     * Creates a copy of this object.\n     *\n     * @return The clone.\n     *\n     * @example\n     *\n     *     let clone = bufferedBlockAlgorithm.clone();\n     */\n    clone(): BufferedBlockAlgorithm {\n        const clone = this.constructor();\n\n        for(const attr in this) {\n            if(this.hasOwnProperty(attr)) {\n                clone[attr] = this[attr];\n            }\n        }\n\n        clone._data = this._data.clone();\n\n        return clone;\n    }\n}","export class Base {\n}","import { Base } from '../lib/Base';\nimport { CipherParamsInterface } from './CipherParamsInterface';\nimport { WordArray } from '../lib/WordArray';\nimport { Cipher } from '../lib/Cipher';\nimport { BlockCipherMode } from '../mode/BlockCipherMode';\nimport { Padding } from '../pad/Padding';\nimport { Formatter } from '../format/Formatter';\n\nexport class CipherParams extends Base implements CipherParamsInterface {\n    ciphertext?: WordArray;\n\n    key?: WordArray | string;\n\n    iv?: WordArray;\n\n    salt?: WordArray | string;\n\n    algorithm?: typeof Cipher;\n\n    mode?: typeof BlockCipherMode;\n\n    padding?: Padding;\n\n    blockSize?: number;\n\n    formatter?: Formatter;\n\n    /**\n     * Initializes a newly created cipher params object.\n     *\n     * @param cipherParams An object with any of the possible cipher parameters.\n     *\n     * @example\n     *\n     *     let cipherParams = CipherParams.create({\n     *         ciphertext: ciphertextWordArray,\n     *         key: keyWordArray,\n     *         iv: ivWordArray,\n     *         salt: saltWordArray,\n     *         algorithm: AESAlgorithm,\n     *         mode: CBC,\n     *         padding: PKCS7,\n     *         blockSize: 4,\n     *         formatter: OpenSSLFormatter\n     *     });\n     */\n    public constructor(cipherParams: CipherParamsInterface) {\n        super();\n\n        this.ciphertext = cipherParams.ciphertext;\n        this.key = cipherParams.key;\n        this.iv = cipherParams.iv;\n        this.salt = cipherParams.salt;\n        this.algorithm = cipherParams.algorithm;\n        this.mode = cipherParams.mode;\n        this.padding = cipherParams.padding;\n        this.blockSize = cipherParams.blockSize;\n        this.formatter = cipherParams.formatter;\n    }\n\n    public extend(additionalParams: CipherParams): CipherParams {\n        if(additionalParams.ciphertext !== undefined) {\n            this.ciphertext = additionalParams.ciphertext;\n        }\n\n        if(additionalParams.key !== undefined) {\n            this.key = additionalParams.key;\n        }\n\n        if(additionalParams.iv !== undefined) {\n            this.iv = additionalParams.iv;\n        }\n\n        if(additionalParams.salt !== undefined) {\n            this.salt = additionalParams.salt;\n        }\n\n        if(additionalParams.algorithm !== undefined) {\n            this.algorithm = additionalParams.algorithm;\n        }\n\n        if(additionalParams.mode !== undefined) {\n            this.mode = additionalParams.mode;\n        }\n\n        if(additionalParams.padding !== undefined) {\n            this.padding = additionalParams.padding;\n        }\n\n        if(additionalParams.blockSize !== undefined) {\n            this.blockSize = additionalParams.blockSize;\n        }\n\n        if(additionalParams.formatter !== undefined) {\n            this.formatter = additionalParams.formatter;\n        }\n\n\n        return this;\n    }\n\n    /**\n     * Converts this cipher params object to a string.\n     *\n     * @param formatter (Optional) The formatting strategy to use.\n     *\n     * @return The stringified cipher params.\n     *\n     * @throws Error If neither the formatter nor the default formatter is set.\n     *\n     * @example\n     *\n     *     let string = cipherParams + '';\n     *     let string = cipherParams.toString();\n     *     let string = cipherParams.toString(CryptoJS.format.OpenSSL);\n     */\n    public toString(formatter?: Formatter): string {\n        if(formatter) {\n            return formatter.stringify(this);\n        } else if(this.formatter) {\n            return this.formatter.stringify(this);\n        } else {\n            throw new Error('cipher needs a formatter to be able to convert the result into a string');\n        }\n    }\n}","import { Encoding } from './Encoding';\nimport { WordArray } from '../lib/WordArray';\n\nexport class Base64 {\n    public static _map = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n    public static _reverseMap: Array<number> | undefined = undefined;\n\n    /**\n     * Converts a word array to a Base64 string.\n     *\n     * @param wordArray The word array.\n     *\n     * @return The Base64 string.\n     *\n     * @example\n     *\n     *     let base64String = Base64.stringify(wordArray);\n     */\n    public static stringify(wordArray: WordArray): string {\n        // Clamp excess bits\n        wordArray.clamp();\n\n        // Convert\n        const base64Chars = [];\n        for (let i = 0; i < wordArray.sigBytes; i += 3) {\n            const byte1 = (wordArray.words[i >>> 2]       >>> (24 - (i % 4) * 8))       & 0xff;\n            const byte2 = (wordArray.words[(i + 1) >>> 2] >>> (24 - ((i + 1) % 4) * 8)) & 0xff;\n            const byte3 = (wordArray.words[(i + 2) >>> 2] >>> (24 - ((i + 2) % 4) * 8)) & 0xff;\n\n            const triplet = (byte1 << 16) | (byte2 << 8) | byte3;\n\n            for (let j = 0; (j < 4) && (i + j * 0.75 < wordArray.sigBytes); j++) {\n                base64Chars.push(this._map.charAt((triplet >>> (6 * (3 - j))) & 0x3f));\n            }\n        }\n\n        // Add padding\n        const paddingChar = this._map.charAt(64);\n        if (paddingChar) {\n            while (base64Chars.length % 4) {\n                base64Chars.push(paddingChar);\n            }\n        }\n\n        return base64Chars.join('');\n    }\n\n    /**\n     * Converts a Base64 string to a word array.\n     *\n     * @param base64Str The Base64 string.\n     *\n     * @return The word array.\n     *\n     * @example\n     *\n     *     let wordArray = Base64.parse(base64String);\n     */\n    public static parse(base64Str: string): WordArray {\n        // Shortcuts\n        let base64StrLength = base64Str.length;\n\n        if(this._reverseMap === undefined) {\n                this._reverseMap = [];\n                for(let j = 0; j < this._map.length; j++) {\n                    this._reverseMap[this._map.charCodeAt(j)] = j;\n                }\n        }\n\n        // Ignore padding\n        const paddingChar = this._map.charAt(64);\n        if(paddingChar) {\n            const paddingIndex = base64Str.indexOf(paddingChar);\n            if(paddingIndex !== -1) {\n                base64StrLength = paddingIndex;\n            }\n        }\n\n        // Convert\n        return this.parseLoop(base64Str, base64StrLength, this._reverseMap);\n    }\n\n    public static parseLoop(base64Str: string, base64StrLength: number, reverseMap: Array<number>): WordArray {\n        const words: Array<number> = [];\n        let nBytes = 0;\n        for(let i = 0; i < base64StrLength; i++) {\n            if(i % 4) {\n                const bits1 = reverseMap[base64Str.charCodeAt(i - 1)] << ((i % 4) * 2);\n                const bits2 = reverseMap[base64Str.charCodeAt(i)] >>> (6 - (i % 4) * 2);\n                words[nBytes >>> 2] |= (bits1 | bits2) << (24 - (nBytes % 4) * 8);\n                nBytes++;\n            }\n        }\n\n        return new WordArray(words, nBytes);\n    }\n}\n\n// type guard for the formatter (to ensure it has the required static methods)\nconst _: Encoding = Base64;","import { Formatter } from './Formatter';\nimport { CipherParams } from '../lib/CipherParams';\nimport { WordArray } from '../lib/WordArray';\nimport { Base64 } from '../enc/Base64';\n\nexport class OpenSSL {\n    /**\n     * Converts a cipher params object to an OpenSSL-compatible string.\n     *\n     * @param cipherParams The cipher params object.\n     *\n     * @return The OpenSSL-compatible string.\n     *\n     * @example\n     *\n     *     let openSSLString = OpenSSLFormatter.stringify(cipherParams);\n     */\n    public static stringify(cipherParams: CipherParams): string {\n        if(!cipherParams.ciphertext) {\n            throw new Error('missing ciphertext in params');\n        }\n\n        // Shortcuts\n        const ciphertext = cipherParams.ciphertext;\n        const salt = cipherParams.salt;\n\n        // Format\n        let wordArray: WordArray;\n        if(salt) {\n            if(typeof salt === 'string') {\n                throw new Error('salt is expected to be a WordArray');\n            }\n\n            wordArray = (new WordArray([0x53616c74, 0x65645f5f])).concat(salt).concat(ciphertext);\n        } else {\n            wordArray = ciphertext;\n        }\n\n        return wordArray.toString(Base64);\n    }\n\n    /**\n     * Converts an OpenSSL-compatible string to a cipher params object.\n     *\n     * @param openSSLStr The OpenSSL-compatible string.\n     *\n     * @return The cipher params object.\n     *\n     * @example\n     *\n     *     let cipherParams = OpenSSLFormatter.parse(openSSLString);\n     */\n    public static parse(openSSLStr: string): CipherParams {\n        // Parse base64\n        const ciphertext = Base64.parse(openSSLStr);\n\n        // Test for salt\n        let salt: WordArray | undefined;\n        if(ciphertext.words[0] === 0x53616c74 && ciphertext.words[1] === 0x65645f5f) {\n            // Extract salt\n            salt = new WordArray(ciphertext.words.slice(2, 4));\n\n            // Remove salt from ciphertext\n            ciphertext.words.splice(0, 4);\n            ciphertext.sigBytes -= 16;\n        }\n\n        return new CipherParams({ ciphertext: ciphertext, salt: salt });\n    }\n}\n\n// type guard for OpenSSL formatter (to ensure it has the required static methods)\nconst _: Formatter = OpenSSL;","import { WordArray } from './WordArray';\nimport { Cipher } from './Cipher';\nimport { BufferedBlockAlgorithmConfig } from './BufferedBlockAlgorithmConfig';\nimport { OpenSSL } from '../format/OpenSSL';\nimport { CipherParams } from './CipherParams';\nimport { Formatter } from '../format/Formatter';\n\nexport class SerializableCipher {\n    public static cfg: BufferedBlockAlgorithmConfig = {\n        blockSize: 4,\n        iv: new WordArray([]),\n        format: OpenSSL\n    };\n\n    /**\n     * Encrypts a message.\n     *\n     * @param cipher The cipher algorithm to use.\n     * @param message The message to encrypt.\n     * @param key The key.\n     * @param cfg (Optional) The configuration options to use for this operation.\n     *\n     * @return A cipher params object.\n     *\n     * @example\n     *\n     *     let ciphertextParams = SerializableCipher.encrypt(CryptoJS.algo.AES, message, key);\n     *     let ciphertextParams = SerializableCipher.encrypt(CryptoJS.algo.AES, message, key, { iv: iv });\n     *     let ciphertextParams = SerializableCipher.encrypt(CryptoJS.algo.AES, message, key, {\n     *       iv: iv,\n     *       format: CryptoJS.format.OpenSSL\n     *     });\n     */\n    public static encrypt(\n        cipher: typeof Cipher,\n        message: WordArray | string,\n        key: WordArray,\n        cfg?: BufferedBlockAlgorithmConfig\n    ): CipherParams {\n        // Apply config defaults\n        const config = Object.assign({}, this.cfg, cfg);\n\n        // Encrypt\n        const encryptor = cipher.createEncryptor(key, config);\n        const ciphertext = encryptor.finalize(message);\n\n        // Create and return serializable cipher params\n        return new CipherParams({\n            ciphertext: ciphertext,\n            key: key,\n            iv: encryptor.cfg.iv,\n            algorithm: cipher,\n            mode: (<any> encryptor.cfg).mode,\n            padding: (<any> encryptor.cfg).padding,\n            blockSize: encryptor.cfg.blockSize,\n            formatter: config.format\n        });\n    }\n\n    /**\n     * Decrypts serialized ciphertext.\n     *\n     * @param cipher The cipher algorithm to use.\n     * @param ciphertext The ciphertext to decrypt.\n     * @param key The key.\n     * @param cfg (Optional) The configuration options to use for this operation.\n     *\n     * @return The plaintext.\n     *\n     * @example\n     *\n     *     let plaintext = SerializableCipher.decrypt(\n     *         AESAlgorithm,\n     *         formattedCiphertext,\n     *         key, {\n     *             iv: iv,\n     *             format: CryptoJS.format.OpenSSL\n     *         }\n     *     );\n     *\n     *     let plaintext = SerializableCipher.decrypt(\n     *         AESAlgorithm,\n     *         ciphertextParams,\n     *         key, {\n     *             iv: iv,\n     *             format: CryptoJS.format.OpenSSL\n     *         }\n     *     );\n     */\n    public static decrypt(\n        cipher: typeof Cipher,\n        ciphertext: CipherParams | string,\n        key: WordArray,\n        optionalCfg?: BufferedBlockAlgorithmConfig\n    ): WordArray {\n        // Apply config defaults\n        const cfg = Object.assign({}, this.cfg, optionalCfg);\n\n        if(!cfg.format) {\n            throw new Error('could not determine format');\n        }\n\n        // Convert string to CipherParams\n        ciphertext = this._parse(ciphertext, cfg.format);\n\n        if(!ciphertext.ciphertext) {\n            throw new Error('could not determine ciphertext');\n        }\n\n        // Decrypt\n        const plaintext = cipher.createDecryptor(key, cfg).finalize(ciphertext.ciphertext);\n\n        return plaintext;\n    }\n\n    /**\n     * Converts serialized ciphertext to CipherParams,\n     * else assumed CipherParams already and returns ciphertext unchanged.\n     *\n     * @param ciphertext The ciphertext.\n     * @param format The formatting strategy to use to parse serialized ciphertext.\n     *\n     * @return The unserialized ciphertext.\n     *\n     * @example\n     *\n     *     var ciphertextParams = CryptoJS.lib.SerializableCipher._parse(ciphertextStringOrParams, format);\n     */\n    public static _parse(ciphertext: CipherParams | string, format: Formatter): CipherParams {\n        if(typeof ciphertext === 'string') {\n            return format.parse(ciphertext);\n        } else {\n            return ciphertext;\n        }\n    }\n}","import { BufferedBlockAlgorithm } from '../lib/BufferedBlockAlgorithm';\nimport { BufferedBlockAlgorithmConfig } from '../lib/BufferedBlockAlgorithmConfig';\nimport { WordArray } from '../lib/WordArray';\n\nexport abstract class Hasher extends BufferedBlockAlgorithm {\n    /**\n     * Creates a shortcut function to a hasher's object interface.\n     *\n     * @param hasher The hasher to create a helper for.\n     *\n     * @return The shortcut function.\n     *\n     * @example\n     *\n     *     let SHA256 = Hasher._createHelper(SHA256);\n     */\n    public static _createHelper(hasher: typeof Hasher) {\n        function helper(message: WordArray | string, cfg?: BufferedBlockAlgorithmConfig) {\n            const hasherClass: any = hasher;\n\n            const hasherInstance: any = new hasherClass(cfg);\n\n            return hasherInstance.finalize(message);\n        }\n\n        return helper;\n    }\n\n    /**\n     * Initializes a newly created hasher.\n     *\n     * @param cfg (Optional) The configuration options to use for this hash computation.\n     *\n     * @example\n     *\n     *     let hasher = CryptoJS.algo.SHA256.create();\n     */\n    public constructor(cfg?: BufferedBlockAlgorithmConfig) {\n        // Apply config defaults\n        super(Object.assign({\n            blockSize: 512 / 32\n        }, cfg));\n\n        // Set initial values\n        this.reset();\n    }\n\n    /**\n     * Updates this hasher with a message.\n     *\n     * @param messageUpdate The message to append.\n     *\n     * @return This hasher.\n     *\n     * @example\n     *\n     *     hasher.update('message');\n     *     hasher.update(wordArray);\n     */\n    update(messageUpdate: WordArray | string): Hasher {\n        // Append\n        this._append(messageUpdate);\n\n        // Update the hash\n        this._process();\n\n        // Chainable\n        return this;\n    }\n\n    /**\n     * Finalizes the hash computation.\n     * Note that the finalize operation is effectively a destructive, read-once operation.\n     *\n     * @param messageUpdate (Optional) A final message update.\n     *\n     * @return The hash.\n     *\n     * @example\n     *\n     *     let hash = hasher.finalize();\n     *     let hash = hasher.finalize('message');\n     *     let hash = hasher.finalize(wordArray);\n     */\n    public finalize(messageUpdate: WordArray | string): WordArray {\n        // Final message update\n        if(messageUpdate) {\n            this._append(messageUpdate);\n        }\n\n        // Perform concrete-hasher logic\n        const hash = this._doFinalize();\n\n        return hash;\n    }\n\n    public abstract _doFinalize(): WordArray;\n}","import { Hasher } from '../lib/Hasher';\nimport { WordArray } from '../lib/WordArray';\n\n// Constants table\nconst T: Array<number> = [];\n\n// Compute constants\nfor(let i = 0; i < 64; i++) {\n    T[i] = (Math.abs(Math.sin(i + 1)) * 0x100000000) | 0;\n}\n\nexport class MD5 extends Hasher {\n    public _hash!: WordArray;\n\n    public static FF(a: number, b: number, c: number, d: number, x: number, s: number, t: number): number {\n        const n = a + ((b & c) | (~b & d)) + x + t;\n        return ((n << s) | (n >>> (32 - s))) + b;\n    }\n\n    public static GG(a: number, b: number, c: number, d: number, x: number, s: number, t: number): number {\n        const n = a + ((b & d) | (c & ~d)) + x + t;\n        return ((n << s) | (n >>> (32 - s))) + b;\n    }\n\n    public static HH(a: number, b: number, c: number, d: number, x: number, s: number, t: number): number {\n        const n = a + (b ^ c ^ d) + x + t;\n        return ((n << s) | (n >>> (32 - s))) + b;\n    }\n\n    public static II(a: number, b: number, c: number, d: number, x: number, s: number, t: number): number {\n        const n = a + (c ^ (b | ~d)) + x + t;\n        return ((n << s) | (n >>> (32 - s))) + b;\n    }\n\n    public reset() {\n        // reset core values\n        super.reset();\n\n        this._hash = new WordArray([\n            0x67452301, 0xefcdab89,\n            0x98badcfe, 0x10325476\n        ]);\n    }\n\n    public _doProcessBlock(M: Array<number>, offset: number) {\n        // Swap endian\n        for(let i = 0; i < 16; i++) {\n            // Shortcuts\n            const offset_i = offset + i;\n            const M_offset_i = M[offset_i];\n\n            M[offset_i] = (\n                (((M_offset_i << 8)  | (M_offset_i >>> 24)) & 0x00ff00ff) |\n                (((M_offset_i << 24) | (M_offset_i >>> 8))  & 0xff00ff00)\n            );\n        }\n\n        // Shortcuts\n        const H = this._hash.words;\n\n        const M_offset_0  = M[offset + 0];\n        const M_offset_1  = M[offset + 1];\n        const M_offset_2  = M[offset + 2];\n        const M_offset_3  = M[offset + 3];\n        const M_offset_4  = M[offset + 4];\n        const M_offset_5  = M[offset + 5];\n        const M_offset_6  = M[offset + 6];\n        const M_offset_7  = M[offset + 7];\n        const M_offset_8  = M[offset + 8];\n        const M_offset_9  = M[offset + 9];\n        const M_offset_10 = M[offset + 10];\n        const M_offset_11 = M[offset + 11];\n        const M_offset_12 = M[offset + 12];\n        const M_offset_13 = M[offset + 13];\n        const M_offset_14 = M[offset + 14];\n        const M_offset_15 = M[offset + 15];\n\n        // Working variables\n        let a = H[0];\n        let b = H[1];\n        let c = H[2];\n        let d = H[3];\n\n        // Computation\n        a = MD5.FF(a, b, c, d, M_offset_0,  7,  T[0]);\n        d = MD5.FF(d, a, b, c, M_offset_1,  12, T[1]);\n        c = MD5.FF(c, d, a, b, M_offset_2,  17, T[2]);\n        b = MD5.FF(b, c, d, a, M_offset_3,  22, T[3]);\n        a = MD5.FF(a, b, c, d, M_offset_4,  7,  T[4]);\n        d = MD5.FF(d, a, b, c, M_offset_5,  12, T[5]);\n        c = MD5.FF(c, d, a, b, M_offset_6,  17, T[6]);\n        b = MD5.FF(b, c, d, a, M_offset_7,  22, T[7]);\n        a = MD5.FF(a, b, c, d, M_offset_8,  7,  T[8]);\n        d = MD5.FF(d, a, b, c, M_offset_9,  12, T[9]);\n        c = MD5.FF(c, d, a, b, M_offset_10, 17, T[10]);\n        b = MD5.FF(b, c, d, a, M_offset_11, 22, T[11]);\n        a = MD5.FF(a, b, c, d, M_offset_12, 7,  T[12]);\n        d = MD5.FF(d, a, b, c, M_offset_13, 12, T[13]);\n        c = MD5.FF(c, d, a, b, M_offset_14, 17, T[14]);\n        b = MD5.FF(b, c, d, a, M_offset_15, 22, T[15]);\n\n        a = MD5.GG(a, b, c, d, M_offset_1,  5,  T[16]);\n        d = MD5.GG(d, a, b, c, M_offset_6,  9,  T[17]);\n        c = MD5.GG(c, d, a, b, M_offset_11, 14, T[18]);\n        b = MD5.GG(b, c, d, a, M_offset_0,  20, T[19]);\n        a = MD5.GG(a, b, c, d, M_offset_5,  5,  T[20]);\n        d = MD5.GG(d, a, b, c, M_offset_10, 9,  T[21]);\n        c = MD5.GG(c, d, a, b, M_offset_15, 14, T[22]);\n        b = MD5.GG(b, c, d, a, M_offset_4,  20, T[23]);\n        a = MD5.GG(a, b, c, d, M_offset_9,  5,  T[24]);\n        d = MD5.GG(d, a, b, c, M_offset_14, 9,  T[25]);\n        c = MD5.GG(c, d, a, b, M_offset_3,  14, T[26]);\n        b = MD5.GG(b, c, d, a, M_offset_8,  20, T[27]);\n        a = MD5.GG(a, b, c, d, M_offset_13, 5,  T[28]);\n        d = MD5.GG(d, a, b, c, M_offset_2,  9,  T[29]);\n        c = MD5.GG(c, d, a, b, M_offset_7,  14, T[30]);\n        b = MD5.GG(b, c, d, a, M_offset_12, 20, T[31]);\n\n        a = MD5.HH(a, b, c, d, M_offset_5,  4,  T[32]);\n        d = MD5.HH(d, a, b, c, M_offset_8,  11, T[33]);\n        c = MD5.HH(c, d, a, b, M_offset_11, 16, T[34]);\n        b = MD5.HH(b, c, d, a, M_offset_14, 23, T[35]);\n        a = MD5.HH(a, b, c, d, M_offset_1,  4,  T[36]);\n        d = MD5.HH(d, a, b, c, M_offset_4,  11, T[37]);\n        c = MD5.HH(c, d, a, b, M_offset_7,  16, T[38]);\n        b = MD5.HH(b, c, d, a, M_offset_10, 23, T[39]);\n        a = MD5.HH(a, b, c, d, M_offset_13, 4,  T[40]);\n        d = MD5.HH(d, a, b, c, M_offset_0,  11, T[41]);\n        c = MD5.HH(c, d, a, b, M_offset_3,  16, T[42]);\n        b = MD5.HH(b, c, d, a, M_offset_6,  23, T[43]);\n        a = MD5.HH(a, b, c, d, M_offset_9,  4,  T[44]);\n        d = MD5.HH(d, a, b, c, M_offset_12, 11, T[45]);\n        c = MD5.HH(c, d, a, b, M_offset_15, 16, T[46]);\n        b = MD5.HH(b, c, d, a, M_offset_2,  23, T[47]);\n\n        a = MD5.II(a, b, c, d, M_offset_0,  6,  T[48]);\n        d = MD5.II(d, a, b, c, M_offset_7,  10, T[49]);\n        c = MD5.II(c, d, a, b, M_offset_14, 15, T[50]);\n        b = MD5.II(b, c, d, a, M_offset_5,  21, T[51]);\n        a = MD5.II(a, b, c, d, M_offset_12, 6,  T[52]);\n        d = MD5.II(d, a, b, c, M_offset_3,  10, T[53]);\n        c = MD5.II(c, d, a, b, M_offset_10, 15, T[54]);\n        b = MD5.II(b, c, d, a, M_offset_1,  21, T[55]);\n        a = MD5.II(a, b, c, d, M_offset_8,  6,  T[56]);\n        d = MD5.II(d, a, b, c, M_offset_15, 10, T[57]);\n        c = MD5.II(c, d, a, b, M_offset_6,  15, T[58]);\n        b = MD5.II(b, c, d, a, M_offset_13, 21, T[59]);\n        a = MD5.II(a, b, c, d, M_offset_4,  6,  T[60]);\n        d = MD5.II(d, a, b, c, M_offset_11, 10, T[61]);\n        c = MD5.II(c, d, a, b, M_offset_2,  15, T[62]);\n        b = MD5.II(b, c, d, a, M_offset_9,  21, T[63]);\n\n        // Intermediate hash value\n        H[0] = (H[0] + a) | 0;\n        H[1] = (H[1] + b) | 0;\n        H[2] = (H[2] + c) | 0;\n        H[3] = (H[3] + d) | 0;\n    }\n\n    public _doFinalize(): WordArray {\n        // Shortcuts\n        const data = this._data;\n        const dataWords = data.words;\n\n        const nBitsTotal = this._nDataBytes * 8;\n        const nBitsLeft = data.sigBytes * 8;\n\n        // Add padding\n        dataWords[nBitsLeft >>> 5] |= 0x80 << (24 - nBitsLeft % 32);\n\n        const nBitsTotalH = Math.floor(nBitsTotal / 0x100000000);\n        const nBitsTotalL = nBitsTotal;\n        dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 15] = (\n            (((nBitsTotalH << 8)  | (nBitsTotalH >>> 24)) & 0x00ff00ff) |\n            (((nBitsTotalH << 24) | (nBitsTotalH >>> 8))  & 0xff00ff00)\n        );\n        dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 14] = (\n            (((nBitsTotalL << 8)  | (nBitsTotalL >>> 24)) & 0x00ff00ff) |\n            (((nBitsTotalL << 24) | (nBitsTotalL >>> 8))  & 0xff00ff00)\n        );\n\n        data.sigBytes = (dataWords.length + 1) * 4;\n\n        // Hash final blocks\n        this._process();\n\n        // Shortcuts\n        const hash = this._hash;\n        const H = hash.words;\n\n        // Swap endian\n        for (let i = 0; i < 4; i++) {\n            // Shortcut\n            const H_i = H[i];\n\n            H[i] = (((H_i << 8)  | (H_i >>> 24)) & 0x00ff00ff) |\n                   (((H_i << 24) | (H_i >>> 8))  & 0xff00ff00);\n        }\n\n        // Return final computed hash\n        return hash;\n    }\n}","import { WordArray } from '../lib/WordArray';\nimport { Hasher } from '../lib/Hasher';\nimport { MD5 } from '../algo/MD5';\n\nexport interface OptionalEvpKDFConfig {\n    keySize?: number;\n    hasher?: typeof Hasher;\n    iterations?: number;\n}\n\nexport interface EvpKDFConfig extends OptionalEvpKDFConfig {\n    keySize: number;\n    hasher: typeof Hasher;\n    iterations: number;\n}\n\nexport class EvpKDF {\n    public cfg: EvpKDFConfig;\n\n    /**\n     * Initializes a newly created key derivation function.\n     *\n     * @param cfg (Optional) The configuration options to use for the derivation.\n     *\n     * @example\n     *\n     *     let kdf = EvpKDF.create();\n     *     let kdf = EvpKDF.create({ keySize: 8 });\n     *     let kdf = EvpKDF.create({ keySize: 8, iterations: 1000 });\n     */\n    constructor(cfg?: OptionalEvpKDFConfig) {\n        this.cfg = Object.assign({\n            keySize: 128 / 32,\n            hasher: MD5,\n            iterations: 1\n        }, cfg);\n    }\n\n    /**\n     * Derives a key from a password.\n     *\n     * @param password The password.\n     * @param salt A salt.\n     *\n     * @return The derived key.\n     *\n     * @example\n     *\n     *     let key = kdf.compute(password, salt);\n     */\n    compute(password: WordArray | string, salt: WordArray | string): WordArray {\n        // Init hasher\n        const hasher = new (<any> this.cfg.hasher)();\n\n        // Initial values\n        const derivedKey = new WordArray();\n\n        // Generate key\n        let block;\n        while(derivedKey.words.length < this.cfg.keySize) {\n            if(block) {\n                hasher.update(block);\n            }\n            block = hasher.update(password).finalize(salt);\n            hasher.reset();\n\n            // Iterations\n            for(let i = 1; i < this.cfg.iterations; i++) {\n                block = hasher.finalize(block);\n                hasher.reset();\n            }\n\n            derivedKey.concat(block);\n        }\n        derivedKey.sigBytes = this.cfg.keySize * 4;\n\n        return derivedKey;\n    }\n}","import { KDF } from './KDF';\nimport { WordArray } from '../lib/WordArray';\nimport { CipherParams } from '../lib/CipherParams';\nimport { EvpKDF } from '../algo/EvpKDF';\n\nexport class OpenSSLKdf {\n    /**\n     * Derives a key and IV from a password.\n     *\n     * @param password The password to derive from.\n     * @param keySize The size in words of the key to generate.\n     * @param ivSize The size in words of the IV to generate.\n     * @param salt (Optional) A 64-bit salt to use. If omitted, a salt will be generated randomly.\n     *\n     * @return A cipher params object with the key, IV, and salt.\n     *\n     * @example\n     *\n     *     let derivedParams = OpenSSL.execute('Password', 256/32, 128/32);\n     *     let derivedParams = OpenSSL.execute('Password', 256/32, 128/32, 'saltsalt');\n     */\n    public static execute(password: string, keySize: number, ivSize: number, salt?: WordArray | string): CipherParams {\n        // Generate random salt\n        if(!salt) {\n            salt = WordArray.random(64 / 8);\n        }\n\n        // Derive key and IV\n        const key = (new EvpKDF({ keySize: keySize + ivSize })).compute(password, salt);\n\n        // Separate key and IV\n        const iv = new WordArray(key.words.slice(keySize), ivSize * 4);\n        key.sigBytes = keySize * 4;\n\n        // Return params\n        return new CipherParams({ key: key, iv: iv, salt: salt });\n    }\n}\n\nconst _: KDF = OpenSSLKdf;","import { SerializableCipher } from './SerializableCipher';\nimport { WordArray } from './WordArray';\nimport { Cipher } from './Cipher';\nimport { BufferedBlockAlgorithmConfig } from './BufferedBlockAlgorithmConfig';\nimport { OpenSSL } from '../format/OpenSSL';\nimport { CipherParams } from './CipherParams';\nimport { Formatter } from '../format/Formatter';\nimport { OpenSSLKdf } from '../kdf/OpenSSLKdf';\n\nexport class PasswordBasedCipher {\n    public static cfg: BufferedBlockAlgorithmConfig = {\n        blockSize: 4,\n        iv: new WordArray([]),\n        format: OpenSSL,\n        kdf: OpenSSLKdf\n    };\n\n    /**\n     * Encrypts a message using a password.\n     *\n     * @param cipher The cipher algorithm to use.\n     * @param message The message to encrypt.\n     * @param password The password.\n     * @param cfg (Optional) The configuration options to use for this operation.\n     *\n     * @return A cipher params object.\n     *\n     * @example\n     *\n     *     var ciphertextParams = CryptoJS.lib.PasswordBasedCipher.encrypt(AES, message, 'password');\n     *     var ciphertextParams = CryptoJS.lib.PasswordBasedCipher.encrypt(AES, message, 'password', { format: OpenSSL });\n     */\n    public static encrypt(\n        cipher: typeof Cipher,\n        message: WordArray | string,\n        password: string,\n        cfg?: BufferedBlockAlgorithmConfig\n    ): CipherParams {\n        // Apply config defaults\n        const config = Object.assign({}, this.cfg, cfg);\n\n        // Check if we have a kdf\n        if(config.kdf === undefined) {\n            throw new Error('missing kdf in config');\n        }\n\n        // Derive key and other params\n        const derivedParams: CipherParams = config.kdf.execute(password, cipher.keySize, cipher.ivSize);\n\n        // Check if we have an IV\n        if(derivedParams.iv !== undefined) {\n            // Add IV to config\n            config.iv = derivedParams.iv;\n        }\n\n        // Encrypt\n        const ciphertext: CipherParams = SerializableCipher.encrypt.call(this, cipher, message, derivedParams.key, config);\n\n        // Mix in derived params\n        return ciphertext.extend(derivedParams);\n    }\n\n    /**\n     * Decrypts serialized ciphertext using a password.\n     *\n     * @param cipher The cipher algorithm to use.\n     * @param ciphertext The ciphertext to decrypt.\n     * @param password The password.\n     * @param cfg (Optional) The configuration options to use for this operation.\n     *\n     * @return The plaintext.\n     *\n     * @example\n     *\n     *     var plaintext = PasswordBasedCipher.decrypt(AES, formattedCiphertext, 'password', { format: OpenSSL });\n     *     var plaintext = PasswordBasedCipher.decrypt(AES, ciphertextParams, 'password', { format: OpenSSL });\n     */\n    public static decrypt(\n        cipher: typeof Cipher,\n        ciphertext: CipherParams | string,\n        password: string,\n        cfg?: BufferedBlockAlgorithmConfig\n    ): WordArray {\n        // Apply config defaults\n        const config = Object.assign({}, this.cfg, cfg);\n\n        // Check if we have a kdf\n        if(config.format === undefined) {\n            throw new Error('missing format in config');\n        }\n\n        // Convert string to CipherParams\n        ciphertext = this._parse(ciphertext, config.format);\n\n        // Check if we have a kdf\n        if(config.kdf === undefined) {\n            throw new Error('the key derivation function must be set');\n        }\n\n        // Derive key and other params\n        const derivedParams = config.kdf.execute(password, cipher.keySize, cipher.ivSize, ciphertext.salt);\n\n        // Check if we have an IV\n        if(derivedParams.iv !== undefined) {\n            // Add IV to config\n            config.iv = derivedParams.iv;\n        }\n\n        // Decrypt\n        const plaintext = SerializableCipher.decrypt.call(this, cipher, ciphertext, derivedParams.key, config);\n\n        return plaintext;\n    }\n\n    /**\n     * Converts serialized ciphertext to CipherParams,\n     * else assumed CipherParams already and returns ciphertext unchanged.\n     *\n     * @param ciphertext The ciphertext.\n     * @param format The formatting strategy to use to parse serialized ciphertext.\n     *\n     * @return The unserialized ciphertext.\n     *\n     * @example\n     *\n     *     var ciphertextParams = CryptoJS.lib.SerializableCipher._parse(ciphertextStringOrParams, format);\n     */\n    public static _parse(ciphertext: CipherParams | string, format: Formatter): CipherParams {\n        if(typeof ciphertext === 'string') {\n            return format.parse(ciphertext);\n        } else {\n            return ciphertext;\n        }\n    }\n}","import { BufferedBlockAlgorithm } from './BufferedBlockAlgorithm';\nimport { WordArray } from './WordArray';\nimport { SerializableCipher } from './SerializableCipher';\nimport { PasswordBasedCipher } from './PasswordBasedCipher';\nimport { BufferedBlockAlgorithmConfig } from './BufferedBlockAlgorithmConfig';\nimport { CipherParams } from './CipherParams';\n\nexport abstract class Cipher extends BufferedBlockAlgorithm {\n    /**\n     * A constant representing encryption mode.\n     */\n    public static _ENC_XFORM_MODE = 1;\n\n    /**\n     * A constant representing decryption mode.\n     */\n    public static _DEC_XFORM_MODE = 2;\n\n    /**\n     * This cipher's key size. Default: 4 (128 bits / 32 Bits)\n     */\n    public static keySize = 4;\n\n    /**\n     * This cipher's IV size. Default: 4 (128 bits / 32 Bits)\n     */\n    public static ivSize = 4;\n\n    /**\n     * Either the encryption or decryption transformation mode constant.\n     */\n    public _xformMode: number;\n\n    /**\n     * The key.\n     */\n    public _key: WordArray;\n\n    /**\n     * Creates this cipher in encryption mode.\n     *\n     * @param key The key.\n     * @param cfg (Optional) The configuration options to use for this operation.\n     *\n     * @return A cipher instance.\n     *\n     * @example\n     *\n     *     let cipher = AES.createEncryptor(keyWordArray, { iv: ivWordArray });\n     */\n    public static createEncryptor(key: WordArray, cfg?: BufferedBlockAlgorithmConfig): Cipher {\n        // workaround for typescript not being able to create a abstract creator function directly\n        const thisClass: any = this;\n\n        return new thisClass(this._ENC_XFORM_MODE, key, cfg);\n    }\n\n    /**\n     * Creates this cipher in decryption mode.\n     *\n     * @param key The key.\n     * @param cfg (Optional) The configuration options to use for this operation.\n     *\n     * @return A cipher instance.\n     *\n     * @example\n     *\n     *     let cipher = AES.createDecryptor(keyWordArray, { iv: ivWordArray });\n     */\n    public static createDecryptor(key: WordArray, cfg?: BufferedBlockAlgorithmConfig): Cipher {\n        // workaround for typescript not being able to create a abstract creator function directly\n        const thisClass: any = this;\n\n        return new thisClass(this._DEC_XFORM_MODE, key, cfg);\n    }\n\n    /**\n     * Creates shortcut functions to a cipher's object interface.\n     *\n     * @param cipher The cipher to create a helper for.\n     *\n     * @return An object with encrypt and decrypt shortcut functions.\n     *\n     * @example\n     *\n     *     let AES = Cipher._createHelper(AESAlgorithm);\n     */\n    public static _createHelper(cipher: typeof Cipher) {\n        function encrypt(message: WordArray | string, key: WordArray | string, cfg?: BufferedBlockAlgorithmConfig) {\n            if(typeof key === 'string') {\n                return PasswordBasedCipher.encrypt(cipher, message, key, cfg);\n            } else {\n                return SerializableCipher.encrypt(cipher, message, key, cfg);\n            }\n        }\n\n        function decrypt(ciphertext: CipherParams | string, key: WordArray | string, cfg?: BufferedBlockAlgorithmConfig) {\n            if(typeof key === 'string') {\n                return PasswordBasedCipher.decrypt(cipher, ciphertext, key, cfg);\n            } else {\n                return SerializableCipher.decrypt(cipher, ciphertext, key, cfg);\n            }\n        }\n\n        return {\n            encrypt: encrypt,\n            decrypt: decrypt\n        };\n    }\n\n    /**\n     * Initializes a newly created cipher.\n     *\n     * @param xformMode Either the encryption or decryption transormation mode constant.\n     * @param key The key.\n     * @param cfg (Optional) The configuration options to use for this operation.\n     *\n     * @example\n     *\n     *     let cipher = AES.create(AES._ENC_XFORM_MODE, keyWordArray, { iv: ivWordArray });\n     */\n    public constructor(xformMode: number, key: WordArray, cfg?: BufferedBlockAlgorithmConfig) {\n        // Apply config defaults\n        super(Object.assign({\n            blockSize: 1\n        }, cfg));\n\n        // Store transform mode and key\n        this._xformMode = xformMode;\n        this._key = key;\n\n        // Set initial values\n        this.reset();\n    }\n\n    /**\n     * Adds data to be encrypted or decrypted.\n     *\n     * @param dataUpdate The data to encrypt or decrypt.\n     *\n     * @return The data after processing.\n     *\n     * @example\n     *\n     *     let encrypted = cipher.process('data');\n     *     let encrypted = cipher.process(wordArray);\n     */\n    public process(dataUpdate: WordArray | string): WordArray {\n        // Append\n        this._append(dataUpdate);\n\n        // Process available blocks\n        return this._process();\n    }\n\n    /**\n     * Finalizes the encryption or decryption process.\n     * Note that the finalize operation is effectively a destructive, read-once operation.\n     *\n     * @param dataUpdate The final data to encrypt or decrypt.\n     *\n     * @return The data after final processing.\n     *\n     * @example\n     *\n     *     var encrypted = cipher.finalize();\n     *     var encrypted = cipher.finalize('data');\n     *     var encrypted = cipher.finalize(wordArray);\n     */\n    public finalize(dataUpdate?: WordArray | string): WordArray {\n        // Final data update\n        if(dataUpdate) {\n            this._append(dataUpdate);\n        }\n\n        // Perform concrete-cipher logic\n        const finalProcessedData = this._doFinalize();\n\n        return finalProcessedData;\n    }\n\n    /**\n     * Cipher specific finalize function explicitly implemented in the derived class.\n     */\n    public abstract _doFinalize(): WordArray;\n}","import { BlockCipher } from '../lib/BlockCipher';\nimport { BlockCipherMode } from './BlockCipherMode';\n\nexport abstract class BlockCipherModeAlgorithm {\n    public _cipher!: BlockCipher;\n\n    public _iv: Array<number> | undefined;\n\n    public __creator: ((cipher: BlockCipher, iv: number[]) => BlockCipherMode) | undefined;\n\n    public constructor(cipher: BlockCipher, iv: Array<number>) {\n        this.init(cipher, iv);\n    }\n\n    /**\n     * Initializes a newly created mode.\n     *\n     * @param cipher A block cipher instance.\n     * @param iv The IV words.\n     *\n     * @example\n     *\n     *     var mode = CBC.Encryptor.create(cipher, iv.words);\n     */\n    public init(cipher: BlockCipher, iv?: Array<number>) {\n        this._cipher = cipher;\n        this._iv = iv;\n    }\n\n    public abstract processBlock(words: Array<number>, offset: number): void;\n}","import { BlockCipher } from '../lib/BlockCipher';\nimport { BlockCipherModeAlgorithm } from './BlockCipherModeAlgorithm';\n\nexport abstract class BlockCipherMode {\n    public static Encryptor: any = BlockCipherModeAlgorithm;\n\n    public static Decryptor: any = BlockCipherModeAlgorithm;\n\n    /**\n     * Creates this mode for encryption.\n     *\n     * @param cipher A block cipher instance.\n     * @param iv The IV words.\n     *\n     * @example\n     *\n     *     var mode = CBC.createEncryptor(cipher, iv.words);\n     */\n    public static createEncryptor(cipher: BlockCipher, iv: Array<number>): BlockCipherModeAlgorithm {\n        // workaround for typescript not being able to create a abstract creator function directly\n        const encryptorClass: any = this.Encryptor;\n\n        return new encryptorClass(cipher, iv);\n    }\n\n    /**\n     * Creates this mode for decryption.\n     *\n     * @param cipher A block cipher instance.\n     * @param iv The IV words.\n     *\n     * @example\n     *\n     *     var mode = CBC.createDecryptor(cipher, iv.words);\n     */\n    public static createDecryptor(cipher: BlockCipher, iv: Array<number>): BlockCipherModeAlgorithm {\n        // workaround for typescript not being able to create a abstract creator function directly\n        const decryptorClass: any = this.Decryptor;\n\n        return new decryptorClass(cipher, iv);\n    }\n}","import { BlockCipherModeAlgorithm } from './BlockCipherModeAlgorithm';\n\nexport class CBCEncryptor extends BlockCipherModeAlgorithm {\n    public _prevBlock: Array<number> | undefined;\n\n    /**\n     * Processes the data block at offset.\n     *\n     * @param words The data words to operate on.\n     * @param offset The offset where the block starts.\n     *\n     * @example\n     *\n     *     mode.processBlock(data.words, offset);\n     */\n    public processBlock(words: Array<number>, offset: number) {\n        // Check if we have a blockSize\n        if(this._cipher.cfg.blockSize === undefined) {\n            throw new Error('missing blockSize in cipher config');\n        }\n\n        // XOR and encrypt\n        this.xorBlock(words, offset, this._cipher.cfg.blockSize);\n        this._cipher.encryptBlock(words, offset);\n\n        // Remember this block to use with next block\n        this._prevBlock = words.slice(offset, offset + this._cipher.cfg.blockSize);\n    }\n\n    public xorBlock(words: Array<number>, offset: number, blockSize: number) {\n        // Choose mixing block\n        let block;\n        if(this._iv) {\n            block = this._iv;\n\n            // Remove IV for subsequent blocks\n            this._iv = undefined;\n        } else {\n            block = this._prevBlock;\n        }\n\n        // block should never be undefined but we want to make typescript happy\n        if(block !== undefined) {\n            // XOR blocks\n            for(let i = 0; i < blockSize; i++) {\n                words[offset + i] ^= block[i];\n            }\n        }\n    }\n}","import { BlockCipherModeAlgorithm } from './BlockCipherModeAlgorithm';\n\nexport class CBCDecryptor extends BlockCipherModeAlgorithm {\n    public _prevBlock: Array<number> | undefined;\n\n    /**\n     * Processes the data block at offset.\n     *\n     * @param words The data words to operate on.\n     * @param offset The offset where the block starts.\n     *\n     * @example\n     *\n     *     mode.processBlock(data.words, offset);\n     */\n    public processBlock(words: Array<number>, offset: number) {\n        // Check if we have a blockSize\n        if(this._cipher.cfg.blockSize === undefined) {\n            throw new Error('missing blockSize in cipher config');\n        }\n\n        // Remember this block to use with next block\n        const thisBlock = words.slice(offset, offset + this._cipher.cfg.blockSize);\n\n        // Decrypt and XOR\n        this._cipher.decryptBlock(words, offset);\n        this.xorBlock(words, offset, this._cipher.cfg.blockSize);\n\n        // This block becomes the previous block\n        this._prevBlock = thisBlock;\n    }\n\n    public xorBlock(words: Array<number>, offset: number, blockSize: number) {\n        // Choose mixing block\n        let block;\n        if(this._iv) {\n            block = this._iv;\n\n            // Remove IV for subsequent blocks\n            this._iv = undefined;\n        } else {\n            block = this._prevBlock;\n        }\n\n        // block should never be undefined but we want to make typescript happy\n        if(block !== undefined) {\n            // XOR blocks\n            for(let i = 0; i < blockSize; i++) {\n                words[offset + i] ^= block[i];\n            }\n        }\n    }\n}","import { BlockCipherMode } from './BlockCipherMode';\nimport { CBCEncryptor } from './CBCEncryptor';\nimport { CBCDecryptor } from './CBCDecryptor';\n\n/**\n * Cipher Block Chaining mode.\n */\nexport abstract class CBC extends BlockCipherMode {\n    public static Encryptor: any = CBCEncryptor;\n\n    public static Decryptor: any = CBCDecryptor;\n}","import { WordArray } from '../lib/WordArray';\nimport { Padding } from '../pad/Padding';\n\nexport class PKCS7 {\n    /**\n     * Pads data using the algorithm defined in PKCS #5/7.\n     *\n     * @param data The data to pad.\n     * @param blockSize The multiple that the data should be padded to.\n     *\n     * @example\n     *\n     *     PKCS7.pad(wordArray, 4);\n     */\n    public static pad(data: WordArray, blockSize: number): void {\n        // Shortcut\n        const blockSizeBytes = blockSize * 4;\n\n        // Count padding bytes\n        const nPaddingBytes = blockSizeBytes - data.sigBytes % blockSizeBytes;\n\n        // Create padding word\n        const paddingWord = (nPaddingBytes << 24) | (nPaddingBytes << 16) | (nPaddingBytes << 8) | nPaddingBytes;\n\n        // Create padding\n        const paddingWords = [];\n        for (let i = 0; i < nPaddingBytes; i += 4) {\n            paddingWords.push(paddingWord);\n        }\n        const padding = new WordArray(paddingWords, nPaddingBytes);\n\n        // Add padding\n        data.concat(padding);\n    }\n\n    /**\n     * Unpads data that had been padded using the algorithm defined in PKCS #5/7.\n     *\n     * @param data The data to unpad.\n     *\n     * @example\n     *\n     *     PKCS7.unpad(wordArray);\n     */\n    public static unpad(data: WordArray): void {\n        // Get number of padding bytes from last byte\n        const nPaddingBytes = data.words[(data.sigBytes - 1) >>> 2] & 0xff;\n\n        // Remove padding\n        data.sigBytes -= nPaddingBytes;\n    }\n}\n\n// type guard for the formatter (to ensure it has the required static methods)\nconst _: Padding = PKCS7;","import { Cipher } from './Cipher';\nimport { WordArray } from './WordArray';\nimport { BufferedBlockAlgorithmConfig } from './BufferedBlockAlgorithmConfig';\nimport { BlockCipherModeAlgorithm } from '../mode/BlockCipherModeAlgorithm';\nimport { CBC } from '../mode/CBC';\nimport { PKCS7 } from '../pad/PKCS7';\n\nexport abstract class BlockCipher extends Cipher {\n    public _mode!: BlockCipherModeAlgorithm;\n\n    constructor(xformMode: number, key: WordArray, cfg?: BufferedBlockAlgorithmConfig) {\n        super(xformMode, key, Object.assign({\n            // default: 128 / 32\n            blockSize: 4,\n            mode: CBC,\n            padding: PKCS7\n        }, cfg));\n    }\n\n    public reset() {\n        // Reset cipher\n        super.reset();\n\n        // Check if we have a blockSize\n        if(this.cfg.mode === undefined) {\n            throw new Error('missing mode in config');\n        }\n\n        // Reset block mode\n        let modeCreator;\n        if (this._xformMode === (<typeof BlockCipher> this.constructor)._ENC_XFORM_MODE) {\n            modeCreator = this.cfg.mode.createEncryptor;\n        } else /* if (this._xformMode == this._DEC_XFORM_MODE) */ {\n            modeCreator = this.cfg.mode.createDecryptor;\n            // Keep at least one block in the buffer for unpadding\n            this._minBufferSize = 1;\n        }\n\n        if (this._mode && this._mode.__creator === modeCreator) {\n            this._mode.init(this, this.cfg.iv && this.cfg.iv.words);\n        } else {\n            this._mode = modeCreator.call(this.cfg.mode, this, this.cfg.iv && this.cfg.iv.words);\n            this._mode.__creator = modeCreator;\n        }\n    }\n\n    _doProcessBlock(words: Array<number>, offset: number) {\n        this._mode.processBlock(words, offset);\n    }\n\n    _doFinalize() {\n        // Check if we have a padding strategy\n        if(this.cfg.padding === undefined) {\n            throw new Error('missing padding in config');\n        }\n\n        // Finalize\n        let finalProcessedBlocks;\n        if(this._xformMode === (<typeof BlockCipher> this.constructor)._ENC_XFORM_MODE) {\n            // Check if we have a blockSize\n            if(this.cfg.blockSize === undefined) {\n                throw new Error('missing blockSize in config');\n            }\n\n            // Pad data\n            this.cfg.padding.pad(this._data, this.cfg.blockSize);\n\n            // Process final blocks\n            finalProcessedBlocks = this._process(!!'flush');\n        } else /* if (this._xformMode == this._DEC_XFORM_MODE) */ {\n            // Process final blocks\n            finalProcessedBlocks = this._process(!!'flush');\n\n            // Unpad data\n            this.cfg.padding.unpad(finalProcessedBlocks);\n        }\n\n        return finalProcessedBlocks;\n    }\n\n    public abstract encryptBlock(M: Array<number>, offset: number): void;\n\n    public abstract decryptBlock(M: Array<number>, offset: number): void;\n}","import { BlockCipher } from '../lib/BlockCipher';\nimport { WordArray } from '../lib/WordArray';\nimport { BufferedBlockAlgorithmConfig } from '../lib/BufferedBlockAlgorithmConfig';\n\n// Define lookup tables\nconst SBOX: Array<number> = [];\nconst INV_SBOX: Array<number> = [];\nconst SUB_MIX_0: Array<number> = [];\nconst SUB_MIX_1: Array<number> = [];\nconst SUB_MIX_2: Array<number> = [];\nconst SUB_MIX_3: Array<number> = [];\nconst INV_SUB_MIX_0: Array<number> = [];\nconst INV_SUB_MIX_1: Array<number> = [];\nconst INV_SUB_MIX_2: Array<number> = [];\nconst INV_SUB_MIX_3: Array<number> = [];\n\n// Compute lookup tables\n(function () {\n    // Compute double table\n    const d = [];\n    for (let i = 0; i < 256; i++) {\n        if (i < 128) {\n            d[i] = i << 1;\n        } else {\n            d[i] = (i << 1) ^ 0x11b;\n        }\n    }\n\n    // Walk GF(2^8)\n    let x = 0;\n    let xi = 0;\n    for (let i = 0; i < 256; i++) {\n        // Compute sbox\n        let sx = xi ^ (xi << 1) ^ (xi << 2) ^ (xi << 3) ^ (xi << 4);\n        sx = (sx >>> 8) ^ (sx & 0xff) ^ 0x63;\n        SBOX[x] = sx;\n        INV_SBOX[sx] = x;\n\n        // Compute multiplication\n        const x2 = d[x];\n        const x4 = d[x2];\n        const x8 = d[x4];\n\n        // Compute sub bytes, mix columns tables\n        let t = (d[sx] * 0x101) ^ (sx * 0x1010100);\n        SUB_MIX_0[x] = (t << 24) | (t >>> 8);\n        SUB_MIX_1[x] = (t << 16) | (t >>> 16);\n        SUB_MIX_2[x] = (t << 8)  | (t >>> 24);\n        SUB_MIX_3[x] = t;\n\n        // Compute inv sub bytes, inv mix columns tables\n        t = (x8 * 0x1010101) ^ (x4 * 0x10001) ^ (x2 * 0x101) ^ (x * 0x1010100);\n        INV_SUB_MIX_0[sx] = (t << 24) | (t >>> 8);\n        INV_SUB_MIX_1[sx] = (t << 16) | (t >>> 16);\n        INV_SUB_MIX_2[sx] = (t << 8)  | (t >>> 24);\n        INV_SUB_MIX_3[sx] = t;\n\n        // Compute next counter\n        if (!x) {\n            x = xi = 1;\n        } else {\n            x = x2 ^ d[d[d[x8 ^ x2]]];\n            xi ^= d[d[xi]];\n        }\n    }\n}());\n\n// Precomputed Rcon lookup\nconst RCON = [0x00, 0x01, 0x02, 0x04, 0x08, 0x10, 0x20, 0x40, 0x80, 0x1b, 0x36];\n\nexport class AES extends BlockCipher {\n    // 256 / 32\n    public static keySize = 8;\n\n    _nRounds!: number;\n\n    _key!: WordArray;\n\n    _keyPriorReset!: WordArray;\n\n    _keySchedule!: Array<number>;\n\n    _invKeySchedule!: Array<number>;\n\n    constructor(xformMode: number, key: WordArray, cfg?: BufferedBlockAlgorithmConfig) {\n        super(xformMode, key, cfg);\n    }\n\n    reset() {\n        // reset core values\n        super.reset();\n\n        // Skip reset of nRounds has been set before and key did not change\n        if (this._nRounds && this._keyPriorReset === this._key) {\n            return;\n        }\n\n        // Shortcuts\n        const key = this._keyPriorReset = this._key;\n        const keyWords = key.words;\n        const keySize = key.sigBytes / 4;\n\n        // Compute number of rounds\n        const nRounds = this._nRounds = keySize + 6;\n\n        // Compute number of key schedule rows\n        const ksRows = (nRounds + 1) * 4;\n\n        // Compute key schedule\n        const keySchedule: Array<number> = this._keySchedule = [];\n        for (let ksRow = 0; ksRow < ksRows; ksRow++) {\n            if (ksRow < keySize) {\n                keySchedule[ksRow] = keyWords[ksRow];\n            } else {\n                let t = keySchedule[ksRow - 1];\n\n                if (!(ksRow % keySize)) {\n                    // Rot word\n                    t = (t << 8) | (t >>> 24);\n\n                    // Sub word\n                    t = (SBOX[t >>> 24] << 24) | (SBOX[(t >>> 16) & 0xff] << 16) | (SBOX[(t >>> 8) & 0xff] << 8) | SBOX[t & 0xff];\n\n                    // Mix Rcon\n                    t ^= RCON[(ksRow / keySize) | 0] << 24;\n                } else if (keySize > 6 && ksRow % keySize === 4) {\n                    // Sub word\n                    t = (SBOX[t >>> 24] << 24) | (SBOX[(t >>> 16) & 0xff] << 16) | (SBOX[(t >>> 8) & 0xff] << 8) | SBOX[t & 0xff];\n                }\n\n                keySchedule[ksRow] = keySchedule[ksRow - keySize] ^ t;\n            }\n        }\n\n        // Compute inv key schedule\n        const invKeySchedule: Array<number> = this._invKeySchedule = [];\n        for (let invKsRow = 0; invKsRow < ksRows; invKsRow++) {\n            const ksRow = ksRows - invKsRow;\n\n            let t;\n            if (invKsRow % 4) {\n                t = keySchedule[ksRow];\n            } else {\n                t = keySchedule[ksRow - 4];\n            }\n\n            if (invKsRow < 4 || ksRow <= 4) {\n                invKeySchedule[invKsRow] = t;\n            } else {\n                invKeySchedule[invKsRow] = INV_SUB_MIX_0[SBOX[t >>> 24]] ^ INV_SUB_MIX_1[SBOX[(t >>> 16) & 0xff]] ^\n                                           INV_SUB_MIX_2[SBOX[(t >>> 8) & 0xff]] ^ INV_SUB_MIX_3[SBOX[t & 0xff]];\n            }\n        }\n    }\n\n    encryptBlock(M: Array<number>, offset: number) {\n        this._doCryptBlock(M, offset, this._keySchedule, SUB_MIX_0, SUB_MIX_1, SUB_MIX_2, SUB_MIX_3, SBOX);\n    }\n\n    decryptBlock(M: Array<number>, offset: number) {\n        // Swap 2nd and 4th rows\n        let t = M[offset + 1];\n        M[offset + 1] = M[offset + 3];\n        M[offset + 3] = t;\n\n        this._doCryptBlock(M, offset, this._invKeySchedule, INV_SUB_MIX_0, INV_SUB_MIX_1, INV_SUB_MIX_2, INV_SUB_MIX_3, INV_SBOX);\n\n        // Inv swap 2nd and 4th rows\n        t = M[offset + 1];\n        M[offset + 1] = M[offset + 3];\n        M[offset + 3] = t;\n    }\n\n    _doCryptBlock(\n        M: Array<number>,\n        offset: number,\n        keySchedule: Array<number>,\n        sub_mix_0: Array<number>,\n        sub_mix_1: Array<number>,\n        sub_mix_2: Array<number>,\n        sub_mix_3: Array<number>,\n        sbox: Array<number>\n    ) {\n        // Get input, add round key\n        let s0 = M[offset]     ^ keySchedule[0];\n        let s1 = M[offset + 1] ^ keySchedule[1];\n        let s2 = M[offset + 2] ^ keySchedule[2];\n        let s3 = M[offset + 3] ^ keySchedule[3];\n\n        // Key schedule row counter\n        let ksRow = 4;\n\n        // Rounds\n        for (let round = 1; round < this._nRounds; round++) {\n            // Shift rows, sub bytes, mix columns, add round key\n            const t0 = sub_mix_0[s0 >>> 24] ^ sub_mix_1[(s1 >>> 16) & 0xff] ^ sub_mix_2[(s2 >>> 8) & 0xff] ^ sub_mix_3[s3 & 0xff] ^\n                     keySchedule[ksRow++];\n            const t1 = sub_mix_0[s1 >>> 24] ^ sub_mix_1[(s2 >>> 16) & 0xff] ^ sub_mix_2[(s3 >>> 8) & 0xff] ^ sub_mix_3[s0 & 0xff] ^\n                     keySchedule[ksRow++];\n            const t2 = sub_mix_0[s2 >>> 24] ^ sub_mix_1[(s3 >>> 16) & 0xff] ^ sub_mix_2[(s0 >>> 8) & 0xff] ^ sub_mix_3[s1 & 0xff] ^\n                     keySchedule[ksRow++];\n            const t3 = sub_mix_0[s3 >>> 24] ^ sub_mix_1[(s0 >>> 16) & 0xff] ^ sub_mix_2[(s1 >>> 8) & 0xff] ^ sub_mix_3[s2 & 0xff] ^\n                     keySchedule[ksRow++];\n\n            // Update state\n            s0 = t0;\n            s1 = t1;\n            s2 = t2;\n            s3 = t3;\n        }\n\n        // Shift rows, sub bytes, add round key\n        const t0g = ((sbox[s0 >>> 24] << 24) | (sbox[(s1 >>> 16) & 0xff] << 16) | (sbox[(s2 >>> 8) & 0xff] << 8) | sbox[s3 & 0xff]) ^\n                    keySchedule[ksRow++];\n        const t1g = ((sbox[s1 >>> 24] << 24) | (sbox[(s2 >>> 16) & 0xff] << 16) | (sbox[(s3 >>> 8) & 0xff] << 8) | sbox[s0 & 0xff]) ^\n                    keySchedule[ksRow++];\n        const t2g = ((sbox[s2 >>> 24] << 24) | (sbox[(s3 >>> 16) & 0xff] << 16) | (sbox[(s0 >>> 8) & 0xff] << 8) | sbox[s1 & 0xff]) ^\n                    keySchedule[ksRow++];\n        const t3g = ((sbox[s3 >>> 24] << 24) | (sbox[(s0 >>> 16) & 0xff] << 16) | (sbox[(s1 >>> 8) & 0xff] << 8) | sbox[s2 & 0xff]) ^\n                    keySchedule[ksRow++];\n\n        // Set output\n        M[offset]     = t0g;\n        M[offset + 1] = t1g;\n        M[offset + 2] = t2g;\n        M[offset + 3] = t3g;\n    }\n}","import { Hasher } from '../lib/Hasher';\nimport { WordArray } from '../lib/WordArray';\n\n// Initialization and round constants tables\nconst H: Array<number> = [];\nconst K: Array<number> = [];\n\n// Reusable object\nconst W: Array<number> = [];\n\nexport class SHA256 extends Hasher {\n    public _hash!: WordArray;\n\n    public reset() {\n        // reset core values\n        super.reset();\n\n        this._hash = new WordArray(H.slice(0));\n    }\n\n    public _doProcessBlock(M: Array<number>, offset: number) {\n        // Shortcut\n        const Hl = this._hash.words;\n\n        // Working variables\n        let a = Hl[0];\n        let b = Hl[1];\n        let c = Hl[2];\n        let d = Hl[3];\n        let e = Hl[4];\n        let f = Hl[5];\n        let g = Hl[6];\n        let h = Hl[7];\n\n        // Computation\n        for(let i = 0; i < 64; i++) {\n            if(i < 16) {\n                W[i] = M[offset + i] | 0;\n            } else {\n                const gamma0x = W[i - 15];\n                const gamma0  = ((gamma0x << 25) | (gamma0x >>> 7))  ^\n                              ((gamma0x << 14) | (gamma0x >>> 18)) ^\n                               (gamma0x >>> 3);\n\n                const gamma1x = W[i - 2];\n                const gamma1  = ((gamma1x << 15) | (gamma1x >>> 17)) ^\n                              ((gamma1x << 13) | (gamma1x >>> 19)) ^\n                               (gamma1x >>> 10);\n\n                W[i] = gamma0 + W[i - 7] + gamma1 + W[i - 16];\n            }\n\n            const ch  = (e & f) ^ (~e & g);\n            const maj = (a & b) ^ (a & c) ^ (b & c);\n\n            const sigma0 = ((a << 30) | (a >>> 2)) ^ ((a << 19) | (a >>> 13)) ^ ((a << 10) | (a >>> 22));\n            const sigma1 = ((e << 26) | (e >>> 6)) ^ ((e << 21) | (e >>> 11)) ^ ((e << 7)  | (e >>> 25));\n\n            const t1 = h + sigma1 + ch + K[i] + W[i];\n            const t2 = sigma0 + maj;\n\n            h = g;\n            g = f;\n            f = e;\n            e = (d + t1) | 0;\n            d = c;\n            c = b;\n            b = a;\n            a = (t1 + t2) | 0;\n        }\n\n        // Intermediate hash value\n        Hl[0] = (Hl[0] + a) | 0;\n        Hl[1] = (Hl[1] + b) | 0;\n        Hl[2] = (Hl[2] + c) | 0;\n        Hl[3] = (Hl[3] + d) | 0;\n        Hl[4] = (Hl[4] + e) | 0;\n        Hl[5] = (Hl[5] + f) | 0;\n        Hl[6] = (Hl[6] + g) | 0;\n        Hl[7] = (Hl[7] + h) | 0;\n    }\n\n    public _doFinalize(): WordArray {\n        const nBitsTotal = this._nDataBytes * 8;\n        const nBitsLeft = this._data.sigBytes * 8;\n\n        // Add padding\n        this._data.words[nBitsLeft >>> 5] |= 0x80 << (24 - nBitsLeft % 32);\n        this._data.words[(((nBitsLeft + 64) >>> 9) << 4) + 14] = Math.floor(nBitsTotal / 0x100000000);\n        this._data.words[(((nBitsLeft + 64) >>> 9) << 4) + 15] = nBitsTotal;\n        this._data.sigBytes = this._data.words.length * 4;\n\n        // Hash final blocks\n        this._process();\n\n        // Return final computed hash\n        return this._hash;\n    }\n}","import { BlockCipherModeAlgorithm } from './BlockCipherModeAlgorithm';\n\nexport class ECBEncryptor extends BlockCipherModeAlgorithm {\n    /**\n     * Processes the data block at offset.\n     *\n     * @param words The data words to operate on.\n     * @param offset The offset where the block starts.\n     *\n     * @example\n     *\n     *     mode.processBlock(data.words, offset);\n     */\n    public processBlock(words: Array<number>, offset: number) {\n        this._cipher.encryptBlock(words, offset);\n    }\n}","import { BlockCipherModeAlgorithm } from './BlockCipherModeAlgorithm';\n\nexport class ECBDecryptor extends BlockCipherModeAlgorithm {\n    /**\n     * Processes the data block at offset.\n     *\n     * @param words The data words to operate on.\n     * @param offset The offset where the block starts.\n     *\n     * @example\n     *\n     *     mode.processBlock(data.words, offset);\n     */\n    public processBlock(words: Array<number>, offset: number) {\n        this._cipher.decryptBlock(words, offset);\n    }\n}","import { BlockCipherMode } from './BlockCipherMode';\nimport { ECBEncryptor } from './ECBEncryptor';\nimport { ECBDecryptor } from './ECBDecryptor';\n\n/**\n * Cipher Block Chaining mode.\n */\nexport abstract class ECB extends BlockCipherMode {\n    public static Encryptor: typeof ECBEncryptor = ECBEncryptor;\n\n    public static Decryptor: typeof ECBDecryptor = ECBDecryptor;\n}","// DEPENDENCIES ////////////////////////////////////////////////////////////////////////////////////\n\n// import indirectly referenced declarations\nimport { BufferedBlockAlgorithmConfig } from './lib/BufferedBlockAlgorithmConfig';\n\n// LIB /////////////////////////////////////////////////////////////////////////////////////////////\n\nimport { WordArray } from './lib/WordArray';\nimport { BlockCipher } from './lib/BlockCipher';\nimport { CipherParams } from './lib/CipherParams';\nimport { Hasher } from './lib/Hasher';\nimport { SerializableCipher } from './lib/SerializableCipher';\nimport { PasswordBasedCipher } from './lib/PasswordBasedCipher';\n\nexport const lib = {\n    BlockCipher: BlockCipher,\n    WordArray: WordArray,\n    CipherParams: CipherParams,\n    Hasher: Hasher,\n    SerializableCipher: SerializableCipher,\n    PasswordBasedCipher: PasswordBasedCipher\n};\n\n// ALGORITHMS //////////////////////////////////////////////////////////////////////////////////////\n\nimport { AES as AESAlgorithm } from './algo/AES';\nimport { SHA256 as SHA256Algorithm } from './algo/SHA256';\n\nexport const algo = {\n    AES: AESAlgorithm,\n    SHA256: SHA256Algorithm\n};\n\n// ENCODINGS ///////////////////////////////////////////////////////////////////////////////////////\n\nimport { Utf8 } from './enc/Utf8';\nimport { Hex } from './enc/Hex';\n\nexport const enc = {\n    Utf8: Utf8,\n    Hex: Hex\n};\n\n// PADDING /////////////////////////////////////////////////////////////////////////////////////////\n\nimport { NoPadding } from './pad/NoPadding';\nimport { PKCS7 } from './pad/PKCS7';\n\nexport const pad = {\n    NoPadding: NoPadding,\n    PKCS7: PKCS7\n};\n\n// MODES ///////////////////////////////////////////////////////////////////////////////////////////\n\nimport { CBC } from './mode/CBC';\nimport { ECB } from './mode/ECB';\n\nexport const mode = {\n    CBC: CBC,\n    ECB: ECB\n};\n\n// HELPERS /////////////////////////////////////////////////////////////////////////////////////////\n\nexport const AES = lib.BlockCipher._createHelper(algo.AES);\nexport const SHA256 = lib.Hasher._createHelper(algo.SHA256);","import { AES, enc } from 'crypto-ts'\n\nexport class CryptoHelper {\n  public static encrypt(data: any, secretKey: string): string {\n    const originalText = JSON.stringify(data)\n    const cipherText = AES.encrypt(originalText, secretKey).toString()\n    return cipherText\n  }\n\n  public static decrypt(cipherText: string, secretKey: string): any {\n    const bytes = AES.decrypt(cipherText, secretKey)\n    const originalText = bytes.toString(enc.Utf8)\n    const data = JSON.parse(originalText)\n    return data\n  }\n\n  public static randomString(stringLength?: number): string {\n    if (!stringLength) {\n      stringLength = 128\n    }\n    const chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz'\n    let randomString = ''\n    for (let i = 0; i < stringLength; i++) {\n      let rnum = Math.floor(Math.random() * chars.length)\n      randomString += chars.substring(rnum, rnum + 1)\n    }\n    return randomString\n  }\n}\n","// Import here Polyfills if needed. Recommended core-js (npm i -D core-js)\n// import \"core-js/fn/array.find\"\n// ...\n\n// import { FrameHelper } from './frameHelper'\nimport { blobToBase64String } from 'blob-util'\nimport { IMicroblink } from './microblink.interface'\nimport { IMicroblinkApi } from './microblinkApi.interface'\nimport MicroblinkApi from './microblinkApi.service'\nimport { Observable } from 'rxjs/internal/Observable'\nimport { Observer } from 'rxjs/internal/types'\nimport {\n  ScanInputFile,\n  ScanInputFrame,\n  ScanListener,\n  ScanOutput,\n  StatusCodes,\n  ScanInputFrameWithQuality,\n  ScanExchanger,\n  ScanExchangerCodes\n} from './microblink.types'\nimport { FrameHelper } from './frameHelper'\nimport { ScanExchangeHelper } from './scanExchangeHelper'\nimport { CryptoHelper } from './cryptoHelper'\n\ndeclare var firebase: any\n\nexport default class Microblink implements IMicroblink {\n  private static fromHowManyFramesQualityCalculateBestFrame = 5\n\n  private API: IMicroblinkApi\n  private recognizers: string | string[] = []\n  private authorizationHeader: string = ''\n  private exportImages: boolean | string | string[] = false\n  private exportFullDocumentImage: boolean = false\n  private exportSignatureImage: boolean = false\n  private exportFaceImage: boolean = false\n  private detectGlare: boolean = false\n  private allowBlurFilter: boolean = false\n  private anonymizeNetherlandsMrz: boolean = false\n  private anonymizeCardNumber: boolean = false\n  private anonymizeIban: boolean = false\n  private anonymizeCvv: boolean = false\n  private anonymizeOwner: boolean = false\n  private listeners: ScanListener[] = []\n  private scanFrameQueue: ScanInputFrameWithQuality[] = []\n  private endpoint: string = ''\n\n  constructor() {\n    this.API = new MicroblinkApi()\n  }\n\n  /**\n   * Terminate all active requests (pending responses)\n   */\n  TerminateActiveRequests(): void {\n    this.API.TerminateAll()\n    // Clear scan frame queue if it is not empty\n    this.scanFrameQueue = []\n  }\n\n  /**\n   * Register global success and/or error listener(s)\n   */\n  RegisterListener(scanListener: ScanListener): void {\n    this.listeners.push(scanListener)\n  }\n\n  /**\n   * Scan file and get result from subscribed observable\n   */\n  ScanFile(\n    scanInputFile: ScanInputFile,\n    uploadProgress?: EventListener | undefined\n  ): Observable<ScanOutput> {\n    return this.scan(scanInputFile.blob, true)\n  }\n\n  /**\n   * Push file to SCAN queue, global listener(s) will handle the result\n   */\n  SendFile(scanInputFile: ScanInputFile, uploadProgress?: EventListener): void {\n    // Call observable with empty callback because global listener will handle result\n    // NOTE: error callback should be defined to handle Uncaught exception\n    // tslint:disable-next-line:no-empty\n    this.scan(scanInputFile.blob, true, uploadProgress).subscribe(\n      () => {\n        /** */\n      },\n      () => {\n        /** */\n      }\n    )\n  }\n\n  /**\n   * Push video frame to SCAN queue, global listener(s) will handle the result\n   */\n  SendFrame(scanInputFrame: ScanInputFrame): void {\n    // Get frame quality estimatior\n    const frameQuality = FrameHelper.getFrameQuality(scanInputFrame.pixelData)\n\n    // Add the frame with quality to the scan queue\n    this.scanFrameQueue.push({ frame: scanInputFrame, quality: frameQuality })\n\n    // Skip finding of best frame if queue is not full with enough number of frames\n    if (this.scanFrameQueue.length < Microblink.fromHowManyFramesQualityCalculateBestFrame) {\n      return\n    }\n\n    // Find video frame with best quality\n    let bestQuality = 0\n    let bestFrame: ScanInputFrame | undefined\n    this.scanFrameQueue.forEach(scanFrame => {\n      if (scanFrame.quality > bestQuality) {\n        bestQuality = scanFrame.quality\n        bestFrame = scanFrame.frame\n      }\n    })\n\n    // Clear scan frame queue\n    this.scanFrameQueue = []\n\n    if (bestFrame !== undefined) {\n      // Call observable with empty callback because global listener will handle result\n      // NOTE: error callback should be defined to handle Uncaught exception\n      // tslint:disable-next-line:no-empty\n      this.scan(bestFrame.blob, false).subscribe(\n        () => {\n          /** */\n        },\n        () => {\n          /** */\n        }\n      )\n    }\n  }\n\n  /**\n   * Set recognizers which will be used in next SCAN(s)\n   */\n  SetRecognizers(recognizers: string | string[]): void {\n    this.recognizers = recognizers\n\n    let event = new CustomEvent('recognizersUpdated', {\n      detail: { recognizers: this.recognizers },\n      cancelable: true,\n      bubbles: true\n    })\n    document.dispatchEvent(event)\n  }\n\n  /**\n   * Get defined recognizers\n   */\n  GetRecognizers(): string | string[] {\n    return this.recognizers\n  }\n\n  /**\n   * Set authorization header value to authorize with https://api.microblink.com/recognize\n   */\n  SetAuthorization(authorizationHeader: string): void {\n    this.authorizationHeader = authorizationHeader\n    this.API.SetAuthorization(authorizationHeader)\n  }\n\n  /**\n   * Get defined authorization header\n   */\n  GetAuthorization(): string {\n    return this.authorizationHeader\n  }\n\n  /**\n   * Change which images to export for next request\n   * @param exportImages is either a boolean flag which describes whether API should return extracted images in next response or an array of API properties\n   */\n  SetExportImages(exportImages: boolean | string | string[]): void {\n    this.exportImages = exportImages\n    this.API.SetExportImages(exportImages)\n  }\n\n  /**\n   * Change which images to export for next request\n   * @param exportFullDocumentImage is a boolean flag which describes whether API should return extracted full document image in next response\n   */\n  SetExportFullDocumentImage(exportFullDocumentImage: boolean): void {\n    this.exportFullDocumentImage = exportFullDocumentImage\n    this.API.SetExportFullDocumentImage(exportFullDocumentImage)\n  }\n\n  /**\n   * Change which images to export for next request\n   * @param exportSignatureImage is a boolean flag which describes whether API should return extracted signature image in next response\n   */\n  SetExportSignatureImage(exportSignatureImage: boolean): void {\n    this.exportSignatureImage = exportSignatureImage\n    this.API.SetExportSignatureImage(exportSignatureImage)\n  }\n\n  /**\n   * Change which images to export for next request\n   * @param exportFaceImage is a boolean flag which describes whether API should return extracted face image in next response\n   */\n  SetExportFaceImage(exportFaceImage: boolean): void {\n    this.exportFaceImage = exportFaceImage\n    this.API.SetExportFaceImage(exportFaceImage)\n  }\n\n  /**\n   * Set detect glare option for next request\n   * @param detectGlare is a boolean flag which describes whether API should return null for image segments where glare is detected\n   */\n  SetDetectGlare(detectGlare: boolean): void {\n    this.detectGlare = detectGlare\n    this.API.SetDetectGlare(detectGlare)\n  }\n\n  /**\n   * Set allow blur filter option for next request\n   * @param allowBlurFilter is a boolean flag which describes whether API should return null for image segments where blur is detected\n   */\n  SetAllowBlurFilter(allowBlurFilter: boolean): void {\n    this.allowBlurFilter = allowBlurFilter\n    this.API.SetAllowBlurFilter(allowBlurFilter)\n  }\n\n  /**\n   * Set endpoint for next SCAN(s)\n   * Default value is https://api.microblink.com/recognize\n   * Endpoint should be changed when backend proxy which is credentials keeper is using as proxy between\n   * Microblink SaaS API and frontend application which uses this library.\n   */\n  SetEndpoint(endpoint: string): void {\n    this.endpoint = endpoint\n    this.API.SetEndpoint(endpoint)\n  }\n\n  /**\n   * Set anonymize card number (works on BLINK_CARD recognizer) for next request\n   * @param anonymizeCardNumber is a boolean flag which describes whether API should return a base64 image of the scanned card with the card number anonymized\n   */\n  SetAnonymizeCardNumber(anonymizeCardNumber: boolean): void {\n    this.anonymizeCardNumber = anonymizeCardNumber\n    this.API.SetAnonymizeCardNumber(anonymizeCardNumber)\n  }\n\n  /**\n   * Set anonymize IBAN (works on BLINK_CARD recognizer) for next request\n   * @param anonymizeIbanNumber is a boolean flag which describes whether API should return a base64 image of the scanned card with the IBAN number anonymized\n   */\n  SetAnonymizeIban(anonymizeIban: boolean): void {\n    this.anonymizeIban = anonymizeIban\n    this.API.SetAnonymizeIban(anonymizeIban)\n  }\n\n  /**\n   * Set anonymize cvv (works on BLINK_CARD recognizer) for next request\n   * @param anonymizeCvv is a boolean flag which describes whether API should return a base64 image of the scanned card with the cvv number anonymized\n   */\n  SetAnonymizeCvv(anonymizeCvv: boolean): void {\n    this.anonymizeCvv = anonymizeCvv\n    this.API.SetAnonymizeCvv(anonymizeCvv)\n  }\n\n  /**\n   * Set anonymize owner (works on BLINK_CARD recognizer) for next request\n   * @param anonymizeOwner is a boolean flag which describes whether API should return a base64 image of the scanned card with the owner name anonymized\n   */\n  SetAnonymizeOwner(anonymizeOwner: boolean): void {\n    this.anonymizeOwner = anonymizeOwner\n    this.API.SetAnonymizeOwner(anonymizeOwner)\n  }\n\n  /**\n   * Set user identificator which will be stored with uploaded image\n   * @param userId is any string which unique identifies user who use SDK and upload any image to API\n   */\n  SetUserId(userId: string): void {\n    this.API.SetUserId(userId)\n  }\n\n  /**\n   * When Authorization is not set it is available to disable persiting of uploaded data, by default it is enabled\n   * this should be disabled for every page where GDPR is not implemented and this is ability to disable data persisting\n   * on some demo pages\n   * @param isEnabled is flag which describes should or should not API persist uploaded data, be default it is enabled\n   */\n  SetIsDataPersistingEnabled(isEnabled: boolean): void {\n    this.API.SetIsDataPersistingEnabled(isEnabled)\n  }\n\n  /**\n   * Set anonymize netherlandsMrz (works on BLINK_CARD recognizer) for next request\n   * @param anonymizeNetherlandsMrz is a boolean flag which describes whether API should return a base64 image of the scanned card with the netherlands MRZ anonymized\n   */\n  SetAnonymizeNetherlandsMrz(anonymizeNetherlandsMrz: boolean): void {\n    this.anonymizeNetherlandsMrz = anonymizeNetherlandsMrz\n    this.API.SetAnonymizeNetherlandsMrz(anonymizeNetherlandsMrz)\n  }\n\n  /**\n   * Check is all requirement for desktop-to-mobile feature are available\n   */\n  async IsDesktopToMobileAvailable(): Promise<boolean> {\n    return this.isDesktopToMobileAvailable()\n  }\n\n  /**\n   * Check if any recognizer is set in the recognizers array\n   */\n  IsRecognizerArraySet(): boolean {\n    if (this.recognizers) {\n      if (this.recognizers.constructor === Array) {\n        if (this.recognizers.length > 0) {\n          return true\n        } else {\n          return false\n        }\n      }\n      return true\n    }\n    return false\n  }\n\n  /**\n   * Create object for exchange data for scan between devices\n   * @param data is object with optional data which will be added to the ScanExchanger object\n   */\n  async CreateScanExchanger(\n    data: ScanExchanger,\n    onChange: (data: ScanExchanger) => void\n  ): Promise<any> {\n    // Get recognizers, authorizationHeader, images to export, and glare detection option from remote request\n    data.recognizers = this.recognizers\n    data.authorizationHeader = this.authorizationHeader // it is encrypted\n    data.exportImages = this.exportImages\n    data.exportFullDocumentImage = this.exportFullDocumentImage\n    data.exportSignatureImage = this.exportSignatureImage\n    data.exportFaceImage = this.exportFaceImage\n    data.detectGlare = this.detectGlare\n    data.allowBlurFilter = this.allowBlurFilter\n    data.anonymizeCardNumber = this.anonymizeCardNumber\n    data.anonymizeIban = this.anonymizeIban\n    data.anonymizeCvv = this.anonymizeCvv\n    data.anonymizeOwner = this.anonymizeOwner\n    data.endpoint = this.endpoint\n    data.anonymizeNetherlandsMrz = this.anonymizeNetherlandsMrz\n\n    // Generate Secret key\n    // Generate random 32 long string\n    const secretKey = CryptoHelper.randomString(32)\n    // Key should be part of object during creating shortUrl, Firebase Function will read key, generate link\n    // and delete key set in plain string\n    data.key = secretKey\n\n    // Encrypt authorizationHeader\n    data.authorizationHeader = CryptoHelper.encrypt(data.authorizationHeader, secretKey)\n\n    // Create exchange object at Firestore\n    const scanAsPromise = ScanExchangeHelper.createScanExchanger(data)\n\n    // Fetch exchange object\n    const scan: any = await scanAsPromise\n\n    // Listen for data from Firestore\n    const unsubscribe = scan.onSnapshot(async (scanDoc: any) => {\n      // Get data as JSON\n      const scanDocData = scanDoc.data()\n\n      // if (scanDocData.status === ScanExchangerCodes.Step01_RemoteCameraIsRequested) {\n      // }\n\n      if (\n        scanDocData.status === ScanExchangerCodes.Step02_ExchangeLinkIsGenerated &&\n        scanDocData.shortLink\n      ) {\n        const qrCodeAsBase64 = await ScanExchangeHelper.generateQRCode(scanDocData.shortLink)\n        scanDocData.qrCodeAsBase64 = qrCodeAsBase64\n      }\n\n      if (\n        scanDocData.status === ScanExchangerCodes.Step07_ResultIsAvailable &&\n        (scanDocData.result || scanDocData.resultUrl)\n      ) {\n        let scanResultDec\n        if (scanDocData.result) {\n          scanResultDec = CryptoHelper.decrypt(scanDocData.result, secretKey)\n        } else if (scanDocData.resultUrl) {\n          const resultUrl = CryptoHelper.decrypt(scanDocData.resultUrl, secretKey)\n          const response = await fetch(resultUrl)\n          const blob = await response.blob()\n          const text = await blobToBase64String(blob)\n          scanDocData.result = text\n          scanResultDec = CryptoHelper.decrypt(text, secretKey)\n          firebase\n            .storage()\n            .refFromURL(resultUrl)\n            .delete()\n        }\n        // Notify success listeners\n        this.notifyOnSuccessListeners({ result: scanResultDec, sourceBlob: null }, true)\n\n        // After successfully read 'result', remove it from the Firestore\n        scan.update({\n          result: null,\n          resultUrl: null\n        })\n\n        // External integrator should decide when to unsubscribe!\n        // On Successful results, stop listening to changes\n        // unsubscribe()\n      }\n\n      // Error handling\n      if (scanDocData.status === ScanExchangerCodes.ErrorHappened && scanDocData.error) {\n        // Notify error listeners\n        this.notifyOnErrorListeners(scanDocData.error)\n      }\n\n      // Send onUpdate callback\n      onChange(scanDocData)\n    })\n\n    // Return scan object subscription to enable external unsubscribe\n    return unsubscribe\n  }\n\n  private async isDesktopToMobileAvailable() {\n    try {\n      // Try to fetch any document\n      await firebase\n        .app()\n        .firestore()\n        .doc('scans/any-document')\n        .get()\n    } catch (err) {\n      // Only if Firestore is not available then desktop-to-mobile is not available\n      if (err.name === 'FirebaseError' && err.code === 'unavailable') {\n        /*\n        console.error(\n          'Microblink.SDK: feature desktop-to-mobile is not available because connection to the Firebase.Firestore is not available!'\n        )\n        */\n        return false\n      } else {\n        // console.log('IsDesktopToMobileAvailable.error', err)\n      }\n    }\n    return true\n  }\n\n  /**\n   * Notify all global listeners when success scan is complete\n   */\n  private notifyOnSuccessListeners(scanOutput: ScanOutput, isFileScan: boolean): void {\n    const data: any = scanOutput.result.data\n    let isSuccessfulResponse = false\n\n    // check if it is fetched data array of results\n    if (Array.isArray(data)) {\n      data.forEach(resultItem => {\n        if (resultItem.result) {\n          isSuccessfulResponse = true\n        }\n      })\n    } else {\n      // otherwise it is returned result as object\n      const result = data.result\n      if (result) {\n        isSuccessfulResponse = true\n      }\n    }\n\n    // when success response is received then terminate active requests and return results\n    if (isSuccessfulResponse || isFileScan) {\n      // Active requests can only exists if it is video frame scan\n      if (!isFileScan) {\n        this.TerminateActiveRequests()\n      }\n\n      this.listeners.forEach(listener => {\n        if (listener.onScanSuccess) {\n          listener.onScanSuccess(scanOutput)\n        }\n      })\n    }\n  }\n\n  /**\n   * Notify all global listeners when error happens, HTTP response status code is not equal to 200 or\n   * base64 encode failed\n   */\n  private notifyOnErrorListeners(err: any): void {\n    this.TerminateActiveRequests()\n\n    // Make silent if JSON is not prasable because this error will happen when request is aborted\n    if (err.code === StatusCodes.ResultIsNotValidJSON) {\n      return\n    }\n\n    this.listeners.forEach(listener => {\n      if (listener.onScanError) {\n        listener.onScanError(err)\n      }\n    })\n  }\n\n  /**\n   * Execute scan on Microblink API service\n   */\n  private scan(\n    blob: Blob,\n    isFileScan: boolean,\n    uploadProgress?: EventListener\n  ): Observable<ScanOutput> {\n    return new Observable((observer: Observer<ScanOutput>) => {\n      blobToBase64String(blob)\n        .then(blobAsBase64String => {\n          this.API.Recognize(this.recognizers, blobAsBase64String, uploadProgress).subscribe(\n            result => {\n              const output = { sourceBlob: blob, result: result }\n              this.notifyOnSuccessListeners(output, isFileScan)\n              observer.next(output)\n              observer.complete()\n            },\n            err => {\n              if (err) {\n                this.notifyOnErrorListeners(err)\n                observer.error(err)\n              }\n            }\n          )\n        })\n        .catch(err => {\n          this.notifyOnErrorListeners(err)\n          observer.error(err)\n        })\n    })\n  }\n}\n","import Microblink from './microblink'\nimport { Observable } from 'rxjs/internal/Observable'\nimport {\n  ScanListener,\n  ScanOutput,\n  ScanInputFile,\n  ScanInputFrame,\n  StatusCodes as statusCodes,\n  ScanExchanger,\n  ScanExchangerCodes as scanExchangerCodes,\n  ExportImageTypes as exportImageTypes\n} from './microblink.SDK.types'\nimport { IMicroblink } from './microblink.interface'\nimport { CryptoHelper } from './cryptoHelper'\n\n/**\n * Helper for detecting ScanInputFrame type\n */\nfunction IsScanInputFrame(scanInput: ScanInputFile | ScanInputFrame): boolean {\n  return !!(scanInput as ScanInputFrame).pixelData\n}\n\n/**\n * NOTE: This is public SDK API, rename of this functions will produce backward incompatible API!\n */\n\nexport namespace SDK {\n  const SDK: IMicroblink = new Microblink()\n\n  /**\n   * Scan image and get result from subscribed observable\n   */\n  export function ScanImage(\n    scanInput: ScanInputFile,\n    uploadProgress?: EventListener\n  ): Observable<ScanOutput> {\n    return SDK.ScanFile(scanInput, uploadProgress)\n  }\n\n  /**\n   * Register global listener success and/or error callback\n   */\n  export function RegisterListener(scanListener: ScanListener): void {\n    SDK.RegisterListener(scanListener)\n  }\n\n  /**\n   * Push image (file or video frame) to scanning queue, results will be handled by global listener(s)\n   */\n  export function SendImage(\n    scanInput: ScanInputFile | ScanInputFrame,\n    uploadProgress?: EventListener\n  ): void {\n    if (IsScanInputFrame(scanInput)) {\n      return SDK.SendFrame(scanInput as ScanInputFrame)\n    } else {\n      return SDK.SendFile(scanInput as ScanInputFile, uploadProgress)\n    }\n  }\n\n  /**\n   * Set recognizers which will be used in next request\n   */\n  export function SetRecognizers(recognizers: string | string[]): void {\n    SDK.SetRecognizers(recognizers)\n  }\n\n  /**\n   * Get recognizers which are defined in the SDK\n   */\n  // export function GetRecognizers(): string | string[] {\n  //   return SDK.GetRecognizers()\n  // }\n\n  /**\n   * Set authorization header which will be used in next request\n   * @param authorizationHeader is authorization header with apiKey and apiSecret which should be generated\n   * here: https://microblink.com/customer/api\n   */\n  export function SetAuthorization(authorizationHeader: string): void {\n    SDK.SetAuthorization(authorizationHeader)\n  }\n\n  /**\n   * Get authorization header which is defined in the SDK\n   */\n  // export function GetAuthorization(): string {\n  //   return SDK.GetAuthorization()\n  // }\n\n  /**\n   * Change which images to export for next request\n   * @param exportImages is either a boolean flag which describes whether API should return extracted images in next response or an array of API properties\n   */\n  export function SetExportImages(exportImages: boolean | string | string[]): void {\n    SDK.SetExportImages(exportImages)\n  }\n\n  /**\n   * Change which images to export for next request\n   * @param exportFullDocumentImage is a boolean flag which describes whether API should return extracted full document image in next response\n   */\n  export function SetExportFullDocumentImage(exportFullDocumentImage: boolean): void {\n    SDK.SetExportFullDocumentImage(exportFullDocumentImage)\n  }\n\n  /**\n   * Change which images to export for next request\n   * @param exportSignatureImage is a boolean flag which describes whether API should return extracted signature image in next response\n   */\n  export function SetExportSignatureImage(exportSignatureImage: boolean): void {\n    SDK.SetExportSignatureImage(exportSignatureImage)\n  }\n\n  /**\n   * Change which images to export for next request\n   * @param exportFaceImage is a boolean flag which describes whether API should return extracted face image in next response\n   */\n  export function SetExportFaceImage(exportFaceImage: boolean): void {\n    SDK.SetExportFaceImage(exportFaceImage)\n  }\n\n  /**\n   * Set detect glare option for next request\n   * @param detectGlare is a boolean flag which describes whether API should return null for image segments where glare is detected\n   */\n  export function SetDetectGlare(detectGlare: boolean): void {\n    SDK.SetDetectGlare(detectGlare)\n  }\n\n  /**\n   * Set allow blur filter option for next request\n   * @param allowBlurFilter is a boolean flag which describes whether API should return null for image segments where blur is detected\n   */\n  export function SetAllowBlurFilter(allowBlurFilter: boolean): void {\n    SDK.SetAllowBlurFilter(allowBlurFilter)\n  }\n\n  /**\n   * Set HTTP API endpoint for next request\n   */\n  export function SetEndpoint(endpoint: string): void {\n    SDK.SetEndpoint(endpoint)\n  }\n\n  /**\n   * Set anonymize card number (works on BLINK_CARD recognizer) for next request\n   * @param anonymizeCardNumber is a boolean flag which describes whether API should return a base64 image of the scanned card with the card number anonymized\n   */\n  export function SetAnonymizeCardNumber(anonymizeCardNumber: boolean): void {\n    SDK.SetAnonymizeCardNumber(anonymizeCardNumber)\n  }\n\n  /**\n   * Set anonymize IBAN (works on BLINK_CARD recognizer) for next request\n   * @param anonymizeIbanNumber is a boolean flag which describes whether API should return a base64 image of the scanned card with the card number anonymized\n   */\n  export function SetAnonymizeIban(anonymizeIban: boolean): void {\n    SDK.SetAnonymizeIban(anonymizeIban)\n  }\n\n  /**\n   * Set anonymize cvv (works on BLINK_CARD recognizer) for next request\n   * @param anonymizeCvv is a boolean flag which describes whether API should return a base64 image of the scanned card with the cvv number anonymized\n   */\n  export function SetAnonymizeCvv(anonymizeCvv: boolean): void {\n    SDK.SetAnonymizeCvv(anonymizeCvv)\n  }\n\n  /**\n   * Set anonymize owner (works on BLINK_CARD recognizer) for next request\n   * @param anonymizeOwner is a boolean flag which describes whether API should return a base64 image of the scanned card with the owner name anonymized\n   */\n  export function SetAnonymizeOwner(anonymizeOwner: boolean): void {\n    SDK.SetAnonymizeOwner(anonymizeOwner)\n  }\n\n  /**\n   * Set anonymize netherlandsMrz (works on BLINK_CARD recognizer) for next request\n   * @param anonymizeNetherlandsMrz is a boolean flag which describes whether API should return a base64 image of the scanned card with the netherlands MRZ anonymized\n   */\n  export function SetAnonymizeNetherlandsMrz(anonymizeNetherlandsMrz: boolean): void {\n    SDK.SetAnonymizeNetherlandsMrz(anonymizeNetherlandsMrz)\n  }\n\n  /**\n   * Terminate all queued HTTP requests.\n   * This is useful when images are sending from camera video stream in ms time periods and when successful\n   * result is received then all pending requests could be terminated, this should be primary used for application\n   * performance improvements, to break all HTTP connections which will return redundant results\n   */\n  export function TerminateRequest(): void {\n    SDK.TerminateActiveRequests()\n  }\n\n  /**\n   * Set unique user ID which will be stored with uploaded image to associate image with user who uploaded the image\n   * @param userId is string user identificator, recommended it to be an user's email because when delete request is sent by this email, all images associated with this email will be permanentally removed if it is stored on upload, not every image will be stored, this depends on other API key options\n   */\n  export function SetUserId(userId: string): void {\n    SDK.SetUserId(userId)\n  }\n\n  /**\n   * When Authorization is not set it is available to disable persiting of uploaded data, by default it is enabled\n   * this should be disabled for every page where GDPR is not implemented and this is ability to disable data persisting\n   * on some demo pages\n   * @param isEnabled is flag which describes should or should not API persist uploaded data, be default it is enabled\n   */\n  export function SetIsDataPersistingEnabled(isEnabled: boolean): void {\n    SDK.SetIsDataPersistingEnabled(isEnabled)\n  }\n\n  /**\n   * Get all SDK status codes\n   */\n  export const StatusCodes = statusCodes\n\n  /**\n   * Create object to exchange data between devices\n   * @param data is object with ScanExchanger structure\n   */\n  export function CreateScanExchanger(\n    data: ScanExchanger = {},\n    onUpdate: (data: ScanExchanger) => void\n  ): any {\n    return SDK.CreateScanExchanger(data, onUpdate)\n  }\n\n  /**\n   * Get all Scan exchanger status codes\n   */\n  export const ScanExchangerCodes = scanExchangerCodes\n\n  /**\n   * Get all export image types\n   */\n  export const ExportImageTypes = exportImageTypes\n\n  /**\n   * Decrypt protected object\n   * @param dataEncrypted is encrypted object as string\n   * @param key is secret key with which data will be decrypted\n   */\n  export function Decrypt(dataEncrypted: string, key: string) {\n    return CryptoHelper.decrypt(dataEncrypted, key)\n  }\n\n  /**\n   * Protect plain object\n   * @param data is plain object\n   * @param key us secret key with which data will be encrypted\n   */\n  export function Encrypt(data: any, key: string) {\n    return CryptoHelper.encrypt(data, key)\n  }\n\n  /**\n   * Check if all requirements for desktop-to-mobile feature are available\n   */\n  export async function IsDesktopToMobileAvailable(): Promise<boolean> {\n    return SDK.IsDesktopToMobileAvailable()\n  }\n\n  /**\n   * Check if any recognizer is set in the recognizers array\n   */\n  export function IsRecognizerArraySet(): boolean {\n    return SDK.IsRecognizerArraySet()\n  }\n}\n"],"names":["config_1","UnsubscriptionError_1","isArray_1","Observer_1","rxSubscriber_1","observable","observable_1","Observable","tslib_1.__extends","AESAlgorithm","SHA256Algorithm","AES","SHA256","statusCodes","scanExchangerCodes","exportImageTypes"],"mappings":"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G,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,CAAC,EAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,CAAC,EAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,WAAW,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,WAAW,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,WAAW,EAAE,CAAC,EAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,WAAW,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,WAAW,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,WAAW,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAE/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,CAAC,EAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,CAAC,EAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,WAAW,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,CAAC,EAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,WAAW,EAAE,CAAC,EAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,WAAW,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,CAAC,EAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,WAAW,EAAE,CAAC,EAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,WAAW,EAAE,CAAC,EAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,CAAC,EAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,WAAW,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAE/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,CAAC,EAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,WAAW,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,WAAW,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,CAAC,EAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,WAAW,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,WAAW,EAAE,CAAC,EAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,CAAC,EAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,WAAW,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,WAAW,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAE/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,CAAC,EAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,WAAW,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,WAAW,EAAE,CAAC,EAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,WAAW,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,CAAC,EAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,WAAW,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAG,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,WAAW,EAAE,EAAE,EAAE,CAAC,C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"}